function _mergeNamespaces(r,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(r){const t=Object.create(null);for(const n of r.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),isModelListener=r=>r.startsWith("onUpdate:"),extend$1=Object.assign,remove=(r,t)=>{const n=r.indexOf(t);n>-1&&r.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(r,t)=>hasOwnProperty$1.call(r,t),isArray$1=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isDate=r=>toTypeString(r)==="[object Date]",isFunction$1=r=>typeof r=="function",isString$1=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject$3=r=>r!==null&&typeof r=="object",isPromise=r=>(isObject$3(r)||isFunction$1(r))&&isFunction$1(r.then)&&isFunction$1(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject$1=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString$1(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const t=Object.create(null);return(n=>t[n]||(t[n]=r(n)))},camelizeRE=/-\w/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,t=>t.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,t)=>!Object.is(r,t),invokeArrayFns=(r,...t)=>{for(let n=0;n<r.length;n++)r[n](...t)},def=(r,t,n,i=!1)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,writable:i,value:n})},looseToNumber=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(r){if(isArray$1(r)){const t={};for(let n=0;n<r.length;n++){const i=r[n],a=isString$1(i)?parseStringStyle(i):normalizeStyle$1(i);if(a)for(const o in a)t[o]=a[o]}return t}else if(isString$1(r)||isObject$3(r))return r}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(r){const t={};return r.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const i=n.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(r){let t="";if(isString$1(r))t=r;else if(isArray$1(r))for(let n=0;n<r.length;n++){const i=normalizeClass(r[n]);i&&(t+=i+" ")}else if(isObject$3(r))for(const n in r)r[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}function looseCompareArrays(r,t){if(r.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<r.length;i++)n=looseEqual(r[i],t[i]);return n}function looseEqual(r,t){if(r===t)return!0;let n=isDate(r),i=isDate(t);if(n||i)return n&&i?r.getTime()===t.getTime():!1;if(n=isSymbol(r),i=isSymbol(t),n||i)return r===t;if(n=isArray$1(r),i=isArray$1(t),n||i)return n&&i?looseCompareArrays(r,t):!1;if(n=isObject$3(r),i=isObject$3(t),n||i){if(!n||!i)return!1;const a=Object.keys(r).length,o=Object.keys(t).length;if(a!==o)return!1;for(const s in r){const l=r.hasOwnProperty(s),u=t.hasOwnProperty(s);if(l&&!u||!l&&u||!looseEqual(r[s],t[s]))return!1}}return String(r)===String(t)}function looseIndexOf(r,t){return r.findIndex(n=>looseEqual(n,t))}const isRef$1=r=>!!(r&&r.__v_isRef===!0),toDisplayString=r=>isString$1(r)?r:r==null?"":isArray$1(r)||isObject$3(r)&&(r.toString===objectToString||!isFunction$1(r.toString))?isRef$1(r)?toDisplayString(r.value):JSON.stringify(r,replacer,2):String(r),replacer=(r,t)=>isRef$1(t)?replacer(r,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,a],o)=>(n[stringifySymbol(i,o)+" =>"]=a,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$3(t)&&!isArray$1(t)&&!isPlainObject$1(t)?String(t):t,stringifySymbol=(r,t="")=>{var n;return isSymbol(r)?`Symbol(${(n=r.description)!=null?n:t})`:r};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(r,t=!1){if(r.flags|=8,t){r.next=batchedComputed,batchedComputed=r;return}r.next=batchedSub,batchedSub=r}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let r;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){r||(r=i)}t=n}}if(r)throw r}function prepareDeps(r){for(let t=r.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(r){let t,n=r.depsTail,i=n;for(;i;){const a=i.prevDep;i.version===-1?(i===n&&(n=a),removeSub(i),removeDep(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=a}r.deps=t,r.depsTail=n}function isDirty(r){for(let t=r.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!r._dirty}function refreshComputed(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===globalVersion)||(r.globalVersion=globalVersion,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!isDirty(r))))return;r.flags|=2;const t=r.dep,n=activeSub,i=shouldTrack;activeSub=r,shouldTrack=!0;try{prepareDeps(r);const a=r.fn(r._value);(t.version===0||hasChanged(a,r._value))&&(r.flags|=128,r._value=a,t.version++)}catch(a){throw t.version++,a}finally{activeSub=n,shouldTrack=i,cleanupDeps(r),r.flags&=-3}}function removeSub(r,t=!1){const{dep:n,prevSub:i,nextSub:a}=r;if(i&&(i.nextSub=a,r.prevSub=void 0),a&&(a.prevSub=i,r.nextSub=void 0),n.subs===r&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)removeSub(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(r){const{prevDep:t,nextDep:n}=r;t&&(t.nextDep=n,r.prevDep=void 0),n&&(n.prevDep=t,r.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function cleanupEffect(r){const{cleanup:t}=r;if(r.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=i)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(r){if(r.dep.sc++,r.sub.flags&4){const t=r.dep.computed;if(t&&!r.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)addSub(i)}const n=r.dep.subs;n!==r&&(r.prevSub=n,n&&(n.nextSub=r)),r.dep.subs=r}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(r,t,n){if(shouldTrack&&activeSub){let i=targetMap.get(r);i||targetMap.set(r,i=new Map);let a=i.get(n);a||(i.set(n,a=new Dep),a.map=i,a.key=n),a.track()}}function trigger(r,t,n,i,a,o){const s=targetMap.get(r);if(!s){globalVersion++;return}const l=u=>{u&&u.trigger()};if(startBatch(),t==="clear")s.forEach(l);else{const u=isArray$1(r),c=u&&isIntegerKey(n);if(u&&n==="length"){const f=Number(i);s.forEach((d,g)=>{(g==="length"||g===ARRAY_ITERATE_KEY||!isSymbol(g)&&g>=f)&&l(d)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),c&&l(s.get(ARRAY_ITERATE_KEY)),t){case"add":u?c&&l(s.get("length")):(l(s.get(ITERATE_KEY)),isMap(r)&&l(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":u||(l(s.get(ITERATE_KEY)),isMap(r)&&l(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&l(s.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(r,t){const n=targetMap.get(r);return n&&n.get(t)}function reactiveReadArray(r){const t=toRaw(r);return t===r?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(r)?t:t.map(toReactive))}function shallowReadArray(r){return track(r=toRaw(r),"iterate",ARRAY_ITERATE_KEY),r}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,toReactive)},concat(...r){return reactiveReadArray(this).concat(...r.map(t=>isArray$1(t)?reactiveReadArray(t):t))},entries(){return iterator$1(this,"entries",r=>(r[1]=toReactive(r[1]),r))},every(r,t){return apply(this,"every",r,t,void 0,arguments)},filter(r,t){return apply(this,"filter",r,t,n=>n.map(toReactive),arguments)},find(r,t){return apply(this,"find",r,t,toReactive,arguments)},findIndex(r,t){return apply(this,"findIndex",r,t,void 0,arguments)},findLast(r,t){return apply(this,"findLast",r,t,toReactive,arguments)},findLastIndex(r,t){return apply(this,"findLastIndex",r,t,void 0,arguments)},forEach(r,t){return apply(this,"forEach",r,t,void 0,arguments)},includes(...r){return searchProxy(this,"includes",r)},indexOf(...r){return searchProxy(this,"indexOf",r)},join(r){return reactiveReadArray(this).join(r)},lastIndexOf(...r){return searchProxy(this,"lastIndexOf",r)},map(r,t){return apply(this,"map",r,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...r){return noTracking(this,"push",r)},reduce(r,...t){return reduce$1(this,"reduce",r,t)},reduceRight(r,...t){return reduce$1(this,"reduceRight",r,t)},shift(){return noTracking(this,"shift")},some(r,t){return apply(this,"some",r,t,void 0,arguments)},splice(...r){return noTracking(this,"splice",r)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(r){return reactiveReadArray(this).toSorted(r)},toSpliced(...r){return reactiveReadArray(this).toSpliced(...r)},unshift(...r){return noTracking(this,"unshift",r)},values(){return iterator$1(this,"values",toReactive)}};function iterator$1(r,t,n){const i=shallowReadArray(r),a=i[t]();return i!==r&&!isShallow(r)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.done||(o.value=n(o.value)),o}),a}const arrayProto$1=Array.prototype;function apply(r,t,n,i,a,o){const s=shallowReadArray(r),l=s!==r&&!isShallow(r),u=s[t];if(u!==arrayProto$1[t]){const d=u.apply(r,o);return l?toReactive(d):d}let c=n;s!==r&&(l?c=function(d,g){return n.call(this,toReactive(d),g,r)}:n.length>2&&(c=function(d,g){return n.call(this,d,g,r)}));const f=u.call(s,c,i);return l&&a?a(f):f}function reduce$1(r,t,n,i){const a=shallowReadArray(r);let o=n;return a!==r&&(isShallow(r)?n.length>3&&(o=function(s,l,u){return n.call(this,s,l,u,r)}):o=function(s,l,u){return n.call(this,s,toReactive(l),u,r)}),a[t](o,...i)}function searchProxy(r,t,n){const i=toRaw(r);track(i,"iterate",ARRAY_ITERATE_KEY);const a=i[t](...n);return(a===-1||a===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),i[t](...n)):a}function noTracking(r,t,n=[]){pauseTracking(),startBatch();const i=toRaw(r)[t].apply(r,n);return endBatch(),resetTracking(),i}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol));function hasOwnProperty(r){isSymbol(r)||(r=String(r));const t=toRaw(this);return track(t,"has",r),t.hasOwnProperty(r)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(a?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=isArray$1(t);if(!a){let u;if(s&&(u=arrayInstrumentations[n]))return u;if(n==="hasOwnProperty")return hasOwnProperty}const l=Reflect.get(t,n,isRef(t)?t:i);if((isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(a||track(t,"get",n),o))return l;if(isRef(l)){const u=s&&isIntegerKey(n)?l:l.value;return a&&isObject$3(u)?readonly(u):u}return isObject$3(l)?a?readonly(l):reactive(l):l}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,i,a){let o=t[n];if(!this._isShallow){const u=isReadonly(o);if(!isShallow(i)&&!isReadonly(i)&&(o=toRaw(o),i=toRaw(i)),!isArray$1(t)&&isRef(o)&&!isRef(i))return u||(o.value=i),!0}const s=isArray$1(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn$1(t,n),l=Reflect.set(t,n,i,isRef(t)?t:a);return t===toRaw(a)&&(s?hasChanged(i,o)&&trigger(t,"set",n,i):trigger(t,"add",n,i)),l}deleteProperty(t,n){const i=hasOwn$1(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&i&&trigger(t,"delete",n,void 0),a}has(t,n){const i=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),i}ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function createIterableMethod(r,t,n){return function(...i){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=r==="entries"||r===Symbol.iterator&&s,u=r==="keys"&&s,c=a[r](...i),f=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:g}=c.next();return g?{value:d,done:g}:{value:l?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...t){return r==="delete"?!1:r==="clear"?void 0:this}}function createInstrumentations(r,t){const n={get(a){const o=this.__v_raw,s=toRaw(o),l=toRaw(a);r||(hasChanged(a,l)&&track(s,"get",a),track(s,"get",l));const{has:u}=getProto(s),c=t?toShallow:r?toReadonly:toReactive;if(u.call(s,a))return c(o.get(a));if(u.call(s,l))return c(o.get(l));o!==s&&o.get(a)},get size(){const a=this.__v_raw;return!r&&track(toRaw(a),"iterate",ITERATE_KEY),a.size},has(a){const o=this.__v_raw,s=toRaw(o),l=toRaw(a);return r||(hasChanged(a,l)&&track(s,"has",a),track(s,"has",l)),a===l?o.has(a):o.has(a)||o.has(l)},forEach(a,o){const s=this,l=s.__v_raw,u=toRaw(l),c=t?toShallow:r?toReadonly:toReactive;return!r&&track(u,"iterate",ITERATE_KEY),l.forEach((f,d)=>a.call(o,c(f),c(d),s))}};return extend$1(n,r?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(a){!t&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const o=toRaw(this);return getProto(o).has.call(o,a)||(o.add(a),trigger(o,"add",a,a)),this},set(a,o){!t&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const s=toRaw(this),{has:l,get:u}=getProto(s);let c=l.call(s,a);c||(a=toRaw(a),c=l.call(s,a));const f=u.call(s,a);return s.set(a,o),c?hasChanged(o,f)&&trigger(s,"set",a,o):trigger(s,"add",a,o),this},delete(a){const o=toRaw(this),{has:s,get:l}=getProto(o);let u=s.call(o,a);u||(a=toRaw(a),u=s.call(o,a)),l&&l.call(o,a);const c=o.delete(a);return u&&trigger(o,"delete",a,void 0),c},clear(){const a=toRaw(this),o=a.size!==0,s=a.clear();return o&&trigger(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=createIterableMethod(a,r,t)}),n}function createInstrumentationGetter(r,t){const n=createInstrumentations(r,t);return(i,a,o)=>a==="__v_isReactive"?!r:a==="__v_isReadonly"?r:a==="__v_raw"?i:Reflect.get(hasOwn$1(n,a)&&a in i?n:i,a,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(r){return createReactiveObject(r,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(r,t,n,i,a){if(!isObject$3(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const o=getTargetType(r);if(o===0)return r;const s=a.get(r);if(s)return s;const l=new Proxy(r,o===2?i:n);return a.set(r,l),l}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return r?!!r.__v_raw:!1}function toRaw(r){const t=r&&r.__v_raw;return t?toRaw(t):r}function markRaw(r){return!hasOwn$1(r,"__v_skip")&&Object.isExtensible(r)&&def(r,"__v_skip",!0),r}const toReactive=r=>isObject$3(r)?reactive(r):r,toReadonly=r=>isObject$3(r)?readonly(r):r;function isRef(r){return r?r.__v_isRef===!0:!1}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,t){return isRef(r)?r:new RefImpl(r,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||isShallow(t)||isReadonly(t);t=i?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=i?t:toReactive(t),this.dep.trigger())}}function unref(r){return isRef(r)?r.value:r}function toValue(r){return isFunction$1(r)?r():unref(r)}const shallowUnwrapHandlers={get:(r,t,n)=>t==="__v_raw"?r:unref(Reflect.get(r,t,n)),set:(r,t,n,i)=>{const a=r[t];return isRef(a)&&!isRef(n)?(a.value=n,!0):Reflect.set(r,t,n,i)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const t=isArray$1(r)?new Array(r.length):{};for(const n in r)t[n]=propertyToRef(r,n);return t}class ObjectRefImpl{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(r,t,n){const i=r[t];return isRef(i)?i:new ObjectRefImpl(r,t,n)}class ComputedRefImpl{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(r,t,n=!1){let i,a;return isFunction$1(r)?i=r:(i=r.get,a=r.set),new ComputedRefImpl(i,a,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(r,t=!1,n=activeWatcher){if(n){let i=cleanupMap.get(n);i||cleanupMap.set(n,i=[]),i.push(r)}}function watch$1(r,t,n=EMPTY_OBJ$1){const{immediate:i,deep:a,once:o,scheduler:s,augmentJob:l,call:u}=n,c=M=>a?M:isShallow(M)||a===!1||a===0?traverse(M,1):traverse(M);let f,d,g,v,y=!1,_=!1;if(isRef(r)?(d=()=>r.value,y=isShallow(r)):isReactive(r)?(d=()=>c(r),y=!0):isArray$1(r)?(_=!0,y=r.some(M=>isReactive(M)||isShallow(M)),d=()=>r.map(M=>{if(isRef(M))return M.value;if(isReactive(M))return c(M);if(isFunction$1(M))return u?u(M,2):M()})):isFunction$1(r)?t?d=u?()=>u(r,2):r:d=()=>{if(g){pauseTracking();try{g()}finally{resetTracking()}}const M=activeWatcher;activeWatcher=f;try{return u?u(r,3,[v]):r(v)}finally{activeWatcher=M}}:d=NOOP,t&&a){const M=d,D=a===!0?1/0:a;d=()=>traverse(M(),D)}const x=getCurrentScope(),S=()=>{f.stop(),x&&x.active&&remove(x.effects,f)};if(o&&t){const M=t;t=(...D)=>{M(...D),S()}}let b=_?new Array(r.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const E=M=>{if(!(!(f.flags&1)||!f.dirty&&!M))if(t){const D=f.run();if(a||y||(_?D.some((w,I)=>hasChanged(w,b[I])):hasChanged(D,b))){g&&g();const w=activeWatcher;activeWatcher=f;try{const I=[D,b===INITIAL_WATCHER_VALUE?void 0:_&&b[0]===INITIAL_WATCHER_VALUE?[]:b,v];b=D,u?u(t,3,I):t(...I)}finally{activeWatcher=w}}}else f.run()};return l&&l(E),f=new ReactiveEffect(d),f.scheduler=s?()=>s(E,!1):E,v=M=>onWatcherCleanup(M,!1,f),g=f.onStop=()=>{const M=cleanupMap.get(f);if(M){if(u)u(M,4);else for(const D of M)D();cleanupMap.delete(f)}},t?i?E(!0):b=f.run():s?s(E.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function traverse(r,t=1/0,n){if(t<=0||!isObject$3(r)||r.__v_skip||(n=n||new Map,(n.get(r)||0)>=t))return r;if(n.set(r,t),t--,isRef(r))traverse(r.value,t,n);else if(isArray$1(r))for(let i=0;i<r.length;i++)traverse(r[i],t,n);else if(isSet(r)||isMap(r))r.forEach(i=>{traverse(i,t,n)});else if(isPlainObject$1(r)){for(const i in r)traverse(r[i],t,n);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&traverse(r[i],t,n)}return r}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(r,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,i=n&&n.appContext.config.warnHandler,a=getComponentTrace();if(i)callWithErrorHandling(i,n,11,[r+t.map(o=>{var s,l;return(l=(s=o.toString)==null?void 0:s.call(o))!=null?l:JSON.stringify(o)}).join(""),n&&n.proxy,a.map(({vnode:o})=>`at <${formatComponentName(n,o.type)}>`).join(`
`),a]);else{const o=[`[Vue warn]: ${r}`,...t];a.length&&o.push(`
`,...formatTrace(a)),console.warn(...o)}resetTracking(),isWarning=!1}function getComponentTrace(){let r=stack[stack.length-1];if(!r)return[];const t=[];for(;r;){const n=t[0];n&&n.vnode===r?n.recurseCount++:t.push({vnode:r,recurseCount:0});const i=r.component&&r.component.parent;r=i&&i.vnode}return t}function formatTrace(r){const t=[];return r.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:r,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=r.component?r.component.parent==null:!1,a=` at <${formatComponentName(r.component,r.type,i)}`,o=">"+n;return r.props?[a,...formatProps(r.props),o]:[a+o]}function formatProps(r){const t=[],n=Object.keys(r);return n.slice(0,3).forEach(i=>{t.push(...formatProp(i,r[i]))}),n.length>3&&t.push(" ..."),t}function formatProp(r,t,n){return isString$1(t)?(t=JSON.stringify(t),n?t:[`${r}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${r}=${t}`]:isRef(t)?(t=formatProp(r,toRaw(t.value),!0),n?t:[`${r}=Ref<`,t,">"]):isFunction$1(t)?[`${r}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${r}=`,t])}function callWithErrorHandling(r,t,n,i){try{return i?r(...i):r()}catch(a){handleError(a,t,n)}}function callWithAsyncErrorHandling(r,t,n,i){if(isFunction$1(r)){const a=callWithErrorHandling(r,t,n,i);return a&&isPromise(a)&&a.catch(o=>{handleError(o,t,n)}),a}if(isArray$1(r)){const a=[];for(let o=0;o<r.length;o++)a.push(callWithAsyncErrorHandling(r[o],t,n,i));return a}}function handleError(r,t,n,i=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||EMPTY_OBJ$1;if(t){let l=t.parent;const u=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](r,u,c)===!1)return}l=l.parent}if(o){pauseTracking(),callWithErrorHandling(o,null,10,[r,u,c]),resetTracking();return}}logError$1(r,n,a,i,s)}function logError$1(r,t,n,i=!0,a=!1){if(a)throw r;console.error(r)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(r){const t=currentFlushPromise||resolvedPromise;return r?t.then(this?r.bind(this):r):t}function findInsertionIndex(r){let t=flushIndex+1,n=queue.length;for(;t<n;){const i=t+n>>>1,a=queue[i],o=getId$1(a);o<r||o===r&&a.flags&2?t=i+1:n=i}return t}function queueJob(r){if(!(r.flags&1)){const t=getId$1(r),n=queue[queue.length-1];!n||!(r.flags&2)&&t>=getId$1(n)?queue.push(r):queue.splice(findInsertionIndex(t),0,r),r.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(r){isArray$1(r)?pendingPostFlushCbs.push(...r):activePostFlushCbs&&r.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,r):r.flags&1||(pendingPostFlushCbs.push(r),r.flags|=1),queueFlush()}function flushPreFlushCbs(r,t,n=flushIndex+1){for(;n<queue.length;n++){const i=queue[n];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;queue.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,i)=>getId$1(n)-getId$1(i));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId$1=r=>r.id==null?r.flags&2?-1:1/0:r.id;function flushJobs(r){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const t=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,t}function withCtx(r,t=currentRenderingInstance,n){if(!t||r._n)return r;const i=(...a)=>{i._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let s;try{s=r(...a)}finally{setCurrentRenderingInstance(o),i._d&&setBlockTracking(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function withDirectives(r,t){if(currentRenderingInstance===null)return r;const n=getComponentPublicInstance(currentRenderingInstance),i=r.dirs||(r.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,u=EMPTY_OBJ$1]=t[a];o&&(isFunction$1(o)&&(o={mounted:o,updated:o}),o.deep&&traverse(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return r}function invokeDirectiveHook(r,t,n,i){const a=r.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let u=l.dir[i];u&&(pauseTracking(),callWithAsyncErrorHandling(u,n,8,[r.el,l,r,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=r=>r.__isTeleport,isTeleportDisabled=r=>r&&(r.disabled||r.disabled===""),isTeleportDeferred=r=>r&&(r.defer||r.defer===""),isTargetSVG=r=>typeof SVGElement<"u"&&r instanceof SVGElement,isTargetMathML=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,resolveTarget=(r,t)=>{const n=r&&r.to;return isString$1(n)?t?t(n):null:n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(r,t,n,i,a,o,s,l,u,c){const{mc:f,pc:d,pbc:g,o:{insert:v,querySelector:y,createText:_,createComment:x}}=c,S=isTeleportDisabled(t.props);let{shapeFlag:b,children:E,dynamicChildren:M}=t;if(r==null){const D=t.el=_(""),w=t.anchor=_("");v(D,n,i),v(w,n,i);const I=(P,O)=>{b&16&&f(E,P,O,a,o,s,l,u)},R=()=>{const P=t.target=resolveTarget(t.props,y),O=prepareAnchor(P,t,_,v);P&&(s!=="svg"&&isTargetSVG(P)?s="svg":s!=="mathml"&&isTargetMathML(P)&&(s="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(P),S||(I(P,O),updateCssVars(t,!1)))};S&&(I(n,w),updateCssVars(t,!0)),isTeleportDeferred(t.props)?(t.el.__isMounted=!1,queuePostRenderEffect(()=>{R(),delete t.el.__isMounted},o)):R()}else{if(isTeleportDeferred(t.props)&&r.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(r,t,n,i,a,o,s,l,u,c)},o);return}t.el=r.el,t.targetStart=r.targetStart;const D=t.anchor=r.anchor,w=t.target=r.target,I=t.targetAnchor=r.targetAnchor,R=isTeleportDisabled(r.props),P=R?n:w,O=R?D:I;if(s==="svg"||isTargetSVG(w)?s="svg":(s==="mathml"||isTargetMathML(w))&&(s="mathml"),M?(g(r.dynamicChildren,M,P,a,o,s,l),traverseStaticChildren(r,t,!0)):u||d(r,t,P,O,a,o,s,l,!1),S)R?t.props&&r.props&&t.props.to!==r.props.to&&(t.props.to=r.props.to):moveTeleport(t,n,D,c,1);else if((t.props&&t.props.to)!==(r.props&&r.props.to)){const L=t.target=resolveTarget(t.props,y);L&&moveTeleport(t,L,null,c,0)}else R&&moveTeleport(t,w,I,c,1);updateCssVars(t,S)}},remove(r,t,n,{um:i,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:u,targetStart:c,targetAnchor:f,target:d,props:g}=r;if(d&&(a(c),a(f)),o&&a(u),s&16){const v=o||!isTeleportDisabled(g);for(let y=0;y<l.length;y++){const _=l[y];i(_,t,n,v,!!_.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(r,t,n,{o:{insert:i},m:a},o=2){o===0&&i(r.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:u,children:c,props:f}=r,d=o===2;if(d&&i(s,t,n),(!d||isTeleportDisabled(f))&&u&16)for(let g=0;g<c.length;g++)a(c[g],t,n,2);d&&i(l,t,n)}function hydrateTeleport(r,t,n,i,a,o,{o:{nextSibling:s,parentNode:l,querySelector:u,insert:c,createText:f}},d){function g(_,x,S,b){x.anchor=d(s(_),x,l(_),n,i,a,o),x.targetStart=S,x.targetAnchor=b}const v=t.target=resolveTarget(t.props,u),y=isTeleportDisabled(t.props);if(v){const _=v._lpa||v.firstChild;if(t.shapeFlag&16)if(y)g(r,t,_,_&&s(_));else{t.anchor=s(r);let x=_;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")t.targetStart=x;else if(x.data==="teleport anchor"){t.targetAnchor=x,v._lpa=t.targetAnchor&&s(t.targetAnchor);break}}x=s(x)}t.targetAnchor||prepareAnchor(v,t,f,c),d(_&&s(_),t,v,n,i,a,o)}updateCssVars(t,y)}else y&&t.shapeFlag&16&&g(r,t,r,s(r));return t.anchor&&s(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(r,t){const n=r.ctx;if(n&&n.ut){let i,a;for(t?(i=r.el,a=r.anchor):(i=r.targetStart,a=r.targetAnchor);i&&i!==a;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function prepareAnchor(r,t,n,i){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[TeleportEndKey]=o,r&&(i(a,r),i(o,r)),o}const leaveCbKey=Symbol("_leaveCb");function setTransitionHooks(r,t){r.shapeFlag&6&&r.component?(r.transition=t,setTransitionHooks(r.component.subTree,t)):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function defineComponent(r,t){return isFunction$1(r)?extend$1({name:r.name},t,{setup:r}):r}function markAsyncBoundary(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(r,t,n,i,a=!1){if(isArray$1(r)){r.forEach((y,_)=>setRef(y,t&&(isArray$1(t)?t[_]:t),n,i,a));return}if(isAsyncWrapper(i)&&!a){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&setRef(r,t,n,i.component.subTree);return}const o=i.shapeFlag&4?getComponentPublicInstance(i.component):i.el,s=a?null:o,{i:l,r:u}=r,c=t&&t.r,f=l.refs===EMPTY_OBJ$1?l.refs={}:l.refs,d=l.setupState,g=toRaw(d),v=d===EMPTY_OBJ$1?NO:y=>hasOwn$1(g,y);if(c!=null&&c!==u){if(invalidatePendingSetRef(t),isString$1(c))f[c]=null,v(c)&&(d[c]=null);else if(isRef(c)){c.value=null;const y=t;y.k&&(f[y.k]=null)}}if(isFunction$1(u))callWithErrorHandling(u,l,12,[s,f]);else{const y=isString$1(u),_=isRef(u);if(y||_){const x=()=>{if(r.f){const S=y?v(u)?d[u]:f[u]:u.value;if(a)isArray$1(S)&&remove(S,o);else if(isArray$1(S))S.includes(o)||S.push(o);else if(y)f[u]=[o],v(u)&&(d[u]=f[u]);else{const b=[o];u.value=b,r.k&&(f[r.k]=b)}}else y?(f[u]=s,v(u)&&(d[u]=s)):_&&(u.value=s,r.k&&(f[r.k]=s))};if(s){const S=()=>{x(),pendingSetRefMap.delete(r)};S.id=-1,pendingSetRefMap.set(r,S),queuePostRenderEffect(S,n)}else invalidatePendingSetRef(r),x()}}}function invalidatePendingSetRef(r){const t=pendingSetRefMap.get(r);t&&(t.flags|=8,pendingSetRefMap.delete(r))}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,t){registerKeepAliveHook(r,"a",t)}function onDeactivated(r,t){registerKeepAliveHook(r,"da",t)}function registerKeepAliveHook(r,t,n=currentInstance){const i=r.__wdc||(r.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return r()});if(injectHook(t,i,n),n){let a=n.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(i,t,n,a),a=a.parent}}function injectToKeepAliveRoot(r,t,n,i){const a=injectHook(t,r,i,!0);onUnmounted(()=>{remove(i[t],a)},n)}function injectHook(r,t,n=currentInstance,i=!1){if(n){const a=n[r]||(n[r]=[]),o=t.__weh||(t.__weh=(...s)=>{pauseTracking();const l=setCurrentInstance(n),u=callWithAsyncErrorHandling(t,n,r,s);return l(),resetTracking(),u});return i?a.unshift(o):a.push(o),o}}const createHook=r=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||r==="sp")&&injectHook(r,(...i)=>t(...i),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,t=currentInstance){injectHook("ec",r,t)}const COMPONENTS="components";function resolveComponent(r,t){return resolveAsset(COMPONENTS,r,!0,t)||r}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(r){return isString$1(r)?resolveAsset(COMPONENTS,r,!1)||r:r||NULL_DYNAMIC_COMPONENT}function resolveAsset(r,t,n=!0,i=!1){const a=currentRenderingInstance||currentInstance;if(a){const o=a.type;{const l=getComponentName(o,!1);if(l&&(l===t||l===camelize(t)||l===capitalize(camelize(t))))return o}const s=resolve(a[r]||o[r],t)||resolve(a.appContext[r],t);return!s&&i?o:s}}function resolve(r,t){return r&&(r[t]||r[camelize(t)]||r[capitalize(camelize(t))])}function renderList(r,t,n,i){let a;const o=n,s=isArray$1(r);if(s||isString$1(r)){const l=s&&isReactive(r);let u=!1,c=!1;l&&(u=!isShallow(r),c=isReadonly(r),r=shallowReadArray(r)),a=new Array(r.length);for(let f=0,d=r.length;f<d;f++)a[f]=t(u?c?toReadonly(toReactive(r[f])):toReactive(r[f]):r[f],f,void 0,o)}else if(typeof r=="number"){a=new Array(r);for(let l=0;l<r;l++)a[l]=t(l+1,l,void 0,o)}else if(isObject$3(r))if(r[Symbol.iterator])a=Array.from(r,(l,u)=>t(l,u,void 0,o));else{const l=Object.keys(r);a=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const f=l[u];a[u]=t(r[f],f,u,o)}}else a=[];return a}const getPublicInstance=r=>r?isStatefulComponent(r)?getComponentPublicInstance(r):getPublicInstance(r.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>{queueJob(r.update)}),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),hasSetupBinding=(r,t)=>r!==EMPTY_OBJ$1&&!r.__isScriptSetup&&hasOwn$1(r,t),PublicInstanceProxyHandlers={get({_:r},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:a,props:o,accessCache:s,type:l,appContext:u}=r;let c;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(i,t))return s[t]=1,i[t];if(a!==EMPTY_OBJ$1&&hasOwn$1(a,t))return s[t]=2,a[t];if((c=r.propsOptions[0])&&hasOwn$1(c,t))return s[t]=3,o[t];if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return s[t]=4,n[t];shouldCacheAccess&&(s[t]=0)}}const f=publicPropertiesMap[t];let d,g;if(f)return t==="$attrs"&&track(r.attrs,"get",""),f(r);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return s[t]=4,n[t];if(g=u.config.globalProperties,hasOwn$1(g,t))return g[t]},set({_:r},t,n){const{data:i,setupState:a,ctx:o}=r;return hasSetupBinding(a,t)?(a[t]=n,!0):i!==EMPTY_OBJ$1&&hasOwn$1(i,t)?(i[t]=n,!0):hasOwn$1(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(o[t]=n,!0)},has({_:{data:r,setupState:t,accessCache:n,ctx:i,appContext:a,propsOptions:o,type:s}},l){let u,c;return!!(n[l]||r!==EMPTY_OBJ$1&&l[0]!=="$"&&hasOwn$1(r,l)||hasSetupBinding(t,l)||(u=o[0])&&hasOwn$1(u,l)||hasOwn$1(i,l)||hasOwn$1(publicPropertiesMap,l)||hasOwn$1(a.config.globalProperties,l)||(c=s.__cssModules)&&c[l])},defineProperty(r,t,n){return n.get!=null?r._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(r,t,n.value,null),Reflect.defineProperty(r,t,n)}};function normalizePropsOrEmits(r){return isArray$1(r)?r.reduce((t,n)=>(t[n]=null,t),{}):r}let shouldCacheAccess=!0;function applyOptions(r){const t=resolveMergedOptions(r),n=r.proxy,i=r.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,r,"bc");const{data:a,computed:o,methods:s,watch:l,provide:u,inject:c,created:f,beforeMount:d,mounted:g,beforeUpdate:v,updated:y,activated:_,deactivated:x,beforeDestroy:S,beforeUnmount:b,destroyed:E,unmounted:M,render:D,renderTracked:w,renderTriggered:I,errorCaptured:R,serverPrefetch:P,expose:O,inheritAttrs:L,components:$,directives:N,filters:F}=t;if(c&&resolveInjections(c,i,null),s)for(const W in s){const U=s[W];isFunction$1(U)&&(i[W]=U.bind(n))}if(a){const W=a.call(n,n);isObject$3(W)&&(r.data=reactive(W))}if(shouldCacheAccess=!0,o)for(const W in o){const U=o[W],j=isFunction$1(U)?U.bind(n,n):isFunction$1(U.get)?U.get.bind(n,n):NOOP,ee=!isFunction$1(U)&&isFunction$1(U.set)?U.set.bind(n):NOOP,re=computed({get:j,set:ee});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>re.value,set:q=>re.value=q})}if(l)for(const W in l)createWatcher(l[W],i,n,W);if(u){const W=isFunction$1(u)?u.call(n):u;Reflect.ownKeys(W).forEach(U=>{provide(U,W[U])})}f&&callHook(f,r,"c");function G(W,U){isArray$1(U)?U.forEach(j=>W(j.bind(n))):U&&W(U.bind(n))}if(G(onBeforeMount,d),G(onMounted,g),G(onBeforeUpdate,v),G(onUpdated,y),G(onActivated,_),G(onDeactivated,x),G(onErrorCaptured,R),G(onRenderTracked,w),G(onRenderTriggered,I),G(onBeforeUnmount,b),G(onUnmounted,M),G(onServerPrefetch,P),isArray$1(O))if(O.length){const W=r.exposed||(r.exposed={});O.forEach(U=>{Object.defineProperty(W,U,{get:()=>n[U],set:j=>n[U]=j,enumerable:!0})})}else r.exposed||(r.exposed={});D&&r.render===NOOP&&(r.render=D),L!=null&&(r.inheritAttrs=L),$&&(r.components=$),N&&(r.directives=N),P&&markAsyncBoundary(r)}function resolveInjections(r,t,n=NOOP){isArray$1(r)&&(r=normalizeInject(r));for(const i in r){const a=r[i];let o;isObject$3(a)?"default"in a?o=inject(a.from||i,a.default,!0):o=inject(a.from||i):o=inject(a),isRef(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function callHook(r,t,n){callWithAsyncErrorHandling(isArray$1(r)?r.map(i=>i.bind(t.proxy)):r.bind(t.proxy),t,n)}function createWatcher(r,t,n,i){let a=i.includes(".")?createPathGetter(n,i):()=>n[i];if(isString$1(r)){const o=t[r];isFunction$1(o)&&watch(a,o)}else if(isFunction$1(r))watch(a,r.bind(n));else if(isObject$3(r))if(isArray$1(r))r.forEach(o=>createWatcher(o,t,n,i));else{const o=isFunction$1(r.handler)?r.handler.bind(n):t[r.handler];isFunction$1(o)&&watch(a,o,r)}}function resolveMergedOptions(r){const t=r.type,{mixins:n,extends:i}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=r.appContext,l=o.get(t);let u;return l?u=l:!a.length&&!n&&!i?u=t:(u={},a.length&&a.forEach(c=>mergeOptions(u,c,s,!0)),mergeOptions(u,t,s)),isObject$3(t)&&o.set(t,u),u}function mergeOptions(r,t,n,i=!1){const{mixins:a,extends:o}=t;o&&mergeOptions(r,o,n,!0),a&&a.forEach(s=>mergeOptions(r,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const l=internalOptionMergeStrats[s]||n&&n[s];r[s]=l?l(r[s],t[s]):t[s]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,t){return t?r?function(){return extend$1(isFunction$1(r)?r.call(this,this):r,isFunction$1(t)?t.call(this,this):t)}:t:r}function mergeInject(r,t){return mergeObjectOptions(normalizeInject(r),normalizeInject(t))}function normalizeInject(r){if(isArray$1(r)){const t={};for(let n=0;n<r.length;n++)t[r[n]]=r[n];return t}return r}function mergeAsArray(r,t){return r?[...new Set([].concat(r,t))]:t}function mergeObjectOptions(r,t){return r?extend$1(Object.create(null),r,t):t}function mergeEmitsOrPropsOptions(r,t){return r?isArray$1(r)&&isArray$1(t)?[...new Set([...r,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(r),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(r,t){if(!r)return t;if(!t)return r;const n=extend$1(Object.create(null),r);for(const i in t)n[i]=mergeAsArray(r[i],t[i]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(r,t){return function(i,a=null){isFunction$1(i)||(i=extend$1({},i)),a!=null&&!isObject$3(a)&&(a=null);const o=createAppContext(),s=new WeakSet,l=[];let u=!1;const c=o.app={_uid:uid$1++,_component:i,_props:a,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&isFunction$1(f.install)?(s.add(f),f.install(c,...d)):isFunction$1(f)&&(s.add(f),f(c,...d))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,d){return d?(o.components[f]=d,c):o.components[f]},directive(f,d){return d?(o.directives[f]=d,c):o.directives[f]},mount(f,d,g){if(!u){const v=c._ceVNode||createVNode(i,a);return v.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),r(v,f,g),u=!0,c._container=f,f.__vue_app__=c,getComponentPublicInstance(v.component)}},onUnmount(f){l.push(f)},unmount(){u&&(callWithAsyncErrorHandling(l,c._instance,16),r(null,c._container),delete c._container.__vue_app__)},provide(f,d){return o.provides[f]=d,c},runWithContext(f){const d=currentApp;currentApp=c;try{return f()}finally{currentApp=d}}};return c}}let currentApp=null;function provide(r,t){if(currentInstance){let n=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===n&&(n=currentInstance.provides=Object.create(i)),n[r]=t}}function inject(r,t,n=!1){const i=getCurrentInstance();if(i||currentApp){let a=currentApp?currentApp._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(a&&r in a)return a[r];if(arguments.length>1)return n&&isFunction$1(t)?t.call(i&&i.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=r=>Object.getPrototypeOf(r)===internalObjectProto;function initProps$1(r,t,n,i=!1){const a={},o=createInternalObject();r.propsDefaults=Object.create(null),setFullProps(r,t,a,o);for(const s in r.propsOptions[0])s in a||(a[s]=void 0);n?r.props=i?a:shallowReactive(a):r.type.props?r.props=a:r.props=o,r.attrs=o}function updateProps$2(r,t,n,i){const{props:a,attrs:o,vnode:{patchFlag:s}}=r,l=toRaw(a),[u]=r.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const f=r.vnode.dynamicProps;for(let d=0;d<f.length;d++){let g=f[d];if(isEmitListener(r.emitsOptions,g))continue;const v=t[g];if(u)if(hasOwn$1(o,g))v!==o[g]&&(o[g]=v,c=!0);else{const y=camelize(g);a[y]=resolvePropValue(u,l,y,v,r,!1)}else v!==o[g]&&(o[g]=v,c=!0)}}}else{setFullProps(r,t,a,o)&&(c=!0);let f;for(const d in l)(!t||!hasOwn$1(t,d)&&((f=hyphenate(d))===d||!hasOwn$1(t,f)))&&(u?n&&(n[d]!==void 0||n[f]!==void 0)&&(a[d]=resolvePropValue(u,l,d,void 0,r,!0)):delete a[d]);if(o!==l)for(const d in o)(!t||!hasOwn$1(t,d))&&(delete o[d],c=!0)}c&&trigger(r.attrs,"set","")}function setFullProps(r,t,n,i){const[a,o]=r.propsOptions;let s=!1,l;if(t)for(let u in t){if(isReservedProp(u))continue;const c=t[u];let f;a&&hasOwn$1(a,f=camelize(u))?!o||!o.includes(f)?n[f]=c:(l||(l={}))[f]=c:isEmitListener(r.emitsOptions,u)||(!(u in i)||c!==i[u])&&(i[u]=c,s=!0)}if(o){const u=toRaw(n),c=l||EMPTY_OBJ$1;for(let f=0;f<o.length;f++){const d=o[f];n[d]=resolvePropValue(a,u,d,c[d],r,!hasOwn$1(c,d))}}return s}function resolvePropValue(r,t,n,i,a,o){const s=r[n];if(s!=null){const l=hasOwn$1(s,"default");if(l&&i===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction$1(u)){const{propsDefaults:c}=a;if(n in c)i=c[n];else{const f=setCurrentInstance(a);i=c[n]=u.call(null,t),f()}}else i=u;a.ce&&a.ce._setProp(n,i)}s[0]&&(o&&!l?i=!1:s[1]&&(i===""||i===hyphenate(n))&&(i=!0))}return i}const mixinPropsCache=new WeakMap;function normalizePropsOptions(r,t,n=!1){const i=n?mixinPropsCache:t.propsCache,a=i.get(r);if(a)return a;const o=r.props,s={},l=[];let u=!1;if(!isFunction$1(r)){const f=d=>{u=!0;const[g,v]=normalizePropsOptions(d,t,!0);extend$1(s,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),r.extends&&f(r.extends),r.mixins&&r.mixins.forEach(f)}if(!o&&!u)return isObject$3(r)&&i.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let f=0;f<o.length;f++){const d=camelize(o[f]);validatePropName(d)&&(s[d]=EMPTY_OBJ$1)}else if(o)for(const f in o){const d=camelize(f);if(validatePropName(d)){const g=o[f],v=s[d]=isArray$1(g)||isFunction$1(g)?{type:g}:extend$1({},g),y=v.type;let _=!1,x=!0;if(isArray$1(y))for(let S=0;S<y.length;++S){const b=y[S],E=isFunction$1(b)&&b.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(x=!1)}else _=isFunction$1(y)&&y.name==="Boolean";v[0]=_,v[1]=x,(_||hasOwn$1(v,"default"))&&l.push(d)}}const c=[s,l];return isObject$3(r)&&i.set(r,c),c}function validatePropName(r){return r[0]!=="$"&&!isReservedProp(r)}const isInternalKey=r=>r==="_"||r==="_ctx"||r==="$stable",normalizeSlotValue=r=>isArray$1(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot=(r,t,n)=>{if(t._n)return t;const i=withCtx((...a)=>normalizeSlotValue(t(...a)),n);return i._c=!1,i},normalizeObjectSlots=(r,t,n)=>{const i=r._ctx;for(const a in r){if(isInternalKey(a))continue;const o=r[a];if(isFunction$1(o))t[a]=normalizeSlot(a,o,i);else if(o!=null){const s=normalizeSlotValue(o);t[a]=()=>s}}},normalizeVNodeSlots=(r,t)=>{const n=normalizeSlotValue(t);r.slots.default=()=>n},assignSlots=(r,t,n)=>{for(const i in t)(n||!isInternalKey(i))&&(r[i]=t[i])},initSlots=(r,t,n)=>{const i=r.slots=createInternalObject();if(r.vnode.shapeFlag&32){const a=t._;a?(assignSlots(i,t,n),n&&def(i,"_",a,!0)):normalizeObjectSlots(t,i)}else t&&normalizeVNodeSlots(r,t)},updateSlots=(r,t,n)=>{const{vnode:i,slots:a}=r;let o=!0,s=EMPTY_OBJ$1;if(i.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:assignSlots(a,t,n):(o=!t.$stable,normalizeObjectSlots(t,a)),s=t}else t&&(normalizeVNodeSlots(r,t),s={default:1});if(o)for(const l in a)!isInternalKey(l)&&s[l]==null&&delete a[l]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:i,remove:a,patchProp:o,createElement:s,createText:l,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:g,setScopeId:v=NOOP,insertStaticContent:y}=r,_=(V,H,z,Z=null,X=null,K=null,ne=void 0,te=null,ie=!!H.dynamicChildren)=>{if(V===H)return;V&&!isSameVNodeType(V,H)&&(Z=ce(V),q(V,X,K,!0),V=null),H.patchFlag===-2&&(ie=!1,H.dynamicChildren=null);const{type:J,ref:ue,shapeFlag:ae}=H;switch(J){case Text:x(V,H,z,Z);break;case Comment:S(V,H,z,Z);break;case Static:V==null&&b(H,z,Z,ne);break;case Fragment:$(V,H,z,Z,X,K,ne,te,ie);break;default:ae&1?D(V,H,z,Z,X,K,ne,te,ie):ae&6?N(V,H,z,Z,X,K,ne,te,ie):(ae&64||ae&128)&&J.process(V,H,z,Z,X,K,ne,te,ie,ve)}ue!=null&&X?setRef(ue,V&&V.ref,K,H||V,!H):ue==null&&V&&V.ref!=null&&setRef(V.ref,null,K,V,!0)},x=(V,H,z,Z)=>{if(V==null)i(H.el=l(H.children),z,Z);else{const X=H.el=V.el;H.children!==V.children&&c(X,H.children)}},S=(V,H,z,Z)=>{V==null?i(H.el=u(H.children||""),z,Z):H.el=V.el},b=(V,H,z,Z)=>{[V.el,V.anchor]=y(V.children,H,z,Z,V.el,V.anchor)},E=({el:V,anchor:H},z,Z)=>{let X;for(;V&&V!==H;)X=g(V),i(V,z,Z),V=X;i(H,z,Z)},M=({el:V,anchor:H})=>{let z;for(;V&&V!==H;)z=g(V),a(V),V=z;a(H)},D=(V,H,z,Z,X,K,ne,te,ie)=>{H.type==="svg"?ne="svg":H.type==="math"&&(ne="mathml"),V==null?w(H,z,Z,X,K,ne,te,ie):P(V,H,X,K,ne,te,ie)},w=(V,H,z,Z,X,K,ne,te)=>{let ie,J;const{props:ue,shapeFlag:ae,transition:se,dirs:he}=V;if(ie=V.el=s(V.type,K,ue&&ue.is,ue),ae&8?f(ie,V.children):ae&16&&R(V.children,ie,null,Z,X,resolveChildrenNamespace(V,K),ne,te),he&&invokeDirectiveHook(V,null,Z,"created"),I(ie,V,V.scopeId,ne,Z),ue){for(const _e in ue)_e!=="value"&&!isReservedProp(_e)&&o(ie,_e,null,ue[_e],K,Z);"value"in ue&&o(ie,"value",null,ue.value,K),(J=ue.onVnodeBeforeMount)&&invokeVNodeHook(J,Z,V)}he&&invokeDirectiveHook(V,null,Z,"beforeMount");const pe=needTransition(X,se);pe&&se.beforeEnter(ie),i(ie,H,z),((J=ue&&ue.onVnodeMounted)||pe||he)&&queuePostRenderEffect(()=>{J&&invokeVNodeHook(J,Z,V),pe&&se.enter(ie),he&&invokeDirectiveHook(V,null,Z,"mounted")},X)},I=(V,H,z,Z,X)=>{if(z&&v(V,z),Z)for(let K=0;K<Z.length;K++)v(V,Z[K]);if(X){let K=X.subTree;if(H===K||isSuspense(K.type)&&(K.ssContent===H||K.ssFallback===H)){const ne=X.vnode;I(V,ne,ne.scopeId,ne.slotScopeIds,X.parent)}}},R=(V,H,z,Z,X,K,ne,te,ie=0)=>{for(let J=ie;J<V.length;J++){const ue=V[J]=te?cloneIfMounted(V[J]):normalizeVNode(V[J]);_(null,ue,H,z,Z,X,K,ne,te)}},P=(V,H,z,Z,X,K,ne)=>{const te=H.el=V.el;let{patchFlag:ie,dynamicChildren:J,dirs:ue}=H;ie|=V.patchFlag&16;const ae=V.props||EMPTY_OBJ$1,se=H.props||EMPTY_OBJ$1;let he;if(z&&toggleRecurse(z,!1),(he=se.onVnodeBeforeUpdate)&&invokeVNodeHook(he,z,H,V),ue&&invokeDirectiveHook(H,V,z,"beforeUpdate"),z&&toggleRecurse(z,!0),(ae.innerHTML&&se.innerHTML==null||ae.textContent&&se.textContent==null)&&f(te,""),J?O(V.dynamicChildren,J,te,z,Z,resolveChildrenNamespace(H,X),K):ne||U(V,H,te,null,z,Z,resolveChildrenNamespace(H,X),K,!1),ie>0){if(ie&16)L(te,ae,se,z,X);else if(ie&2&&ae.class!==se.class&&o(te,"class",null,se.class,X),ie&4&&o(te,"style",ae.style,se.style,X),ie&8){const pe=H.dynamicProps;for(let _e=0;_e<pe.length;_e++){const ye=pe[_e],Se=ae[ye],Te=se[ye];(Te!==Se||ye==="value")&&o(te,ye,Se,Te,X,z)}}ie&1&&V.children!==H.children&&f(te,H.children)}else!ne&&J==null&&L(te,ae,se,z,X);((he=se.onVnodeUpdated)||ue)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,z,H,V),ue&&invokeDirectiveHook(H,V,z,"updated")},Z)},O=(V,H,z,Z,X,K,ne)=>{for(let te=0;te<H.length;te++){const ie=V[te],J=H[te],ue=ie.el&&(ie.type===Fragment||!isSameVNodeType(ie,J)||ie.shapeFlag&198)?d(ie.el):z;_(ie,J,ue,null,Z,X,K,ne,!0)}},L=(V,H,z,Z,X)=>{if(H!==z){if(H!==EMPTY_OBJ$1)for(const K in H)!isReservedProp(K)&&!(K in z)&&o(V,K,H[K],null,X,Z);for(const K in z){if(isReservedProp(K))continue;const ne=z[K],te=H[K];ne!==te&&K!=="value"&&o(V,K,te,ne,X,Z)}"value"in z&&o(V,"value",H.value,z.value,X)}},$=(V,H,z,Z,X,K,ne,te,ie)=>{const J=H.el=V?V.el:l(""),ue=H.anchor=V?V.anchor:l("");let{patchFlag:ae,dynamicChildren:se,slotScopeIds:he}=H;he&&(te=te?te.concat(he):he),V==null?(i(J,z,Z),i(ue,z,Z),R(H.children||[],z,ue,X,K,ne,te,ie)):ae>0&&ae&64&&se&&V.dynamicChildren?(O(V.dynamicChildren,se,z,X,K,ne,te),(H.key!=null||X&&H===X.subTree)&&traverseStaticChildren(V,H,!0)):U(V,H,z,ue,X,K,ne,te,ie)},N=(V,H,z,Z,X,K,ne,te,ie)=>{H.slotScopeIds=te,V==null?H.shapeFlag&512?X.ctx.activate(H,z,Z,ne,ie):F(H,z,Z,X,K,ne,ie):Y(V,H,ie)},F=(V,H,z,Z,X,K,ne)=>{const te=V.component=createComponentInstance(V,Z,X);if(isKeepAlive(V)&&(te.ctx.renderer=ve),setupComponent(te,!1,ne),te.asyncDep){if(X&&X.registerDep(te,G,ne),!V.el){const ie=te.subTree=createVNode(Comment);S(null,ie,H,z),V.placeholder=ie.el}}else G(te,V,H,z,X,K,ne)},Y=(V,H,z)=>{const Z=H.component=V.component;if(shouldUpdateComponent(V,H,z))if(Z.asyncDep&&!Z.asyncResolved){W(Z,H,z);return}else Z.next=H,Z.update();else H.el=V.el,Z.vnode=H},G=(V,H,z,Z,X,K,ne)=>{const te=()=>{if(V.isMounted){let{next:ae,bu:se,u:he,parent:pe,vnode:_e}=V;{const Ae=locateNonHydratedAsyncRoot(V);if(Ae){ae&&(ae.el=_e.el,W(V,ae,ne)),Ae.asyncDep.then(()=>{V.isUnmounted||te()});return}}let ye=ae,Se;toggleRecurse(V,!1),ae?(ae.el=_e.el,W(V,ae,ne)):ae=_e,se&&invokeArrayFns(se),(Se=ae.props&&ae.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Se,pe,ae,_e),toggleRecurse(V,!0);const Te=renderComponentRoot(V),be=V.subTree;V.subTree=Te,_(be,Te,d(be.el),ce(be),V,X,K),ae.el=Te.el,ye===null&&updateHOCHostEl(V,Te.el),he&&queuePostRenderEffect(he,X),(Se=ae.props&&ae.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Se,pe,ae,_e),X)}else{let ae;const{el:se,props:he}=H,{bm:pe,m:_e,parent:ye,root:Se,type:Te}=V,be=isAsyncWrapper(H);toggleRecurse(V,!1),pe&&invokeArrayFns(pe),!be&&(ae=he&&he.onVnodeBeforeMount)&&invokeVNodeHook(ae,ye,H),toggleRecurse(V,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(Te);const Ae=V.subTree=renderComponentRoot(V);_(null,Ae,z,Z,V,X,K),H.el=Ae.el}if(_e&&queuePostRenderEffect(_e,X),!be&&(ae=he&&he.onVnodeMounted)){const Ae=H;queuePostRenderEffect(()=>invokeVNodeHook(ae,ye,Ae),X)}(H.shapeFlag&256||ye&&isAsyncWrapper(ye.vnode)&&ye.vnode.shapeFlag&256)&&V.a&&queuePostRenderEffect(V.a,X),V.isMounted=!0,H=z=Z=null}};V.scope.on();const ie=V.effect=new ReactiveEffect(te);V.scope.off();const J=V.update=ie.run.bind(ie),ue=V.job=ie.runIfDirty.bind(ie);ue.i=V,ue.id=V.uid,ie.scheduler=()=>queueJob(ue),toggleRecurse(V,!0),J()},W=(V,H,z)=>{H.component=V;const Z=V.vnode.props;V.vnode=H,V.next=null,updateProps$2(V,H.props,Z,z),updateSlots(V,H.children,z),pauseTracking(),flushPreFlushCbs(V),resetTracking()},U=(V,H,z,Z,X,K,ne,te,ie=!1)=>{const J=V&&V.children,ue=V?V.shapeFlag:0,ae=H.children,{patchFlag:se,shapeFlag:he}=H;if(se>0){if(se&128){ee(J,ae,z,Z,X,K,ne,te,ie);return}else if(se&256){j(J,ae,z,Z,X,K,ne,te,ie);return}}he&8?(ue&16&&le(J,X,K),ae!==J&&f(z,ae)):ue&16?he&16?ee(J,ae,z,Z,X,K,ne,te,ie):le(J,X,K,!0):(ue&8&&f(z,""),he&16&&R(ae,z,Z,X,K,ne,te,ie))},j=(V,H,z,Z,X,K,ne,te,ie)=>{V=V||EMPTY_ARR,H=H||EMPTY_ARR;const J=V.length,ue=H.length,ae=Math.min(J,ue);let se;for(se=0;se<ae;se++){const he=H[se]=ie?cloneIfMounted(H[se]):normalizeVNode(H[se]);_(V[se],he,z,null,X,K,ne,te,ie)}J>ue?le(V,X,K,!0,!1,ae):R(H,z,Z,X,K,ne,te,ie,ae)},ee=(V,H,z,Z,X,K,ne,te,ie)=>{let J=0;const ue=H.length;let ae=V.length-1,se=ue-1;for(;J<=ae&&J<=se;){const he=V[J],pe=H[J]=ie?cloneIfMounted(H[J]):normalizeVNode(H[J]);if(isSameVNodeType(he,pe))_(he,pe,z,null,X,K,ne,te,ie);else break;J++}for(;J<=ae&&J<=se;){const he=V[ae],pe=H[se]=ie?cloneIfMounted(H[se]):normalizeVNode(H[se]);if(isSameVNodeType(he,pe))_(he,pe,z,null,X,K,ne,te,ie);else break;ae--,se--}if(J>ae){if(J<=se){const he=se+1,pe=he<ue?H[he].el:Z;for(;J<=se;)_(null,H[J]=ie?cloneIfMounted(H[J]):normalizeVNode(H[J]),z,pe,X,K,ne,te,ie),J++}}else if(J>se)for(;J<=ae;)q(V[J],X,K,!0),J++;else{const he=J,pe=J,_e=new Map;for(J=pe;J<=se;J++){const xe=H[J]=ie?cloneIfMounted(H[J]):normalizeVNode(H[J]);xe.key!=null&&_e.set(xe.key,J)}let ye,Se=0;const Te=se-pe+1;let be=!1,Ae=0;const Ee=new Array(Te);for(J=0;J<Te;J++)Ee[J]=0;for(J=he;J<=ae;J++){const xe=V[J];if(Se>=Te){q(xe,X,K,!0);continue}let Ce;if(xe.key!=null)Ce=_e.get(xe.key);else for(ye=pe;ye<=se;ye++)if(Ee[ye-pe]===0&&isSameVNodeType(xe,H[ye])){Ce=ye;break}Ce===void 0?q(xe,X,K,!0):(Ee[Ce-pe]=J+1,Ce>=Ae?Ae=Ce:be=!0,_(xe,H[Ce],z,null,X,K,ne,te,ie),Se++)}const Me=be?getSequence(Ee):EMPTY_ARR;for(ye=Me.length-1,J=Te-1;J>=0;J--){const xe=pe+J,Ce=H[xe],we=H[xe+1],De=xe+1<ue?we.el||we.placeholder:Z;Ee[J]===0?_(null,Ce,z,De,X,K,ne,te,ie):be&&(ye<0||J!==Me[ye]?re(Ce,z,De,2):ye--)}}},re=(V,H,z,Z,X=null)=>{const{el:K,type:ne,transition:te,children:ie,shapeFlag:J}=V;if(J&6){re(V.component.subTree,H,z,Z);return}if(J&128){V.suspense.move(H,z,Z);return}if(J&64){ne.move(V,H,z,ve);return}if(ne===Fragment){i(K,H,z);for(let ae=0;ae<ie.length;ae++)re(ie[ae],H,z,Z);i(V.anchor,H,z);return}if(ne===Static){E(V,H,z);return}if(Z!==2&&J&1&&te)if(Z===0)te.beforeEnter(K),i(K,H,z),queuePostRenderEffect(()=>te.enter(K),X);else{const{leave:ae,delayLeave:se,afterLeave:he}=te,pe=()=>{V.ctx.isUnmounted?a(K):i(K,H,z)},_e=()=>{K._isLeaving&&K[leaveCbKey](!0),ae(K,()=>{pe(),he&&he()})};se?se(K,pe,_e):_e()}else i(K,H,z)},q=(V,H,z,Z=!1,X=!1)=>{const{type:K,props:ne,ref:te,children:ie,dynamicChildren:J,shapeFlag:ue,patchFlag:ae,dirs:se,cacheIndex:he}=V;if(ae===-2&&(X=!1),te!=null&&(pauseTracking(),setRef(te,null,z,V,!0),resetTracking()),he!=null&&(H.renderCache[he]=void 0),ue&256){H.ctx.deactivate(V);return}const pe=ue&1&&se,_e=!isAsyncWrapper(V);let ye;if(_e&&(ye=ne&&ne.onVnodeBeforeUnmount)&&invokeVNodeHook(ye,H,V),ue&6)de(V.component,z,Z);else{if(ue&128){V.suspense.unmount(z,Z);return}pe&&invokeDirectiveHook(V,null,H,"beforeUnmount"),ue&64?V.type.remove(V,H,z,ve,Z):J&&!J.hasOnce&&(K!==Fragment||ae>0&&ae&64)?le(J,H,z,!1,!0):(K===Fragment&&ae&384||!X&&ue&16)&&le(ie,H,z),Z&&Q(V)}(_e&&(ye=ne&&ne.onVnodeUnmounted)||pe)&&queuePostRenderEffect(()=>{ye&&invokeVNodeHook(ye,H,V),pe&&invokeDirectiveHook(V,null,H,"unmounted")},z)},Q=V=>{const{type:H,el:z,anchor:Z,transition:X}=V;if(H===Fragment){fe(z,Z);return}if(H===Static){M(V);return}const K=()=>{a(z),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(V.shapeFlag&1&&X&&!X.persisted){const{leave:ne,delayLeave:te}=X,ie=()=>ne(z,K);te?te(V.el,K,ie):ie()}else K()},fe=(V,H)=>{let z;for(;V!==H;)z=g(V),a(V),V=z;a(H)},de=(V,H,z)=>{const{bum:Z,scope:X,job:K,subTree:ne,um:te,m:ie,a:J}=V;invalidateMount(ie),invalidateMount(J),Z&&invokeArrayFns(Z),X.stop(),K&&(K.flags|=8,q(ne,V,H,z)),te&&queuePostRenderEffect(te,H),queuePostRenderEffect(()=>{V.isUnmounted=!0},H)},le=(V,H,z,Z=!1,X=!1,K=0)=>{for(let ne=K;ne<V.length;ne++)q(V[ne],H,z,Z,X)},ce=V=>{if(V.shapeFlag&6)return ce(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const H=g(V.anchor||V.el),z=H&&H[TeleportEndKey];return z?g(z):H};let me=!1;const ge=(V,H,z)=>{V==null?H._vnode&&q(H._vnode,null,null,!0):_(H._vnode||null,V,H,null,null,null,z),H._vnode=V,me||(me=!0,flushPreFlushCbs(),flushPostFlushCbs(),me=!1)},ve={p:_,um:q,m:re,r:Q,mt:F,mc:R,pc:U,pbc:O,n:ce,o:r};return{render:ge,hydrate:void 0,createApp:createAppAPI(ge)}}function resolveChildrenNamespace({type:r,props:t},n){return n==="svg"&&r==="foreignObject"||n==="mathml"&&r==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:r,job:t},n){n?(r.flags|=32,t.flags|=4):(r.flags&=-33,t.flags&=-5)}function needTransition(r,t){return(!r||r&&!r.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(r,t,n=!1){const i=r.children,a=t.children;if(isArray$1(i)&&isArray$1(a))for(let o=0;o<i.length;o++){const s=i[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=cloneIfMounted(a[o]),l.el=s.el),!n&&l.patchFlag!==-2&&traverseStaticChildren(s,l)),l.type===Text&&l.patchFlag!==-1&&(l.el=s.el),l.type===Comment&&!l.el&&(l.el=s.el)}}function getSequence(r){const t=r.slice(),n=[0];let i,a,o,s,l;const u=r.length;for(i=0;i<u;i++){const c=r[i];if(c!==0){if(a=n[n.length-1],r[a]<c){t[i]=a,n.push(i);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,r[n[l]]<c?o=l+1:s=l;c<r[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function locateNonHydratedAsyncRoot(r){const t=r.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(r){if(r)for(let t=0;t<r.length;t++)r[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(r,t){return doWatch(r,null,t)}function watch(r,t,n){return doWatch(r,t,n)}function doWatch(r,t,n=EMPTY_OBJ$1){const{immediate:i,deep:a,flush:o,once:s}=n,l=extend$1({},n),u=t&&i||!t&&o!=="post";let c;if(isInSSRComponentSetup){if(o==="sync"){const v=useSSRContext();c=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=NOOP,v.resume=NOOP,v.pause=NOOP,v}}const f=currentInstance;l.call=(v,y,_)=>callWithAsyncErrorHandling(v,f,y,_);let d=!1;o==="post"?l.scheduler=v=>{queuePostRenderEffect(v,f&&f.suspense)}:o!=="sync"&&(d=!0,l.scheduler=(v,y)=>{y?v():queueJob(v)}),l.augmentJob=v=>{t&&(v.flags|=4),d&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const g=watch$1(r,t,l);return isInSSRComponentSetup&&(c?c.push(g):u&&g()),g}function instanceWatch(r,t,n){const i=this.proxy,a=isString$1(r)?r.includes(".")?createPathGetter(i,r):()=>i[r]:r.bind(i,i);let o;isFunction$1(t)?o=t:(o=t.handler,n=t);const s=setCurrentInstance(this),l=doWatch(a,o.bind(i),n);return s(),l}function createPathGetter(r,t){const n=t.split(".");return()=>{let i=r;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}const getModelModifiers=(r,t)=>t==="modelValue"||t==="model-value"?r.modelModifiers:r[`${t}Modifiers`]||r[`${camelize(t)}Modifiers`]||r[`${hyphenate(t)}Modifiers`];function emit(r,t,...n){if(r.isUnmounted)return;const i=r.vnode.props||EMPTY_OBJ$1;let a=n;const o=t.startsWith("update:"),s=o&&getModelModifiers(i,t.slice(7));s&&(s.trim&&(a=n.map(f=>isString$1(f)?f.trim():f)),s.number&&(a=n.map(looseToNumber)));let l,u=i[l=toHandlerKey(t)]||i[l=toHandlerKey(camelize(t))];!u&&o&&(u=i[l=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,r,6,a);const c=i[l+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,callWithAsyncErrorHandling(c,r,6,a)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(r,t,n=!1){const i=n?mixinEmitsCache:t.emitsCache,a=i.get(r);if(a!==void 0)return a;const o=r.emits;let s={},l=!1;if(!isFunction$1(r)){const u=c=>{const f=normalizeEmitsOptions(c,t,!0);f&&(l=!0,extend$1(s,f))};!n&&t.mixins.length&&t.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!o&&!l?(isObject$3(r)&&i.set(r,null),null):(isArray$1(o)?o.forEach(u=>s[u]=null):extend$1(s,o),isObject$3(r)&&i.set(r,s),s)}function isEmitListener(r,t){return!r||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(r,t[0].toLowerCase()+t.slice(1))||hasOwn$1(r,hyphenate(t))||hasOwn$1(r,t))}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:t,vnode:n,proxy:i,withProxy:a,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,props:d,data:g,setupState:v,ctx:y,inheritAttrs:_}=r,x=setCurrentRenderingInstance(r);let S,b;try{if(n.shapeFlag&4){const M=a||i,D=M;S=normalizeVNode(c.call(D,M,f,d,v,g,y)),b=l}else{const M=t;S=normalizeVNode(M.length>1?M(d,{attrs:l,slots:s,emit:u}):M(d,null)),b=t.props?l:getFunctionalFallthrough(l)}}catch(M){blockStack.length=0,handleError(M,r,1),S=createVNode(Comment)}let E=S;if(b&&_!==!1){const M=Object.keys(b),{shapeFlag:D}=E;M.length&&D&7&&(o&&M.some(isModelListener)&&(b=filterModelListeners(b,o)),E=cloneVNode(E,b,!1,!0))}return n.dirs&&(E=cloneVNode(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(E,n.transition),S=E,setCurrentRenderingInstance(x),S}const getFunctionalFallthrough=r=>{let t;for(const n in r)(n==="class"||n==="style"||isOn$1(n))&&((t||(t={}))[n]=r[n]);return t},filterModelListeners=(r,t)=>{const n={};for(const i in r)(!isModelListener(i)||!(i.slice(9)in t))&&(n[i]=r[i]);return n};function shouldUpdateComponent(r,t,n){const{props:i,children:a,component:o}=r,{props:s,children:l,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?hasPropsChanged(i,s,c):!!s;if(u&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const g=f[d];if(s[g]!==i[g]&&!isEmitListener(c,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?hasPropsChanged(i,s,c):!0:!!s;return!1}function hasPropsChanged(r,t,n){const i=Object.keys(t);if(i.length!==Object.keys(r).length)return!0;for(let a=0;a<i.length;a++){const o=i[a];if(t[o]!==r[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:r,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=t.vnode).el=n,t=t.parent;else break}}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,t){t&&t.pendingBranch?isArray$1(r)?t.effects.push(...r):t.effects.push(r):queuePostFlushCb(r)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r,t=!1){isBlockTreeEnabled+=r,r<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,t,n,i,a,o){return setupBlock(createBaseVNode(r,t,n,i,a,o,!0))}function createBlock(r,t,n,i,a){return setupBlock(createVNode(r,t,n,i,a,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,t){return r.type===t.type&&r.key===t.key}const normalizeKey=({key:r})=>r??null,normalizeRef=({ref:r,ref_key:t,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?isString$1(r)||isRef(r)||isFunction$1(r)?{i:currentRenderingInstance,r,k:t,f:!!n}:r:null);function createBaseVNode(r,t=null,n=null,i=0,a=null,o=r===Fragment?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(u,n),o&128&&r.normalize(u)):n&&(u.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(r,t=null,n=null,i=0,a=null,o=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const l=cloneVNode(r,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=l:currentBlock.push(l)),l.patchFlag=-2,l}if(isClassComponent(r)&&(r=r.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:u}=t;l&&!isString$1(l)&&(t.class=normalizeClass(l)),isObject$3(u)&&(isProxy(u)&&!isArray$1(u)&&(u=extend$1({},u)),t.style=normalizeStyle$1(u))}const s=isString$1(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$3(r)?4:isFunction$1(r)?2:0;return createBaseVNode(r,t,n,i,a,s,o,!0)}function guardReactiveProps(r){return r?isProxy(r)||isInternalObject(r)?extend$1({},r):r:null}function cloneVNode(r,t,n=!1,i=!1){const{props:a,ref:o,patchFlag:s,children:l,transition:u}=r,c=t?mergeProps(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:l,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==Fragment?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:u,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return u&&i&&setTransitionHooks(f,u.clone(f)),f}function createTextVNode(r=" ",t=0){return createVNode(Text,null,r,t)}function createStaticVNode(r,t){const n=createVNode(Static,null,r);return n.staticCount=t,n}function createCommentVNode(r="",t=!1){return t?(openBlock(),createBlock(Comment,null,r)):createVNode(Comment,null,r)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray$1(r)?createVNode(Fragment,null,r.slice()):isVNode(r)?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cloneVNode(r)}function normalizeChildren(r,t){let n=0;const{shapeFlag:i}=r;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(i&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(r,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!isInternalObject(t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),i&64?(n=16,t=[createTextVNode(t)]):n=8);r.children=t,r.shapeFlag|=n}function mergeProps(...r){const t={};for(let n=0;n<r.length;n++){const i=r[n];for(const a in i)if(a==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(a==="style")t.style=normalizeStyle$1([t.style,i.style]);else if(isOn$1(a)){const o=t[a],s=i[a];s&&o!==s&&!(isArray$1(o)&&o.includes(s))&&(t[a]=o?[].concat(o,s):s)}else a!==""&&(t[a]=i[a])}return t}function invokeVNodeHook(r,t,n,i=null){callWithAsyncErrorHandling(r,t,7,[n,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(r,t,n){const i=r.type,a=(t?t.appContext:r.appContext)||emptyAppContext,o={uid:uid++,vnode:r,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,a),emitsOptions:normalizeEmitsOptions(i,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),r.ce&&r.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const r=getGlobalThis(),t=(n,i)=>{let a;return(a=r[n])||(a=r[n]=[]),a.push(i),o=>{a.length>1?a.forEach(s=>s(o)):a[0](o)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=r=>{const t=currentInstance;return internalSetCurrentInstance(r),r.scope.on(),()=>{r.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:i,children:a}=r.vnode,o=isStatefulComponent(r);initProps$1(r,i,o,t),initSlots(r,a,n||t);const s=o?setupStatefulComponent(r,t):void 0;return t&&setInSSRSetupState(!1),s}function setupStatefulComponent(r,t){const n=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,PublicInstanceProxyHandlers);const{setup:i}=n;if(i){pauseTracking();const a=r.setupContext=i.length>1?createSetupContext(r):null,o=setCurrentInstance(r),s=callWithErrorHandling(i,r,0,[r.props,a]),l=isPromise(s);if(resetTracking(),o(),(l||r.sp)&&!isAsyncWrapper(r)&&markAsyncBoundary(r),l){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(u=>{handleSetupResult(r,u)}).catch(u=>{handleError(u,r,0)});r.asyncDep=s}else handleSetupResult(r,s)}else finishComponentSetup(r)}function handleSetupResult(r,t,n){isFunction$1(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:isObject$3(t)&&(r.setupState=proxyRefs(t)),finishComponentSetup(r)}function finishComponentSetup(r,t,n){const i=r.type;r.render||(r.render=i.render||NOOP);{const a=setCurrentInstance(r);pauseTracking();try{applyOptions(r)}finally{resetTracking(),a()}}}const attrsProxyHandlers={get(r,t){return track(r,"get",""),r[t]}};function createSetupContext(r){const t=n=>{r.exposed=n||{}};return{attrs:new Proxy(r.attrs,attrsProxyHandlers),slots:r.slots,emit:r.emit,expose:t}}function getComponentPublicInstance(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](r)},has(t,n){return n in t||n in publicPropertiesMap}})):r.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=r=>r.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(r,t=!0){return isFunction$1(r)?r.displayName||r.name:r.name||t&&r.__name}function formatComponentName(r,t,n=!1){let i=getComponentName(t);if(!i&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(i=a[1])}if(!i&&r&&r.parent){const a=o=>{for(const s in o)if(o[s]===t)return s};i=a(r.components||r.parent.type.components)||a(r.appContext.components)}return i?classify(i):n?"App":"Anonymous"}function isClassComponent(r){return isFunction$1(r)&&"__vccOpts"in r}const computed=(r,t)=>computed$1(r,t,isInSSRComponentSetup);function h(r,t,n){try{setBlockTracking(-1);const i=arguments.length;return i===2?isObject$3(t)&&!isArray$1(t)?isVNode(t)?createVNode(r,null,[t]):createVNode(r,t):createVNode(r,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&isVNode(n)&&(n=[n]),createVNode(r,t,n))}finally{setBlockTracking(1)}}const version="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:r=>r})}catch{}const unsafeToTrustedHTML=policy?r=>policy.createHTML(r):r=>r,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,t,n)=>{t.insertBefore(r,n||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,n,i)=>{const a=t==="svg"?doc.createElementNS(svgNS,r):t==="mathml"?doc.createElementNS(mathmlNS,r):n?doc.createElement(r,{is:n}):doc.createElement(r);return r==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,n,i,a,o){const s=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const l=templateContainer.content;if(i==="svg"||i==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(r,t,n){const i=r[vtcKey];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?r.removeAttribute("class"):n?r.setAttribute("class",t):r.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={name:"show",beforeMount(r,{value:t},{transition:n}){r[vShowOriginalDisplay]=r.style.display==="none"?"":r.style.display,n&&t?n.beforeEnter(r):setDisplay(r,t)},mounted(r,{value:t},{transition:n}){n&&t&&n.enter(r)},updated(r,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(r),setDisplay(r,!0),i.enter(r)):i.leave(r,()=>{setDisplay(r,!1)}):setDisplay(r,t))},beforeUnmount(r,{value:t}){setDisplay(r,t)}};function setDisplay(r,t){r.style.display=t?r[vShowOriginalDisplay]:"none",r[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(r,t,n){const i=r.style,a=isString$1(n);let o=!1;if(n&&!a){if(t)if(isString$1(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&setStyle(i,l,"")}else for(const s in t)n[s]==null&&setStyle(i,s,"");for(const s in n)s==="display"&&(o=!0),setStyle(i,s,n[s])}else if(a){if(t!==n){const s=i[CSS_VAR_TEXT];s&&(n+=";"+s),i.cssText=n,o=displayRE.test(n)}}else t&&r.removeAttribute("style");vShowOriginalDisplay in r&&(r[vShowOriginalDisplay]=o?i.display:"",r[vShowHidden]&&(i.display="none"))}const importantRE=/\s*!important$/;function setStyle(r,t,n){if(isArray$1(n))n.forEach(i=>setStyle(r,t,i));else if(n==null&&(n=""),t.startsWith("--"))r.setProperty(t,n);else{const i=autoPrefix(r,t);importantRE.test(n)?r.setProperty(hyphenate(i),n.replace(importantRE,""),"important"):r[i]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,t){const n=prefixCache[t];if(n)return n;let i=camelize(t);if(i!=="filter"&&i in r)return prefixCache[t]=i;i=capitalize(i);for(let a=0;a<prefixes.length;a++){const o=prefixes[a]+i;if(o in r)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,t,n,i,a,o=isSpecialBooleanAttr(t)){i&&t.startsWith("xlink:")?n==null?r.removeAttributeNS(xlinkNS,t.slice(6,t.length)):r.setAttributeNS(xlinkNS,t,n):n==null||o&&!includeBooleanAttr(n)?r.removeAttribute(t):r.setAttribute(t,o?"":isSymbol(n)?String(n):n)}function patchDOMProp(r,t,n,i,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(r[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const o=r.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?r.getAttribute("value")||"":r.value,u=n==null?r.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in r))&&(r.value=u),n==null&&r.removeAttribute(t),r._value=n;return}let s=!1;if(n===""||n==null){const l=typeof r[t];l==="boolean"?n=includeBooleanAttr(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{r[t]=n}catch{}s&&r.removeAttribute(a||t)}function addEventListener$1(r,t,n,i){r.addEventListener(t,n,i)}function removeEventListener$1(r,t,n,i){r.removeEventListener(t,n,i)}const veiKey=Symbol("_vei");function patchEvent(r,t,n,i,a=null){const o=r[veiKey]||(r[veiKey]={}),s=o[t];if(i&&s)s.value=i;else{const[l,u]=parseName(t);if(i){const c=o[t]=createInvoker(i,a);addEventListener$1(r,l,c,u)}else s&&(removeEventListener$1(r,l,s,u),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let t;if(optionsModifierRE.test(r)){t={};let i;for(;i=r.match(optionsModifierRE);)r=r.slice(0,r.length-i[0].length),t[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):hyphenate(r.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(r,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,n.value),t,5,[i])};return n.value=r,n.attached=getNow(),n}function patchStopImmediatePropagation(r,t){if(isArray$1(t)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},t.map(i=>a=>!a._stopped&&i&&i(a))}else return t}const isNativeOn=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,patchProp=(r,t,n,i,a,o)=>{const s=a==="svg";t==="class"?patchClass(r,i,s):t==="style"?patchStyle(r,n,i):isOn$1(t)?isModelListener(t)||patchEvent(r,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(r,t,i,s))?(patchDOMProp(r,t,i),!r.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(r,t,i,s,o,t!=="value")):r._isVueCE&&(/[A-Z]/.test(t)||!isString$1(i))?patchDOMProp(r,camelize(t),i,o,t):(t==="true-value"?r._trueValue=i:t==="false-value"&&(r._falseValue=i),patchAttr(r,t,i,s))};function shouldSetAsProp(r,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in r&&isNativeOn(t)&&isFunction$1(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=r.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return isNativeOn(t)&&isString$1(n)?!1:t in r}const getModelAssigner=r=>{const t=r.props["onUpdate:modelValue"]||!1;return isArray$1(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(r){r.target.composing=!0}function onCompositionEnd(r){const t=r.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(r,{modifiers:{lazy:t,trim:n,number:i}},a){r[assignKey]=getModelAssigner(a);const o=i||a.props&&a.props.type==="number";addEventListener$1(r,t?"change":"input",s=>{if(s.target.composing)return;let l=r.value;n&&(l=l.trim()),o&&(l=looseToNumber(l)),r[assignKey](l)}),n&&addEventListener$1(r,"change",()=>{r.value=r.value.trim()}),t||(addEventListener$1(r,"compositionstart",onCompositionStart),addEventListener$1(r,"compositionend",onCompositionEnd),addEventListener$1(r,"change",onCompositionEnd))},mounted(r,{value:t}){r.value=t??""},beforeUpdate(r,{value:t,oldValue:n,modifiers:{lazy:i,trim:a,number:o}},s){if(r[assignKey]=getModelAssigner(s),r.composing)return;const l=(o||r.type==="number")&&!/^0\d/.test(r.value)?looseToNumber(r.value):r.value,u=t??"";l!==u&&(document.activeElement===r&&r.type!=="range"&&(i&&t===n||a&&r.value.trim()===u)||(r.value=u))}},vModelCheckbox={deep:!0,created(r,t,n){r[assignKey]=getModelAssigner(n),addEventListener$1(r,"change",()=>{const i=r._modelValue,a=getValue(r),o=r.checked,s=r[assignKey];if(isArray$1(i)){const l=looseIndexOf(i,a),u=l!==-1;if(o&&!u)s(i.concat(a));else if(!o&&u){const c=[...i];c.splice(l,1),s(c)}}else if(isSet(i)){const l=new Set(i);o?l.add(a):l.delete(a),s(l)}else s(getCheckboxValue(r,o))})},mounted:setChecked,beforeUpdate(r,t,n){r[assignKey]=getModelAssigner(n),setChecked(r,t,n)}};function setChecked(r,{value:t,oldValue:n},i){r._modelValue=t;let a;if(isArray$1(t))a=looseIndexOf(t,i.props.value)>-1;else if(isSet(t))a=t.has(i.props.value);else{if(t===n)return;a=looseEqual(t,getCheckboxValue(r,!0))}r.checked!==a&&(r.checked=a)}const vModelSelect={deep:!0,created(r,{value:t,modifiers:{number:n}},i){const a=isSet(t);addEventListener$1(r,"change",()=>{const o=Array.prototype.filter.call(r.options,s=>s.selected).map(s=>n?looseToNumber(getValue(s)):getValue(s));r[assignKey](r.multiple?a?new Set(o):o:o[0]),r._assigning=!0,nextTick(()=>{r._assigning=!1})}),r[assignKey]=getModelAssigner(i)},mounted(r,{value:t}){setSelected(r,t)},beforeUpdate(r,t,n){r[assignKey]=getModelAssigner(n)},updated(r,{value:t}){r._assigning||setSelected(r,t)}};function setSelected(r,t){const n=r.multiple,i=isArray$1(t);if(!(n&&!i&&!isSet(t))){for(let a=0,o=r.options.length;a<o;a++){const s=r.options[a],l=getValue(s);if(n)if(i){const u=typeof l;u==="string"||u==="number"?s.selected=t.some(c=>String(c)===String(l)):s.selected=looseIndexOf(t,l)>-1}else s.selected=t.has(l);else if(looseEqual(getValue(s),t)){r.selectedIndex!==a&&(r.selectedIndex=a);return}}!n&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function getValue(r){return"_value"in r?r._value:r.value}function getCheckboxValue(r,t){const n=t?"_trueValue":"_falseValue";return n in r?r[n]:t}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,t)=>systemModifiers.some(n=>r[`${n}Key`]&&!t.includes(n))},withModifiers=(r,t)=>{const n=r._withMods||(r._withMods={}),i=t.join(".");return n[i]||(n[i]=((a,...o)=>{for(let s=0;s<t.length;s++){const l=modifierGuards[t[s]];if(l&&l(a,t))return}return r(a,...o)}))},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=((...r)=>{const t=ensureRenderer().createApp(...r),{mount:n}=t;return t.mount=i=>{const a=normalizeContainer(i);if(!a)return;const o=t._component;!isFunction$1(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=n(a,!1,resolveRootNamespace(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t});function resolveRootNamespace(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function normalizeContainer(r){return isString$1(r)?document.querySelector(r):r}const _export_sfc=(r,t)=>{const n=r.__vccOpts||r;for(const[i,a]of t)n[i]=a;return n},_hoisted_1$9={class:"curve-selector"},_hoisted_2$9=["value"],_hoisted_3$6=["value"],_sfc_main$a={__name:"CurveSelector",props:{curves:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(r,{emit:t}){const n=t;function i(a){n("update:modelValue",a.target.value)}return(a,o)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[o[0]||(o[0]=createBaseVNode("h3",{class:"selector-label",for:"curve-select"},"",-1)),createBaseVNode("select",{id:"curve-select",class:"selector-input",value:r.modelValue,onChange:i},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.curves,s=>(openBlock(),createElementBlock("option",{key:s.id,value:s.id},toDisplayString(s.name),9,_hoisted_3$6))),128))],40,_hoisted_2$9)]))}},CurveSelector=_export_sfc(_sfc_main$a,[["__scopeId","data-v-d9d09123"]]),_hoisted_1$8={class:"shared-controls"},_hoisted_2$8={key:0,class:"control-group checkbox-group"},_hoisted_3$5={class:"checkbox-label"},_hoisted_4$4={class:"control-group checkbox-group"},_hoisted_5$3={class:"checkbox-label"},_hoisted_6$2={key:1,class:"axis-manual-controls"},_hoisted_7$2={class:"control-pair"},_hoisted_8$2={class:"control-pair"},_hoisted_9$2={class:"control-group"},_hoisted_10$2={class:"slider-with-value"},_hoisted_11$2={class:"value-display"},_hoisted_12$2={class:"control-group view-mode-group"},_hoisted_13$2={class:"view-mode-buttons"},_hoisted_14$1={class:"control-group"},_hoisted_15$1={key:0,class:"custom-aspect"},_sfc_main$9={__name:"SharedControls",props:{modelValue:{type:Object},holdEnabled:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(r,{emit:t}){function n(){return{hold:!1,autoYAxis:!1,manualYMin:0,manualYMax:1200,chartPadding:20,viewMode:"normal",aspectRatioPreset:"auto",aspectWidth:16,aspectHeight:9}}const i=r,a=t,o=reactive({...n(),...i.modelValue||{}});watch(()=>i.modelValue,c=>{c&&Object.assign(o,n(),c||{})},{deep:!0}),watch(o,c=>{const f={...c};f.manualYMax<=f.manualYMin&&(f.manualYMax=f.manualYMin+100),a("update:modelValue",f)},{deep:!0}),watch(()=>o.aspectRatioPreset,c=>{if(!c||c==="custom"||c==="auto")return;const f=String(c).split(":");if(f.length===2){const d=Number(f[0])||o.aspectWidth||16,g=Number(f[1])||o.aspectHeight||9;o.aspectWidth=d,o.aspectHeight=g,a("update:modelValue",{...o})}});function s(c){o.viewMode=c}function l(){const c=n();return c.manualYMax=o.defaultYAxis.max,c.manualYMin=o.defaultYAxis.min,c}function u(){Object.assign(o,l())}return(c,f)=>(openBlock(),createElementBlock("section",_hoisted_1$8,[f[19]||(f[19]=createBaseVNode("h3",{class:"section-title"},"",-1)),i.holdEnabled?(openBlock(),createElementBlock("div",_hoisted_2$8,[createBaseVNode("label",_hoisted_3$5,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=d=>o.hold=d)},null,512),[[vModelCheckbox,o.hold]]),f[10]||(f[10]=createBaseVNode("span",null," (Hold)",-1))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("label",_hoisted_5$3,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=d=>o.autoYAxis=d)},null,512),[[vModelCheckbox,o.autoYAxis]]),f[11]||(f[11]=createBaseVNode("span",null," Y ",-1))])]),o.autoYAxis?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$2,[f[12]||(f[12]=createBaseVNode("label",{for:"y-min"},"Y ",-1)),withDirectives(createBaseVNode("input",{id:"y-min",type:"number","onUpdate:modelValue":f[2]||(f[2]=d=>o.manualYMin=d),min:"0",step:"10"},null,512),[[vModelText,o.manualYMin,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_8$2,[f[13]||(f[13]=createBaseVNode("label",{for:"y-max"},"Y ",-1)),withDirectives(createBaseVNode("input",{id:"y-max",type:"number","onUpdate:modelValue":f[3]||(f[3]=d=>o.manualYMax=d),min:"100",step:"50"},null,512),[[vModelText,o.manualYMax,void 0,{number:!0}]])])])),createBaseVNode("div",_hoisted_9$2,[f[14]||(f[14]=createBaseVNode("label",{for:"chart-padding"},"",-1)),createBaseVNode("div",_hoisted_10$2,[withDirectives(createBaseVNode("input",{id:"chart-padding",type:"range",min:"10",max:"60",step:"5","onUpdate:modelValue":f[4]||(f[4]=d=>o.chartPadding=d)},null,512),[[vModelText,o.chartPadding,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_11$2,toDisplayString(o.chartPadding)+" px",1)])]),createBaseVNode("div",_hoisted_12$2,[f[15]||(f[15]=createBaseVNode("label",null,"",-1)),createBaseVNode("div",_hoisted_13$2,[createBaseVNode("button",{type:"button",class:normalizeClass({active:o.viewMode==="normal"}),onClick:f[5]||(f[5]=d=>s("normal"))},"  ",2),createBaseVNode("button",{type:"button",class:normalizeClass({active:o.viewMode==="wide"}),onClick:f[6]||(f[6]=d=>s("wide"))},"  ",2)])]),createBaseVNode("div",_hoisted_14$1,[f[18]||(f[18]=createBaseVNode("label",null,"",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":f[7]||(f[7]=d=>o.aspectRatioPreset=d)},[...f[16]||(f[16]=[createStaticVNode('<option value="auto" data-v-5489f083></option><option value="16:9" data-v-5489f083>16:9 ()</option><option value="4:3" data-v-5489f083>4:3 ()</option><option value="1:1" data-v-5489f083>1:1 ()</option><option value="custom" data-v-5489f083></option>',5)])],512),[[vModelSelect,o.aspectRatioPreset]]),o.aspectRatioPreset==="custom"?(openBlock(),createElementBlock("div",_hoisted_15$1,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":f[8]||(f[8]=d=>o.aspectWidth=d),min:"1",step:"1","aria-label":"Aspect Width"},null,512),[[vModelText,o.aspectWidth,void 0,{number:!0}]]),f[17]||(f[17]=createBaseVNode("span",null,":",-1)),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":f[9]||(f[9]=d=>o.aspectHeight=d),min:"1",step:"1","aria-label":"Aspect Height"},null,512),[[vModelText,o.aspectHeight,void 0,{number:!0}]])])):createCommentVNode("",!0)]),createBaseVNode("button",{type:"button",class:"reset-button",onClick:u},"  ")]))}},SharedControls=_export_sfc(_sfc_main$9,[["__scopeId","data-v-5489f083"]]),_hoisted_1$7={key:0,class:"curve-panel"},_hoisted_2$7={key:1,class:"curve-panel__placeholder"},_sfc_main$8={__name:"CurvePanel",props:{curve:{type:Object,default:null},modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(r,{emit:t}){const n=r,i=t,a=computed(()=>n.curve?.ControlsComponent??null);function o(s){i("update:modelValue",s||{})}return(s,l)=>a.value?(openBlock(),createElementBlock("section",_hoisted_1$7,[(openBlock(),createBlock(resolveDynamicComponent(a.value),{modelValue:r.modelValue,"onUpdate:modelValue":o},null,8,["modelValue"]))])):(openBlock(),createElementBlock("p",_hoisted_2$7,""))}},CurvePanel=_export_sfc(_sfc_main$8,[["__scopeId","data-v-3b0c2420"]]);function useChartOptions(r,t,n,i){return computed(()=>{const a=unref(r)??[],o=normalizeAxis(unref(t));normalizeShared(unref(n));const s=unref(i)||{xLabel:" ()",yLabel:" ()"},l=a.map(u=>u?.name).filter(Boolean);return{tooltip:{trigger:"axis",formatter:u=>Array.isArray(u)?u.map(c=>{const f=c?.data??[],d=Array.isArray(f)?f[0]:void 0,g=Array.isArray(f)?f[1]:void 0,v=s.xLabel.split(" ")[0]||"X",y=s.yLabel.split(" ")[0]||"Y";return`${c.seriesName}<br/>${v}: ${formatNumber(d)}<br/>${y}: ${formatNumber(g)}`}).join("<br/>"):""},legend:{data:l,top:10,textStyle:{fontSize:16}},grid:{left:60,right:40,bottom:60,top:60,containLabel:!0},xAxis:{type:"value",name:s.xLabel,nameLocation:"middle",nameGap:35,nameTextStyle:{fontSize:16,fontWeight:"bold"},min:0,max:16,interval:1,axisLine:{lineStyle:{color:"#333"}}},yAxis:{type:"value",name:s.yLabel,nameLocation:"middle",nameGap:45,nameTextStyle:{fontSize:16,fontWeight:"bold"},min:o.min,max:o.max,axisLine:{lineStyle:{color:"#333"}}},series:a}})}function normalizeAxis(r){if(!r||typeof r!="object")return{min:0,max:1200};const t=Number.isFinite(r.min)?r.min:0,n=Number.isFinite(r.max)?r.max:Math.max(t+100,1200);return{min:t,max:Math.max(n,t+100)}}function normalizeShared(r){return!r||typeof r!="object"?{}:r}function formatNumber(r){return Number.isFinite(r)?Number(r).toFixed(2):"-"}function useFullscreen(r){const t=ref(!1);async function n(){const s=r?.value;s&&(s.requestFullscreen?await s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen())}async function i(){document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?document.webkitExitFullscreen?.():document.msFullscreenElement&&document.msExitFullscreen?.()}function a(){t.value?i():n()}function o(){const s=!!(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement);t.value=s}return typeof document<"u"&&(document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o),document.addEventListener("msfullscreenchange",o)),onBeforeUnmount(()=>{typeof document<"u"&&(document.removeEventListener("fullscreenchange",o),document.removeEventListener("webkitfullscreenchange",o),document.removeEventListener("msfullscreenchange",o))}),{isFullscreen:t,enter:n,exit:i,toggle:a}}const _hoisted_1$6={class:"chart-header"},_hoisted_2$6={class:"chart-title"},_sfc_main$7={__name:"ChartArea",props:{series:{type:Array,default:()=>[]},yAxis:{type:Object,default:()=>({min:0,max:1200})},sharedControls:{type:Object,required:!0},chartMeta:{type:Object,default:()=>({})},axisLabels:{type:Object,default:()=>({xLabel:" ()",yLabel:" ()"})},chartTitle:{type:String,default:"-"},ChartInfoComponent:{type:Object,default:null},currentParams:{type:Object,default:()=>({})}},setup(r){const t=r,n=ref(null),i=ref(null),a=ref(0),o=ref(0);let s;const{isFullscreen:l,toggle:u}=useFullscreen(n),c=computed(()=>(t.series||[]).map(S=>{const{meta:b,...E}=S||{};return E})),f=computed(()=>t.yAxis),d=computed(()=>t.axisLabels),g=useChartOptions(c,f,t.sharedControls,d),v=computed(()=>t.sharedControls.aspectRatioPreset!=="auto"),y=computed(()=>{if((t.sharedControls?.aspectRatioPreset??"auto")==="auto")return null;console.log("[ChartArea] chartDimensions: aspect mode",{preset:t.sharedControls.aspectRatioPreset,ratio:`${t.sharedControls.aspectWidth}:${t.sharedControls.aspectHeight}`,container:`${a.value}x${o.value}`});const b=t.sharedControls&&typeof t.sharedControls.chartPadding=="number"?t.sharedControls.chartPadding*2:20,E=400,M=300,D=a.value-b,w=o.value-b,I=t.sharedControls.aspectWidth,R=t.sharedControls.aspectHeight,P=I/R;let O=D,L=O/P;return L>w&&(L=w,O=L*P),O<E&&(O=E,L=O/P),L<M&&(L=M,O=L*P),{width:Math.floor(O),height:Math.floor(L)}}),_=computed(()=>{const b={padding:`${t.sharedControls&&typeof t.sharedControls.chartPadding=="number"?t.sharedControls.chartPadding:20}px`,boxSizing:"border-box",transformOrigin:"center center"};return(t.sharedControls?.aspectRatioPreset??"auto")!=="auto"&&y.value?{...b,width:`${y.value.width}px`,height:`${y.value.height}px`,maxWidth:"100%",maxHeight:"100%",margin:"auto",flexShrink:0}:{...b,flex:"1 1 auto",height:"100%",width:"100%"}});function x(){if(!i.value)return;const S=i.value.getBoundingClientRect();a.value=S.width,o.value=S.height}return onMounted(()=>{x(),s=new ResizeObserver(()=>x()),i.value&&s.observe(i.value)}),onBeforeUnmount(()=>{s&&i.value&&(s.unobserve(i.value),s.disconnect())}),(S,b)=>{const E=resolveComponent("v-chart");return openBlock(),createElementBlock("div",{class:normalizeClass(["chart-area",[r.sharedControls.viewMode==="wide"?"chart-area--wide":"chart-area--normal",{"chart-area--fullscreen":unref(l)}]]),ref_key:"chartAreaRef",ref:n},[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",null,[createBaseVNode("h1",_hoisted_2$6,toDisplayString(r.chartTitle),1),r.ChartInfoComponent?(openBlock(),createBlock(resolveDynamicComponent(r.ChartInfoComponent),{key:0,chartMeta:r.chartMeta,viewMode:r.sharedControls.viewMode,params:t.currentParams},null,8,["chartMeta","viewMode","params"])):createCommentVNode("",!0)]),createBaseVNode("button",{class:"fullscreen-toggle",type:"button",onClick:b[0]||(b[0]=(...M)=>unref(u)&&unref(u)(...M))},toDisplayString(unref(l)?"":""),1)]),createBaseVNode("div",{class:"chart-container",ref_key:"chartContainerRef",ref:i},[createBaseVNode("div",{class:normalizeClass(["chart-wrapper",{"chart-wrapper--fixed":v.value}]),style:normalizeStyle$1(_.value)},[createVNode(E,{class:"chart",option:unref(g),autoresize:""},null,8,["option"])],6)],512)],2)}}},ChartArea=_export_sfc(_sfc_main$7,[["__scopeId","data-v-1a72a931"]]),_hoisted_1$5={class:"app-footer"},_hoisted_2$5={class:"footer-inner"},_sfc_main$6={__name:"Footer",setup(r){const t=new Date().getFullYear();return(n,i)=>(openBlock(),createElementBlock("footer",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[i[0]||(i[0]=createTextVNode(" ",-1)),createBaseVNode("span",null,toDisplayString(unref(t)),1),i[1]||(i[1]=createTextVNode(" An-Da Li at TJCU. All rights reserved.",-1))])]))}},Footer=_export_sfc(_sfc_main$6,[["__scopeId","data-v-cdc4fd30"]]),_hoisted_1$4={class:"indifference-controls"},_hoisted_2$4={class:"control-section"},_hoisted_3$4={class:"control-grid"},_hoisted_4$3={class:"control-item"},_hoisted_5$2={class:"control-item"},_hoisted_6$1={class:"formula"},_hoisted_7$1={class:"control-section"},_hoisted_8$1={class:"control-item"},_hoisted_9$1={class:"input-with-unit"},_hoisted_10$1={class:"control-item"},_hoisted_11$1={class:"input-with-unit"},_hoisted_12$1={class:"control-section"},_hoisted_13$1={class:"utility-wrapper"},_sfc_main$5={__name:"Controls",props:{modelValue:{type:Object,default:()=>({iWeight:1,hWeight:1,wageRate:10,unearnedIncome:0,utility:100})}},emits:["update:modelValue"],setup(r,{emit:t}){const n=r,i=t,a=reactive({...n.modelValue});return watch(()=>n.modelValue,o=>{Object.assign(a,o||{})},{deep:!0}),watch(a,o=>{const s={...o};s.utility>=100||(s.utility=100,a.utility=100),s.iWeight>0||(s.iWeight=.1,a.iWeight=.1),s.hWeight>0||(s.hWeight=.1,a.hWeight=.1),console.log("[Controls] emit update:modelValue",s),i("update:modelValue",s)},{deep:!0}),(o,s)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("section",_hoisted_2$4,[s[10]||(s[10]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$3,[s[6]||(s[6]=createBaseVNode("label",{for:"i-weight"}," (I)",-1)),withDirectives(createBaseVNode("input",{id:"i-weight",type:"number",min:"0.1",step:"0.1","onUpdate:modelValue":s[0]||(s[0]=l=>a.iWeight=l)},null,512),[[vModelText,a.iWeight,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_5$2,[s[7]||(s[7]=createBaseVNode("label",{for:"h-weight"}," (H)",-1)),withDirectives(createBaseVNode("input",{id:"h-weight",type:"number",min:"0.1",step:"0.1","onUpdate:modelValue":s[1]||(s[1]=l=>a.hWeight=l)},null,512),[[vModelText,a.hWeight,void 0,{number:!0}]])])]),createBaseVNode("div",_hoisted_6$1,[s[8]||(s[8]=createTextVNode("U = I",-1)),createBaseVNode("sup",null,toDisplayString(a.iWeight),1),s[9]||(s[9]=createTextVNode("  H",-1)),createBaseVNode("sup",null,toDisplayString(a.hWeight),1)])]),createBaseVNode("section",_hoisted_7$1,[s[15]||(s[15]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_8$1,[s[12]||(s[12]=createBaseVNode("label",{for:"unearned-income"},"",-1)),createBaseVNode("div",_hoisted_9$1,[withDirectives(createBaseVNode("input",{id:"unearned-income",type:"number",min:"0",step:"50","onUpdate:modelValue":s[2]||(s[2]=l=>a.unearnedIncome=l)},null,512),[[vModelText,a.unearnedIncome,void 0,{number:!0}]]),s[11]||(s[11]=createBaseVNode("span",{class:"unit"},"",-1))])]),createBaseVNode("div",_hoisted_10$1,[s[14]||(s[14]=createBaseVNode("label",{for:"wage-rate"},"",-1)),createBaseVNode("div",_hoisted_11$1,[withDirectives(createBaseVNode("input",{id:"wage-rate",type:"number",min:"0",step:"10","onUpdate:modelValue":s[3]||(s[3]=l=>a.wageRate=l)},null,512),[[vModelText,a.wageRate,void 0,{number:!0}]]),s[13]||(s[13]=createBaseVNode("span",{class:"unit"},"/",-1))])])]),createBaseVNode("section",_hoisted_12$1,[s[16]||(s[16]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_13$1,[withDirectives(createBaseVNode("input",{class:"utility-input",type:"number",min:"100",step:"10","onUpdate:modelValue":s[4]||(s[4]=l=>a.utility=l)},null,512),[[vModelText,a.utility,void 0,{number:!0}]]),withDirectives(createBaseVNode("input",{class:"utility-slider",type:"range",min:"100",max:"100000","onUpdate:modelValue":s[5]||(s[5]=l=>a.utility=l)},null,512),[[vModelText,a.utility,void 0,{number:!0}]])])])]))}},Controls$1=_export_sfc(_sfc_main$5,[["__scopeId","data-v-1f232780"]]),_hoisted_1$3={class:"chart-info"},_hoisted_2$3={class:"info-chip"},_hoisted_3$3={key:0,class:"info-chip"},_sfc_main$4={__name:"ChartInfo",props:{chartMeta:{type:Object,default:()=>({})},viewMode:{type:String,default:"normal"}},setup(r){const t=r,n=computed(()=>t.chartMeta.maxIncome?.toFixed?.(0)??0);return(i,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[a[0]||(a[0]=createBaseVNode("span",{class:"info-chip"},"16 ",-1)),createBaseVNode("span",_hoisted_2$3,"16 "+toDisplayString(n.value)+" ",1),r.viewMode==="wide"?(openBlock(),createElementBlock("span",_hoisted_3$3,"")):createCommentVNode("",!0)]))}},ChartInfo$1=_export_sfc(_sfc_main$4,[["__scopeId","data-v-7e2f46e6"]]),LEISURE_HOURS$1=16;function generateBudgetLine(r){const{wageRate:t=0,unearnedIncome:n=0}=r,i=[];for(let a=0;a<=LEISURE_HOURS$1;a+=.1){const o=t*(LEISURE_HOURS$1-a)+n;i.push([round$3(a),round$3(o)])}return i}function generateIndifferenceCurve(r,t,n=.05){const{utility:i=100,iWeight:a=1,hWeight:o=1}=r,s=[];if(!(i>0)||!(a>0)||!(o>0))return s;for(let l=n;l<=LEISURE_HOURS$1;l+=n){const u=Math.pow(l,o);if(!(u>0))continue;const c=Math.pow(i/u,1/a);!Number.isFinite(c)||c<0||Number.isFinite(t)&&t>0&&c>t*1.05||s.push([round$3(l),round$3(c)])}return s}function computeAutoYAxisMax(r){const{wageRate:t=0,unearnedIncome:n=0}=r,i=t*LEISURE_HOURS$1+n,o=[...generateIndifferenceCurve(r,Number.POSITIVE_INFINITY,.1)].map(([,f])=>f).sort((f,d)=>f-d),s=29,l=o.length>s?Math.floor(o[s]):0,u=o.length?l*3:0,c=Math.max(i,u,100);return Math.ceil(c*1.1/100)*100}function computeIndifferenceSeries(r,t={}){const{autoYAxis:n=!1,manualYMin:i=0,manualYMax:a=1200}=t,o=n?computeAutoYAxisMax(r):Math.max(a??1200,(i??0)+100),s=n?0:Math.max(i??0,0),l=generateBudgetLine(r),u=generateIndifferenceCurve(r,o);return{series:[{name:"",type:"line",data:l,lineStyle:{color:"#0066cc",width:3},symbol:"none",smooth:!1,meta:{holdEligible:!1}},{name:` (U=${Math.round(r.utility??0)})`,type:"line",data:u,lineStyle:{color:"#ff6b6b",width:3},symbol:"none",smooth:!0,meta:{holdEligible:!0,holdLabel:` U=${Math.round(r.utility??0)}`}}],axis:{min:s,max:o},meta:{maxIncome:(r.wageRate??0)*LEISURE_HOURS$1+(r.unearnedIncome??0)}}}function round$3(r){return Number.parseFloat(r.toFixed(2))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var numeric1_2_6$2={},hasRequiredNumeric1_2_6;function requireNumeric1_2_6(){return hasRequiredNumeric1_2_6||(hasRequiredNumeric1_2_6=1,(function(exports){var numeric=exports;typeof commonjsGlobal<"u"&&(commonjsGlobal.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,n){var i,a,o,s;for(typeof n>"u"&&(n=15),o=.5,i=new Date;;){for(o*=2,s=o;s>3;s-=4)t(),t(),t(),t();for(;s>0;)t(),s--;if(a=new Date,a-i>n)break}for(s=o;s>3;s-=4)t(),t(),t(),t();for(;s>0;)t(),s--;return a=new Date,1e3*(3*o-1)/(a-i)},numeric._myIndexOf=(function(t){var n=this.length,i;for(i=0;i<n;++i)if(this[i]===t)return i;return-1}),numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function n(o){if(o===0)return"0";if(isNaN(o))return"NaN";if(o<0)return"-"+n(-o);if(isFinite(o)){var s=Math.floor(Math.log(o)/Math.log(10)),l=o/Math.pow(10,s),u=l.toPrecision(numeric.precision);return parseFloat(u)===10&&(s++,l=1,u=l.toPrecision(numeric.precision)),parseFloat(u).toString()+"e"+s.toString()}return"Infinity"}var i=[];function a(o){var s;if(typeof o>"u")return i.push(Array(numeric.precision+8).join(" ")),!1;if(typeof o=="string")return i.push('"'+o+'"'),!1;if(typeof o=="boolean")return i.push(o.toString()),!1;if(typeof o=="number"){var l=n(o),u=o.toPrecision(numeric.precision),c=parseFloat(o.toString()).toString(),f=[l,u,c,parseFloat(u).toString(),parseFloat(c).toString()];for(s=1;s<f.length;s++)f[s].length<l.length&&(l=f[s]);return i.push(Array(numeric.precision+8-l.length).join(" ")+l),!1}if(o===null)return i.push("null"),!1;if(typeof o=="function"){i.push(o.toString());var d=!1;for(s in o)o.hasOwnProperty(s)&&(d?i.push(`,
`):i.push(`
{`),d=!0,i.push(s),i.push(`: 
`),a(o[s]));return d&&i.push(`}
`),!0}if(o instanceof Array){if(o.length>numeric.largeArray)return i.push("...Large Array..."),!0;var d=!1;for(i.push("["),s=0;s<o.length;s++)s>0&&(i.push(","),d&&i.push(`
 `)),d=a(o[s]);return i.push("]"),!0}i.push("{");var d=!1;for(s in o)o.hasOwnProperty(s)&&(d&&i.push(`,
`),d=!0,i.push(s),i.push(`: 
`),a(o[s]));return i.push("}"),!0}return a(t),i.join("")},numeric.parseDate=function(t){function n(i){if(typeof i=="string")return Date.parse(i.replace(/-/g,"/"));if(!(i instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var a=[],o;for(o=0;o<i.length;o++)a[o]=n(i[o]);return a}return n(t)},numeric.parseFloat=function(t){function n(i){if(typeof i=="string")return parseFloat(i);if(!(i instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var a=[],o;for(o=0;o<i.length;o++)a[o]=n(i[o]);return a}return n(t)},numeric.parseCSV=function(t){var n=t.split(`
`),i,a,o=[],s=/(([^'",]*)|('[^']*')|("[^"]*")),/g,l=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,u=function(g){return g.substr(0,g.length-1)},c=0;for(a=0;a<n.length;a++){var f=(n[a]+",").match(s),d;if(f.length>0){for(o[c]=[],i=0;i<f.length;i++)d=u(f[i]),l.test(d)?o[c][i]=parseFloat(d):o[c][i]=d;c++}}return o},numeric.toCSV=function(t){var n=numeric.dim(t),i,a,o,s,l;for(o=n[0],n[1],l=[],i=0;i<o;i++){for(s=[],a=0;a<o;a++)s[a]=t[i][a].toString();l[i]=s.join(", ")}return l.join(`
`)+`
`},numeric.getURL=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n},numeric.imageURL=function(t){function n(S){var b=S.length,E,M,D,w,I,R,P,O,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$="";for(E=0;E<b;E+=3)M=S[E],D=S[E+1],w=S[E+2],I=M>>2,R=((M&3)<<4)+(D>>4),P=((D&15)<<2)+(w>>6),O=w&63,E+1>=b?P=O=64:E+2>=b&&(O=64),$+=L.charAt(I)+L.charAt(R)+L.charAt(P)+L.charAt(O);return $}function i(S,b,E){typeof b>"u"&&(b=0),typeof E>"u"&&(E=S.length);var M=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],D=-1,w=0;S.length;var I;for(I=b;I<E;I++)w=(D^S[I])&255,D=D>>>8^M[w];return D^-1}var a=t[0].length,o=t[0][0].length,s,l,u,c,f,d,g,v,y,_,x=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,o>>24&255,o>>16&255,o>>8&255,o&255,a>>24&255,a>>16&255,a>>8&255,a&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(_=i(x,12,29),x[29]=_>>24&255,x[30]=_>>16&255,x[31]=_>>8&255,x[32]=_&255,s=1,l=0,g=0;g<a;g++){for(g<a-1?x.push(0):x.push(1),f=3*o+1+(g===0)&255,d=3*o+1+(g===0)>>8&255,x.push(f),x.push(d),x.push(~f&255),x.push(~d&255),g===0&&x.push(0),v=0;v<o;v++)for(u=0;u<3;u++)f=t[u][g][v],f>255?f=255:f<0?f=0:f=Math.round(f),s=(s+f)%65521,l=(l+s)%65521,x.push(f);x.push(0)}return y=(l<<16)+s,x.push(y>>24&255),x.push(y>>16&255),x.push(y>>8&255),x.push(y&255),c=x.length-41,x[33]=c>>24&255,x[34]=c>>16&255,x[35]=c>>8&255,x[36]=c&255,_=i(x,37),x.push(_>>24&255),x.push(_>>16&255),x.push(_>>8&255),x.push(_&255),x.push(0),x.push(0),x.push(0),x.push(0),x.push(73),x.push(69),x.push(78),x.push(68),x.push(174),x.push(66),x.push(96),x.push(130),"data:image/png;base64,"+n(x)},numeric._dim=function(t){for(var n=[];typeof t=="object";)n.push(t.length),t=t[0];return n},numeric.dim=function(t){var n,i;return typeof t=="object"?(n=t[0],typeof n=="object"?(i=n[0],typeof i=="object"?numeric._dim(t):[t.length,n.length]):[t.length]):[]},numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+`;
if(typeof x === "number") { var xi = x; `+t+`; return accum; }
if(typeof _s === "undefined") _s = numeric.dim(x);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i,xi;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) {
        accum = arguments.callee(x[i],accum,_s,_k+1);
    }    return accum;
}
for(i=_n-1;i>=1;i-=2) { 
    xi = x[i];
    `+t+`;
    xi = x[i-1];
    `+t+`;
}
if(i === 0) {
    xi = x[i];
    `+t+`
}
return accum;`)},numeric.mapreduce2=function(t,n){return Function("x",`var n = x.length;
var i,xi;
`+n+`;
for(i=n-1;i!==-1;--i) { 
    xi = x[i];
    `+t+`;
}
return accum;`)},numeric.same=function r(t,n){var i,a;if(!(t instanceof Array)||!(n instanceof Array)||(a=t.length,a!==n.length))return!1;for(i=0;i<a;i++)if(t[i]!==n[i])if(typeof t[i]=="object"){if(!r(t[i],n[i]))return!1}else return!1;return!0},numeric.rep=function(t,n,i){typeof i>"u"&&(i=0);var a=t[i],o=Array(a),s;if(i===t.length-1){for(s=a-2;s>=0;s-=2)o[s+1]=n,o[s]=n;return s===-1&&(o[0]=n),o}for(s=a-1;s>=0;s--)o[s]=numeric.rep(t,n,i+1);return o},numeric.dotMMsmall=function(t,n){var i,a,o,s,l,u,c,f,d,g,v;for(s=t.length,l=n.length,u=n[0].length,c=Array(s),i=s-1;i>=0;i--){for(f=Array(u),d=t[i],o=u-1;o>=0;o--){for(g=d[l-1]*n[l-1][o],a=l-2;a>=1;a-=2)v=a-1,g+=d[a]*n[a][o]+d[v]*n[v][o];a===0&&(g+=d[0]*n[0][o]),f[o]=g}c[i]=f}return c},numeric._getCol=function(t,n,i){var a=t.length,o;for(o=a-1;o>0;--o)i[o]=t[o][n],--o,i[o]=t[o][n];o===0&&(i[0]=t[0][n])},numeric.dotMMbig=function(t,n){var i=numeric._getCol,a=n.length,o=Array(a),s=t.length,l=n[0].length,u=new Array(s),c,f=numeric.dotVV,d,g;for(--a,--s,d=s;d!==-1;--d)u[d]=Array(l);for(--l,d=l;d!==-1;--d)for(i(n,d,o),g=s;g!==-1;--g)c=t[g],u[g][d]=f(c,o);return u},numeric.dotMV=function(t,n){var i=t.length;n.length;var a,o=Array(i),s=numeric.dotVV;for(a=i-1;a>=0;a--)o[a]=s(t[a],n);return o},numeric.dotVM=function(t,n){var i,a,o,s,l,u,c;for(o=t.length,s=n[0].length,l=Array(s),a=s-1;a>=0;a--){for(u=t[o-1]*n[o-1][a],i=o-2;i>=1;i-=2)c=i-1,u+=t[i]*n[i][a]+t[c]*n[c][a];i===0&&(u+=t[0]*n[0][a]),l[a]=u}return l},numeric.dotVV=function(t,n){var i,a=t.length,o,s=t[a-1]*n[a-1];for(i=a-2;i>=1;i-=2)o=i-1,s+=t[i]*n[i]+t[o]*n[o];return i===0&&(s+=t[0]*n[0]),s},numeric.dot=function(t,n){var i=numeric.dim;switch(i(t).length*1e3+i(n).length){case 2002:return n.length<10?numeric.dotMMsmall(t,n):numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var n,i,a,o=t.length,s=Array(o),l;for(n=o-1;n>=0;n--){for(l=Array(o),i=n+2,a=o-1;a>=i;a-=2)l[a]=0,l[a-1]=0;for(a>n&&(l[a]=0),l[n]=t[n],a=n-1;a>=1;a-=2)l[a]=0,l[a-1]=0;a===0&&(l[0]=0),s[n]=l}return s},numeric.getDiag=function(r){var t=Math.min(r.length,r[0].length),n,i=Array(t);for(n=t-1;n>=1;--n)i[n]=r[n][n],--n,i[n]=r[n][n];return n===0&&(i[0]=r[0][0]),i},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,n,i){typeof i>"u"&&(i="");var a=[],o,s=/\[i\]$/,l,u="",c=!1;for(o=0;o<t.length;o++)s.test(t[o])?(l=t[o].substring(0,t[o].length-3),u=l):l=t[o],l==="ret"&&(c=!0),a.push(l);return a[t.length]="_s",a[t.length+1]="_k",a[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+u+`);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i`+(c?"":", ret = Array(_n)")+`;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+t.join(",")+`,_s,_k+1);
    return ret;
}
`+i+`
for(i=_n-1;i!==-1;--i) {
    `+n+`
}
return ret;`,Function.apply(null,a)},numeric.pointwise2=function(t,n,i){typeof i>"u"&&(i="");var a=[],o,s=/\[i\]$/,l,u="",c=!1;for(o=0;o<t.length;o++)s.test(t[o])?(l=t[o].substring(0,t[o].length-3),u=l):l=t[o],l==="ret"&&(c=!0),a.push(l);return a[t.length]="var _n = "+u+`.length;
var i`+(c?"":", ret = Array(_n)")+`;
`+i+`
for(i=_n-1;i!==-1;--i) {
`+n+`
}
return ret;`,Function.apply(null,a)},numeric._biforeach=(function r(t,n,i,a,o){if(a===i.length-1){o(t,n);return}var s,l=i[a];for(s=l-1;s>=0;s--)r(typeof t=="object"?t[s]:t,typeof n=="object"?n[s]:n,i,a+1,o)}),numeric._biforeach2=(function r(t,n,i,a,o){if(a===i.length-1)return o(t,n);var s,l=i[a],u=Array(l);for(s=l-1;s>=0;--s)u[s]=r(typeof t=="object"?t[s]:t,typeof n=="object"?n[s]:n,i,a+1,o);return u}),numeric._foreach=(function r(t,n,i,a){if(i===n.length-1){a(t);return}var o,s=n[i];for(o=s-1;o>=0;o--)r(t[o],n,i+1,a)}),numeric._foreach2=(function r(t,n,i,a){if(i===n.length-1)return a(t);var o,s=n[i],l=Array(s);for(o=s-1;o>=0;o--)l[o]=r(t[o],n,i+1,a);return l}),numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},(function(){var r,t;for(r=0;r<numeric.mathfuns2.length;++r)t=numeric.mathfuns2[r],numeric.ops2[t]=t;for(r in numeric.ops2)if(numeric.ops2.hasOwnProperty(r)){t=numeric.ops2[r];var n,i,a="";numeric.myIndexOf.call(numeric.mathfuns2,r)!==-1?(a="var "+t+" = Math."+t+`;
`,n=function(o,s,l){return o+" = "+t+"("+s+","+l+")"},i=function(o,s){return o+" = "+t+"("+o+","+s+")"}):(n=function(o,s,l){return o+" = "+s+" "+t+" "+l},numeric.opseq.hasOwnProperty(r+"eq")?i=function(o,s){return o+" "+t+"= "+s}:i=function(o,s){return o+" = "+o+" "+t+" "+s}),numeric[r+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),numeric[r+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),numeric[r+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),numeric[r]=Function(`var n = arguments.length, i, x = arguments[0], y;
var VV = numeric.`+r+"VV, VS = numeric."+r+"VS, SV = numeric."+r+`SV;
var dim = numeric.dim;
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof x === "object") {
      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);
      else x = numeric._biforeach2(x,y,dim(x),0,VS);
  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);
  else `+i("x","y")+`
}
return x;
`),numeric[t]=numeric[r],numeric[r+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),a),numeric[r+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),a),numeric[r+"eq"]=Function(`var n = arguments.length, i, x = arguments[0], y;
var V = numeric.`+r+"eqV, S = numeric."+r+`eqS
var s = numeric.dim(x);
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);
  else numeric._biforeach(x,y,s,0,S);
}
return x;
`)}for(r=0;r<numeric.mathfuns2.length;++r)t=numeric.mathfuns2[r],delete numeric.ops2[t];for(r=0;r<numeric.mathfuns.length;++r)t=numeric.mathfuns[r],numeric.ops1[t]=t;for(r in numeric.ops1)numeric.ops1.hasOwnProperty(r)&&(a="",t=numeric.ops1[r],numeric.myIndexOf.call(numeric.mathfuns,r)!==-1&&Math.hasOwnProperty(t)&&(a="var "+t+" = Math."+t+`;
`),numeric[r+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",a),numeric[r+"eq"]=Function("x",'if(typeof x !== "object") return '+t+`x
var i;
var V = numeric.`+r+`eqV;
var s = numeric.dim(x);
numeric._foreach(x,s,0,V);
return x;
`),numeric[r+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",a),numeric[r]=Function("x",'if(typeof x !== "object") return '+t+`(x)
var i;
var V = numeric.`+r+`V;
var s = numeric.dim(x);
return numeric._foreach2(x,s,0,V);
`));for(r=0;r<numeric.mathfuns.length;++r)t=numeric.mathfuns[r],delete numeric.ops1[t];for(r in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(r)&&(t=numeric.mapreducers[r],numeric[r+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[r]=Function("x","s","k",t[1]+`if(typeof x !== "object") {    xi = x;
`+t[0]+`;
    return accum;
}if(typeof s === "undefined") s = numeric.dim(x);
if(typeof k === "undefined") k = 0;
if(k === s.length-1) return numeric.`+r+`V(x);
var xi;
var n = x.length, i;
for(i=n-1;i!==-1;--i) {
   xi = arguments.callee(x[i]);
`+t[0]+`;
}
return accum;
`))})(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,n){return typeof t=="object"?typeof n=="object"?numeric.truncVV(t,n):numeric.truncVS(t,n):typeof n=="object"?numeric.truncSV(t,n):Math.round(t/n)*n},numeric.inv=function(_){var n=numeric.dim(_),i=Math.abs,a=n[0],o=n[1],s=numeric.clone(_),l,u,c=numeric.identity(a),f,d,g,v,y,_;for(v=0;v<o;++v){var x=-1,S=-1;for(g=v;g!==a;++g)y=i(s[g][v]),y>S&&(x=g,S=y);for(u=s[x],s[x]=s[v],s[v]=u,d=c[x],c[x]=c[v],c[v]=d,_=u[v],y=v;y!==o;++y)u[y]/=_;for(y=o-1;y!==-1;--y)d[y]/=_;for(g=a-1;g!==-1;--g)if(g!==v){for(l=s[g],f=c[g],_=l[v],y=v+1;y!==o;++y)l[y]-=u[y]*_;for(y=o-1;y>0;--y)f[y]-=d[y]*_,--y,f[y]-=d[y]*_;y===0&&(f[0]-=d[0]*_)}}return c},numeric.det=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var i=n[0],a=1,o,s,l,u=numeric.clone(t),c,f,d,g,v;for(s=0;s<i-1;s++){for(l=s,o=s+1;o<i;o++)Math.abs(u[o][s])>Math.abs(u[l][s])&&(l=o);for(l!==s&&(g=u[l],u[l]=u[s],u[s]=g,a*=-1),c=u[s],o=s+1;o<i;o++){for(f=u[o],d=f[s]/c[s],l=s+1;l<i-1;l+=2)v=l+1,f[l]-=c[l]*d,f[v]-=c[v]*d;l!==i&&(f[l]-=c[l]*d)}if(c[s]===0)return 0;a*=c[s]}return a*u[s][s]},numeric.transpose=function(t){var n,i,a=t.length,o=t[0].length,s=Array(o),l,u,c;for(i=0;i<o;i++)s[i]=Array(a);for(n=a-1;n>=1;n-=2){for(u=t[n],l=t[n-1],i=o-1;i>=1;--i)c=s[i],c[n]=u[i],c[n-1]=l[i],--i,c=s[i],c[n]=u[i],c[n-1]=l[i];i===0&&(c=s[0],c[n]=u[0],c[n-1]=l[0])}if(n===0){for(l=t[0],i=o-1;i>=1;--i)s[i][0]=l[i],--i,s[i][0]=l[i];i===0&&(s[0][0]=l[0])}return s},numeric.negtranspose=function(t){var n,i,a=t.length,o=t[0].length,s=Array(o),l,u,c;for(i=0;i<o;i++)s[i]=Array(a);for(n=a-1;n>=1;n-=2){for(u=t[n],l=t[n-1],i=o-1;i>=1;--i)c=s[i],c[n]=-u[i],c[n-1]=-l[i],--i,c=s[i],c[n]=-u[i],c[n-1]=-l[i];i===0&&(c=s[0],c[n]=-u[0],c[n-1]=-l[0])}if(n===0){for(l=t[0],i=o-1;i>=1;--i)s[i][0]=-l[i],--i,s[i][0]=-l[i];i===0&&(s[0][0]=-l[0])}return s},numeric._random=function r(t,n){var i,a=t[n],o=Array(a),s;if(n===t.length-1){for(s=Math.random,i=a-1;i>=1;i-=2)o[i]=s(),o[i-1]=s();return i===0&&(o[0]=s()),o}for(i=a-1;i>=0;i--)o[i]=r(t,n+1);return o},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,n,i){if(typeof i>"u"&&(i=Math.max(Math.round(n-t)+1,1)),i<2)return i===1?[t]:[];var a,o=Array(i);for(i--,a=i;a>=0;a--)o[a]=(a*n+(i-a)*t)/i;return o},numeric.getBlock=function(t,n,i){var a=numeric.dim(t);function o(s,l){var u,c=n[l],f=i[l]-c,d=Array(f);if(l===a.length-1){for(u=f;u>=0;u--)d[u]=s[u+c];return d}for(u=f;u>=0;u--)d[u]=o(s[u+c],l+1);return d}return o(t,0)},numeric.setBlock=function(t,n,i,a){var o=numeric.dim(t);function s(l,u,c){var f,d=n[c],g=i[c]-d;if(c===o.length-1)for(f=g;f>=0;f--)l[f+d]=u[f];for(f=g;f>=0;f--)s(l[f+d],u[f],c+1)}return s(t,a,0),t},numeric.getRange=function(t,n,i){var a=n.length,o=i.length,s,l,u=Array(a),c,f;for(s=a-1;s!==-1;--s)for(u[s]=Array(o),c=u[s],f=t[n[s]],l=o-1;l!==-1;--l)c[l]=f[i[l]];return u},numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var i=n[0],a=n[1],o,s,l,u,c;for(o=0,s=0,l=0;l<i;++l)o+=t[l][0].length;for(u=0;u<a;++u)s+=t[0][u][0].length;var f=Array(o);for(l=0;l<o;++l)f[l]=Array(s);var d=0,g,v,y,_,x;for(l=0;l<i;++l){for(g=s,u=a-1;u!==-1;--u)for(c=t[l][u],g-=c[0].length,y=c.length-1;y!==-1;--y)for(x=c[y],v=f[d+y],_=x.length-1;_!==-1;--_)v[g+_]=x[_];d+=t[l][0].length}return f},numeric.tensor=function(t,n){if(typeof t=="number"||typeof n=="number")return numeric.mul(t,n);var i=numeric.dim(t),a=numeric.dim(n);if(i.length!==1||a.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var o=i[0],s=a[0],l=Array(o),u,c,f,d;for(c=o-1;c>=0;c--){for(u=Array(s),d=t[c],f=s-1;f>=3;--f)u[f]=d*n[f],--f,u[f]=d*n[f],--f,u[f]=d*n[f],--f,u[f]=d*n[f];for(;f>=0;)u[f]=d*n[f],--f;l[c]=u}return l},numeric.T=function(t,n){this.x=t,this.y=n},numeric.t=function(t,n){return new numeric.T(t,n)},numeric.Tbinop=function(t,n,i,a,o){if(numeric.indexOf,typeof o!="string"){var s;o="";for(s in numeric)numeric.hasOwnProperty(s)&&(t.indexOf(s)>=0||n.indexOf(s)>=0||i.indexOf(s)>=0||a.indexOf(s)>=0)&&s.length>1&&(o+="var "+s+" = numeric."+s+`;
`)}return Function(["y"],`var x = this;
if(!(y instanceof numeric.T)) { y = new numeric.T(y); }
`+o+`
if(x.y) {  if(y.y) {    return new numeric.T(`+a+`);
  }
  return new numeric.T(`+i+`);
}
if(y.y) {
  return new numeric.T(`+n+`);
}
return new numeric.T(`+t+`);
`)},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var i=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,i),n(numeric.neg(this.y),i))}return new T(n(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var n=numeric.div;return this.y?new numeric.T(n(this.x,t.x),n(this.y,t.x)):new numeric.T(n(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,i=this.y;return i?new numeric.T(t(n),t(i)):new numeric.T(t(n))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,i=this.y;return i?new numeric.T(t(n),numeric.negtranspose(i)):new numeric.T(t(n))},numeric.Tunop=function(t,n,i){return typeof i!="string"&&(i=""),Function(`var x = this;
`+i+`
if(x.y) {  `+n+`;
}
`+t+`;
`)},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));",`var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();
return new numeric.T(numeric.log(r.x),theta.x);`),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);",`var f = numeric.norm2Squared;
return Math.sqrt(f(x.x)+f(x.y));`),numeric.T.prototype.inv=function(){var t=this;if(typeof t.y>"u")return new numeric.T(numeric.inv(t.x));var n=t.x.length,_,x,S,i=numeric.identity(n),a=numeric.rep([n,n],0),o=numeric.clone(t.x),s=numeric.clone(t.y),l,u,c,f,d,g,v,y,_,x,S,b,E,M,D,w,I,R;for(_=0;_<n;_++){for(M=o[_][_],D=s[_][_],b=M*M+D*D,S=_,x=_+1;x<n;x++)M=o[x][_],D=s[x][_],E=M*M+D*D,E>b&&(S=x,b=E);for(S!==_&&(R=o[_],o[_]=o[S],o[S]=R,R=s[_],s[_]=s[S],s[S]=R,R=i[_],i[_]=i[S],i[S]=R,R=a[_],a[_]=a[S],a[S]=R),l=o[_],u=s[_],d=i[_],g=a[_],M=l[_],D=u[_],x=_+1;x<n;x++)w=l[x],I=u[x],l[x]=(w*M+I*D)/b,u[x]=(I*M-w*D)/b;for(x=0;x<n;x++)w=d[x],I=g[x],d[x]=(w*M+I*D)/b,g[x]=(I*M-w*D)/b;for(x=_+1;x<n;x++){for(c=o[x],f=s[x],v=i[x],y=a[x],M=c[_],D=f[_],S=_+1;S<n;S++)w=l[S],I=u[S],c[S]-=w*M-I*D,f[S]-=I*M+w*D;for(S=0;S<n;S++)w=d[S],I=g[S],v[S]-=w*M-I*D,y[S]-=I*M+w*D}}for(_=n-1;_>0;_--)for(d=i[_],g=a[_],x=_-1;x>=0;x--)for(v=i[x],y=a[x],M=o[x][_],D=s[x][_],S=n-1;S>=0;S--)w=d[S],I=g[S],v[S]-=M*w-D*I,y[S]-=M*I+D*w;return new numeric.T(i,a)},numeric.T.prototype.get=function(t){var n=this.x,i=this.y,a=0,o,s=t.length;if(i){for(;a<s;)o=t[a],n=n[o],i=i[o],a++;return new numeric.T(n,i)}for(;a<s;)o=t[a],n=n[o],a++;return new numeric.T(n)},numeric.T.prototype.set=function(t,n){var i=this.x,a=this.y,o=0,s,l=t.length,u=n.x,c=n.y;if(l===0)return c?this.y=c:a&&(this.y=void 0),this.x=i,this;if(c){for(a||(a=numeric.rep(numeric.dim(i),0),this.y=a);o<l-1;)s=t[o],i=i[s],a=a[s],o++;return s=t[o],i[s]=u,a[s]=c,this}if(a){for(;o<l-1;)s=t[o],i=i[s],a=a[s],o++;return s=t[o],i[s]=u,u instanceof Array?a[s]=numeric.rep(numeric.dim(u),0):a[s]=0,this}for(;o<l-1;)s=t[o],i=i[s],o++;return s=t[o],i[s]=u,this},numeric.T.prototype.getRows=function(t,n){var i=n-t+1,a,o=Array(i),s,l=this.x,u=this.y;for(a=t;a<=n;a++)o[a-t]=l[a];if(u){for(s=Array(i),a=t;a<=n;a++)s[a-t]=u[a];return new numeric.T(o,s)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,n,i){var a,o=this.x,s=this.y,l=i.x,u=i.y;for(a=t;a<=n;a++)o[a]=l[a-t];if(u)for(s||(s=numeric.rep(numeric.dim(o),0),this.y=s),a=t;a<=n;a++)s[a]=u[a-t];else if(s)for(a=t;a<=n;a++)s[a]=numeric.rep([l[a-t].length],0);return this},numeric.T.prototype.getRow=function(t){var n=this.x,i=this.y;return i?new numeric.T(n[t],i[t]):new numeric.T(n[t])},numeric.T.prototype.setRow=function(t,n){var i=this.x,a=this.y,o=n.x,s=n.y;return i[t]=o,s?(a||(a=numeric.rep(numeric.dim(i),0),this.y=a),a[t]=s):a&&(a=numeric.rep([o.length],0)),this},numeric.T.prototype.getBlock=function(t,n){var i=this.x,a=this.y,o=numeric.getBlock;return a?new numeric.T(o(i,t,n),o(a,t,n)):new numeric.T(o(i,t,n))},numeric.T.prototype.setBlock=function(t,n,i){i instanceof numeric.T||(i=new numeric.T(i));var a=this.x,o=this.y,s=numeric.setBlock,l=i.x,u=i.y;if(u)return o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),s(a,t,n,l),s(o,t,n,u),this;s(a,t,n,l),o&&s(o,t,n,numeric.rep(numeric.dim(l),0))},numeric.T.rep=function(t,n){var i=numeric.T;n instanceof i||(n=new i(n));var a=n.x,o=n.y,s=numeric.rep;return o?new i(s(t,a),s(t,o)):new i(s(t,a))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var n=t.x,i=t.y,a=numeric.diag;return i?new numeric.T(a(n),a(i)):new numeric.T(a(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,n=this.x,i=this.y;return i?new t.T(t.getDiag(n),t.getDiag(i)):new t.T(t.getDiag(n))},numeric.house=function(t){var n=numeric.clone(t),i=t[0]>=0?1:-1,a=i*numeric.norm2(t);n[0]+=a;var o=numeric.norm2(n);if(o===0)throw new Error("eig: internal error");return numeric.div(n,o)},numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var i=n[0],a,o,s,l,u,c=numeric.clone(t),f,d,g,v,y=numeric.identity(i),_;for(o=0;o<i-2;o++){for(l=Array(i-o-1),a=o+1;a<i;a++)l[a-o-1]=c[a][o];if(numeric.norm2(l)>0){for(u=numeric.house(l),f=numeric.getBlock(c,[o+1,o],[i-1,i-1]),d=numeric.tensor(u,numeric.dot(u,f)),a=o+1;a<i;a++)for(g=c[a],v=d[a-o-1],s=o;s<i;s++)g[s]-=2*v[s-o];for(f=numeric.getBlock(c,[0,o+1],[i-1,i-1]),d=numeric.tensor(numeric.dot(f,u),u),a=0;a<i;a++)for(g=c[a],v=d[a],s=o+1;s<i;s++)g[s]-=2*v[s-o-1];for(f=Array(i-o-1),a=o+1;a<i;a++)f[a-o-1]=y[a];for(d=numeric.tensor(u,numeric.dot(u,f)),a=o+1;a<i;a++)for(_=y[a],v=d[a-o-1],s=0;s<i;s++)_[s]-=2*v[s]}}return{H:c,Q:y}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(r,t){typeof t>"u"&&(t=1e4),r=numeric.clone(r),numeric.clone(r);var n=numeric.dim(r),i=n[0],a,o,s,l,u,c,f,d,g,v=numeric.identity(i),y,_,x,S,b,E,M,D,w;if(i<3)return{Q:v,B:[[0,i-1]]};var I=numeric.epsilon;for(w=0;w<t;w++){for(M=0;M<i-1;M++)if(Math.abs(r[M+1][M])<I*(Math.abs(r[M][M])+Math.abs(r[M+1][M+1]))){var R=numeric.QRFrancis(numeric.getBlock(r,[0,0],[M,M]),t),P=numeric.QRFrancis(numeric.getBlock(r,[M+1,M+1],[i-1,i-1]),t);for(x=Array(M+1),E=0;E<=M;E++)x[E]=v[E];for(S=numeric.dot(R.Q,x),E=0;E<=M;E++)v[E]=S[E];for(x=Array(i-M-1),E=M+1;E<i;E++)x[E-M-1]=v[E];for(S=numeric.dot(P.Q,x),E=M+1;E<i;E++)v[E]=S[E-M-1];return{Q:v,B:R.B.concat(numeric.add(P.B,M+1))}}if(s=r[i-2][i-2],l=r[i-2][i-1],u=r[i-1][i-2],c=r[i-1][i-1],d=s+c,f=s*c-l*u,g=numeric.getBlock(r,[0,0],[2,2]),d*d>=4*f){var O,L;O=.5*(d+Math.sqrt(d*d-4*f)),L=.5*(d-Math.sqrt(d*d-4*f)),g=numeric.add(numeric.sub(numeric.dot(g,g),numeric.mul(g,O+L)),numeric.diag(numeric.rep([3],O*L)))}else g=numeric.add(numeric.sub(numeric.dot(g,g),numeric.mul(g,d)),numeric.diag(numeric.rep([3],f)));for(a=[g[0][0],g[1][0],g[2][0]],o=numeric.house(a),x=[r[0],r[1],r[2]],S=numeric.tensor(o,numeric.dot(o,x)),E=0;E<3;E++)for(_=r[E],b=S[E],D=0;D<i;D++)_[D]-=2*b[D];for(x=numeric.getBlock(r,[0,0],[i-1,2]),S=numeric.tensor(numeric.dot(x,o),o),E=0;E<i;E++)for(_=r[E],b=S[E],D=0;D<3;D++)_[D]-=2*b[D];for(x=[v[0],v[1],v[2]],S=numeric.tensor(o,numeric.dot(o,x)),E=0;E<3;E++)for(y=v[E],b=S[E],D=0;D<i;D++)y[D]-=2*b[D];var $;for(M=0;M<i-2;M++){for(D=M;D<=M+1;D++)if(Math.abs(r[D+1][D])<I*(Math.abs(r[D][D])+Math.abs(r[D+1][D+1]))){var R=numeric.QRFrancis(numeric.getBlock(r,[0,0],[D,D]),t),P=numeric.QRFrancis(numeric.getBlock(r,[D+1,D+1],[i-1,i-1]),t);for(x=Array(D+1),E=0;E<=D;E++)x[E]=v[E];for(S=numeric.dot(R.Q,x),E=0;E<=D;E++)v[E]=S[E];for(x=Array(i-D-1),E=D+1;E<i;E++)x[E-D-1]=v[E];for(S=numeric.dot(P.Q,x),E=D+1;E<i;E++)v[E]=S[E-D-1];return{Q:v,B:R.B.concat(numeric.add(P.B,D+1))}}for($=Math.min(i-1,M+3),a=Array($-M),E=M+1;E<=$;E++)a[E-M-1]=r[E][M];for(o=numeric.house(a),x=numeric.getBlock(r,[M+1,M],[$,i-1]),S=numeric.tensor(o,numeric.dot(o,x)),E=M+1;E<=$;E++)for(_=r[E],b=S[E-M-1],D=M;D<i;D++)_[D]-=2*b[D-M];for(x=numeric.getBlock(r,[0,M+1],[i-1,$]),S=numeric.tensor(numeric.dot(x,o),o),E=0;E<i;E++)for(_=r[E],b=S[E],D=M+1;D<=$;D++)_[D]-=2*b[D-M-1];for(x=Array($-M),E=M+1;E<=$;E++)x[E-M-1]=v[E];for(S=numeric.tensor(o,numeric.dot(o,x)),E=M+1;E<=$;E++)for(y=v[E],b=S[E-M-1],D=0;D<i;D++)y[D]-=2*b[D]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,n){var i=numeric.toUpperHessenberg(t),a=numeric.QRFrancis(i.H,n),o=numeric.T,N=t.length,s,l,u=a.B,c=numeric.dot(a.Q,numeric.dot(i.H,numeric.transpose(a.Q))),f=new o(numeric.dot(a.Q,i.Q)),d,g=u.length,v,y,_,x,S,b,E,M,D,w,I,R,P,O,L=Math.sqrt;for(l=0;l<g;l++)if(s=u[l][0],s!==u[l][1]){if(v=s+1,y=c[s][s],_=c[s][v],x=c[v][s],S=c[v][v],_===0&&x===0)continue;b=-y-S,E=y*S-_*x,M=b*b-4*E,M>=0?(b<0?D=-.5*(b-L(M)):D=-.5*(b+L(M)),P=(y-D)*(y-D)+_*_,O=x*x+(S-D)*(S-D),P>O?(P=L(P),I=(y-D)/P,R=_/P):(O=L(O),I=x/O,R=(S-D)/O),d=new o([[R,-I],[I,R]]),f.setRows(s,v,d.dot(f.getRows(s,v)))):(D=-.5*b,w=.5*L(-M),P=(y-D)*(y-D)+_*_,O=x*x+(S-D)*(S-D),P>O?(P=L(P+w*w),I=(y-D)/P,R=_/P,D=0,w/=P):(O=L(O+w*w),I=x/O,R=(S-D)/O,D=w/O,w=0),d=new o([[R,-I],[I,R]],[[D,w],[w,-D]]),f.setRows(s,v,d.dot(f.getRows(s,v))))}var $=f.dot(t).dot(f.transjugate()),N=t.length,F=numeric.T.identity(N);for(v=0;v<N;v++)if(v>0)for(l=v-1;l>=0;l--){var Y=$.get([l,l]),G=$.get([v,v]);if(numeric.neq(Y.x,G.x)||numeric.neq(Y.y,G.y))D=$.getRow(l).getBlock([l],[v-1]),w=F.getRow(v).getBlock([l],[v-1]),F.set([v,l],$.get([l,v]).neg().sub(D.dot(w)).div(Y.sub(G)));else{F.setRow(v,F.getRow(l));continue}}for(v=0;v<N;v++)D=F.getRow(v),F.setRow(v,D.div(D.norm2()));return F=F.transpose(),F=f.transjugate().dot(F),{lambda:$.getDiag(),E:F}},numeric.ccsSparse=function(t){var n=t.length,l,i,a,o,s=[];for(a=n-1;a!==-1;--a){i=t[a];for(o in i){for(o=parseInt(o);o>=s.length;)s[s.length]=0;i[o]!==0&&s[o]++}}var l=s.length,u=Array(l+1);for(u[0]=0,a=0;a<l;++a)u[a+1]=u[a]+s[a];var c=Array(u[l]),f=Array(u[l]);for(a=n-1;a!==-1;--a){i=t[a];for(o in i)i[o]!==0&&(s[o]--,c[u[o]+s[o]]=a,f[u[o]+s[o]]=i[o])}return[u,c,f]},numeric.ccsFull=function(t){var n=t[0],i=t[1],a=t[2],o=numeric.ccsDim(t),s=o[0],l=o[1],u,c,f,d,g=numeric.rep([s,l],0);for(u=0;u<l;u++)for(f=n[u],d=n[u+1],c=f;c<d;++c)g[i[c]][u]=a[c];return g},numeric.ccsTSolve=function(t,n,i,a,o){var s=t[0],l=t[1],u=t[2],c=s.length-1,f=Math.max,d=0;typeof a>"u"&&(i=numeric.rep([c],0)),typeof a>"u"&&(a=numeric.linspace(0,i.length-1)),typeof o>"u"&&(o=[]);function g(M){var D;if(i[M]===0){for(i[M]=1,D=s[M];D<s[M+1];++D)g(l[D]);o[d]=M,++d}}var v,y,_,x,S,b,E;for(v=a.length-1;v!==-1;--v)g(a[v]);for(o.length=d,v=o.length-1;v!==-1;--v)i[o[v]]=0;for(v=a.length-1;v!==-1;--v)y=a[v],i[y]=n[y];for(v=o.length-1;v!==-1;--v){for(y=o[v],_=s[y],x=f(s[y+1],_),S=_;S!==x;++S)if(l[S]===y){i[y]/=u[S];break}for(E=i[y],S=_;S!==x;++S)b=l[S],b!==y&&(i[b]-=E*u[S])}return i},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,n,i,a,o,s){var l=0,u,c=o.length,f=this.k,d=this.k1,g=this.j,v,y;if(a[t]===0)for(a[t]=1,g[0]=t,f[0]=v=n[t],d[0]=y=n[t+1];;)if(v>=y){if(o[c]=g[l],l===0)return;++c,--l,v=f[l],y=d[l]}else u=s[i[v]],a[u]===0?(a[u]=1,f[l]=v,++l,g[l]=u,v=n[u],d[l]=y=n[u+1]):++v},numeric.ccsLPSolve=function(t,n,i,a,o,s,l){var u=t[0],c=t[1],f=t[2];u.length-1;var d=n[0],g=n[1],v=n[2],y,_,x,S,b,E,M,D,w;for(_=d[o],x=d[o+1],a.length=0,y=_;y<x;++y)l.dfs(s[g[y]],u,c,i,a,s);for(y=a.length-1;y!==-1;--y)i[a[y]]=0;for(y=_;y!==x;++y)S=s[g[y]],i[S]=v[y];for(y=a.length-1;y!==-1;--y){for(S=a[y],b=u[S],E=u[S+1],M=b;M<E;++M)if(s[c[M]]===S){i[S]/=f[M];break}for(w=i[S],M=b;M<E;++M)D=s[c[M]],D!==S&&(i[D]-=w*f[M])}return i},numeric.ccsLUP1=function(t,n){var i=t[0].length-1,a=[numeric.rep([i+1],0),[],[]],o=[numeric.rep([i+1],0),[],[]],s=a[0],l=a[1],u=a[2],c=o[0],f=o[1],d=o[2],g=numeric.rep([i],0),v=numeric.rep([i],0),y,_,x,S,b,E,M,D=numeric.ccsLPSolve,w=Math.abs,I=numeric.linspace(0,i-1),R=numeric.linspace(0,i-1),P=new numeric.ccsDFS(i);for(typeof n>"u"&&(n=1),y=0;y<i;++y){for(D(a,t,g,v,y,R,P),S=-1,b=-1,_=v.length-1;_!==-1;--_)x=v[_],!(x<=y)&&(E=w(g[x]),E>S&&(b=x,S=E));for(w(g[y])<n*S&&(_=I[y],S=I[b],I[y]=S,R[S]=y,I[b]=_,R[_]=b,S=g[y],g[y]=g[b],g[b]=S),S=s[y],b=c[y],M=g[y],l[S]=I[y],u[S]=1,++S,_=v.length-1;_!==-1;--_)x=v[_],E=g[x],v[_]=0,g[x]=0,x<=y?(f[b]=x,d[b]=E,++b):(l[S]=I[x],u[S]=E/M,++S);s[y+1]=S,c[y+1]=b}for(_=l.length-1;_!==-1;--_)l[_]=R[l[_]];return{L:a,U:o,P:I,Pinv:R}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,n,i,a,o,s,l){var u=0,c,f=o.length,d=this.k,g=this.k1,v=this.j,y,_;if(a[t]===0)for(a[t]=1,v[0]=t,d[0]=y=n[s[t]],g[0]=_=n[s[t]+1];;){if(isNaN(y))throw new Error("Ow!");if(y>=_){if(o[f]=s[v[u]],u===0)return;++f,--u,y=d[u],_=g[u]}else c=i[y],a[c]===0?(a[c]=1,d[u]=y,++u,v[u]=c,c=s[c],y=n[c],g[u]=_=n[c+1]):++y}},numeric.ccsLPSolve0=function(t,n,i,a,o,s,l,u){var c=t[0],f=t[1],d=t[2];c.length-1;var g=n[0],v=n[1],y=n[2],_,x,S,b,E,M,D,w,I;for(x=g[o],S=g[o+1],a.length=0,_=x;_<S;++_)u.dfs(v[_],c,f,i,a,s,l);for(_=a.length-1;_!==-1;--_)b=a[_],i[l[b]]=0;for(_=x;_!==S;++_)b=v[_],i[b]=y[_];for(_=a.length-1;_!==-1;--_){for(b=a[_],w=l[b],E=c[b],M=c[b+1],D=E;D<M;++D)if(f[D]===w){i[w]/=d[D];break}for(I=i[w],D=E;D<M;++D)i[f[D]]-=I*d[D];i[w]=I}},numeric.ccsLUP0=function(t,n){var i=t[0].length-1,a=[numeric.rep([i+1],0),[],[]],o=[numeric.rep([i+1],0),[],[]],s=a[0],l=a[1],u=a[2],c=o[0],f=o[1],d=o[2],g=numeric.rep([i],0),v=numeric.rep([i],0),y,_,x,S,b,E,M,D=numeric.ccsLPSolve0,w=Math.abs,I=numeric.linspace(0,i-1),R=numeric.linspace(0,i-1),P=new numeric.ccsDFS0(i);for(typeof n>"u"&&(n=1),y=0;y<i;++y){for(D(a,t,g,v,y,R,I,P),S=-1,b=-1,_=v.length-1;_!==-1;--_)x=v[_],!(x<=y)&&(E=w(g[I[x]]),E>S&&(b=x,S=E));for(w(g[I[y]])<n*S&&(_=I[y],S=I[b],I[y]=S,R[S]=y,I[b]=_,R[_]=b),S=s[y],b=c[y],M=g[I[y]],l[S]=I[y],u[S]=1,++S,_=v.length-1;_!==-1;--_)x=v[_],E=g[I[x]],v[_]=0,g[I[x]]=0,x<=y?(f[b]=x,d[b]=E,++b):(l[S]=I[x],u[S]=E/M,++S);s[y+1]=S,c[y+1]=b}for(_=l.length-1;_!==-1;--_)l[_]=R[l[_]];return{L:a,U:o,P:I,Pinv:R}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,n,i){var a=numeric.ccsDim(t),o=a[0],s=a[1];typeof n>"u"?n=numeric.linspace(0,o-1):typeof n=="number"&&(n=[n]),typeof i>"u"?i=numeric.linspace(0,s-1):typeof i=="number"&&(i=[i]);var l,u=n.length,c,f=i.length,d,g,v,y=numeric.rep([s],0),_=[],x=[],S=[y,_,x],b=t[0],E=t[1],M=t[2],D=numeric.rep([o],0),w=0,I=numeric.rep([o],0);for(c=0;c<f;++c){g=i[c];var R=b[g],P=b[g+1];for(l=R;l<P;++l)d=E[l],I[d]=1,D[d]=M[l];for(l=0;l<u;++l)v=n[l],I[v]&&(_[w]=l,x[w]=D[n[l]],++w);for(l=R;l<P;++l)d=E[l],I[d]=0;y[c+1]=w}return S},numeric.ccsDot=function(t,n){var i=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=n[2],c=numeric.ccsDim(t),f=numeric.ccsDim(n),d=c[0];c[1];var g=f[1],v=numeric.rep([d],0),y=numeric.rep([d],0),_=Array(d),x=numeric.rep([g],0),S=[],b=[],E=[x,S,b],M,D,w,I,R,P,O,L,$,N,F;for(w=0;w!==g;++w){for(I=s[w],R=s[w+1],$=0,D=I;D<R;++D)for(N=l[D],F=u[D],P=i[N],O=i[N+1],M=P;M<O;++M)L=a[M],y[L]===0&&(_[$]=L,y[L]=1,$=$+1),v[L]=v[L]+o[M]*F;for(I=x[w],R=I+$,x[w+1]=R,D=$-1;D!==-1;--D)F=I+D,M=_[D],S[F]=M,b[F]=v[M],y[M]=0,v[M]=0;x[w+1]=x[w]+$}return E},numeric.ccsLUPSolve=function(t,n){var i=t.L,a=t.U;t.P;var o=n[0],s=!1;typeof o!="object"&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],o=n[0],s=!0);var l=n[1],u=n[2],c=i[0].length-1,f=o.length-1,d=numeric.rep([c],0),g=Array(c),v=numeric.rep([c],0),y=Array(c),_=numeric.rep([f+1],0),x=[],S=[],b=numeric.ccsTSolve,E,M,D,w,I,R,P=0;for(E=0;E<f;++E){for(I=0,D=o[E],w=o[E+1],M=D;M<w;++M)R=t.Pinv[l[M]],y[I]=R,v[R]=u[M],++I;for(y.length=I,b(i,v,d,y,g),M=y.length-1;M!==-1;--M)v[y[M]]=0;if(b(a,d,v,g,y),s)return v;for(M=g.length-1;M!==-1;--M)d[g[M]]=0;for(M=y.length-1;M!==-1;--M)R=y[M],x[P]=R,S[P]=v[R],v[R]=0,++P;_[E+1]=P}return[_,x,S]},numeric.ccsbinop=function(t,n){return typeof n>"u"&&(n=""),Function("X","Y",`var Xi = X[0], Xj = X[1], Xv = X[2];
var Yi = Y[0], Yj = Y[1], Yv = Y[2];
var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;
var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];
var x = numeric.rep([m],0),y = numeric.rep([m],0);
var xk,yk,zk;
var i,j,j0,j1,k,p=0;
`+n+`for(i=0;i<n;++i) {
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Xj[j];
    x[k] = 1;
    Zj[p] = k;
    ++p;
  }
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Yj[j];
    y[k] = Yv[j];
    if(x[k] === 0) {
      Zj[p] = k;
      ++p;
    }
  }
  Zi[i+1] = p;
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];
  j0 = Zi[i]; j1 = Zi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Zj[j];
    xk = x[k];
    yk = y[k];
`+t+`
    Zv[j] = zk;
  }
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;
}
return [Zi,Zj,Zv];`)},(function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+`;
if(typeof Y === "number") return `+B+`;
return `+C+`;
`)})(),numeric.ccsScatter=function r(t){var n=t[0],i=t[1],a=t[2],o=numeric.sup(i)+1,s=n.length,l=numeric.rep([o],0),u=Array(s),c=Array(s),f=numeric.rep([o],0),d;for(d=0;d<s;++d)f[i[d]]++;for(d=0;d<o;++d)l[d+1]=l[d]+f[d];var g=l.slice(0),v,y;for(d=0;d<s;++d)y=i[d],v=g[y],u[v]=n[d],c[v]=a[d],g[y]=g[y]+1;return[l,u,c]},numeric.ccsGather=function r(t){var n=t[0],i=t[1],a=t[2],o=n.length-1,s=i.length,l=Array(s),u=Array(s),c=Array(s),f,d,g,v,y;for(y=0,f=0;f<o;++f)for(g=n[f],v=n[f+1],d=g;d!==v;++d)u[y]=f,l[y]=i[d],c[y]=a[d],++y;return[l,u,c]},numeric.sdim=function r(t,n,i){if(typeof n>"u"&&(n=[]),typeof t!="object")return n;typeof i>"u"&&(i=0),i in n||(n[i]=0),t.length>n[i]&&(n[i]=t.length);var a;for(a in t)t.hasOwnProperty(a)&&r(t[a],n,i+1);return n},numeric.sclone=function r(t,n,i){typeof n>"u"&&(n=0),typeof i>"u"&&(i=numeric.sdim(t).length);var a,o=Array(t.length);if(n===i-1){for(a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);return o}for(a in t)t.hasOwnProperty(a)&&(o[a]=r(t[a],n+1,i));return o},numeric.sdiag=function r(t){var n=t.length,i,a=Array(n),o;for(i=n-1;i>=1;i-=2)o=i-1,a[i]=[],a[i][i]=t[i],a[o]=[],a[o][o]=t[o];return i===0&&(a[0]=[],a[0][0]=t[i]),a},numeric.sidentity=function r(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function r(t){var n=[];t.length;var i,a,o;for(i in t)if(t.hasOwnProperty(i)){o=t[i];for(a in o)o.hasOwnProperty(a)&&(typeof n[a]!="object"&&(n[a]=[]),n[a][i]=o[a])}return n},numeric.sLUP=function r(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function r(t,n){var i=t.length;n.length;var a=numeric.stranspose(n),o=a.length,s,l,u,c,f,d,g=Array(i),v;for(u=i-1;u>=0;u--){for(v=[],s=t[u],f=o-1;f>=0;f--){d=0,l=a[f];for(c in s)s.hasOwnProperty(c)&&c in l&&(d+=s[c]*l[c]);d&&(v[f]=d)}g[u]=v}return g},numeric.sdotMV=function r(t,n){var i=t.length,a,o,s,l=Array(i),u;for(o=i-1;o>=0;o--){a=t[o],u=0;for(s in a)a.hasOwnProperty(s)&&n[s]&&(u+=a[s]*n[s]);u&&(l[o]=u)}return l},numeric.sdotVM=function r(t,n){var i,a,o,s,l=[];for(i in t)if(t.hasOwnProperty(i)){o=n[i],s=t[i];for(a in o)o.hasOwnProperty(a)&&(l[a]||(l[a]=0),l[a]+=s*o[a])}return l},numeric.sdotVV=function r(t,n){var i,a=0;for(i in t)t[i]&&n[i]&&(a+=t[i]*n[i]);return a},numeric.sdot=function r(t,n){var i=numeric.sdim(t).length,a=numeric.sdim(n).length,o=i*1e3+a;switch(o){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+i+" and "+a)}},numeric.sscatter=function r(t){var n=t[0].length,i,a,o,s=t.length,l=[],u;for(a=n-1;a>=0;--a)if(t[s-1][a]){for(u=l,o=0;o<s-2;o++)i=t[o][a],u[i]||(u[i]=[]),u=u[i];u[t[o][a]]=t[o+1][a]}return l},numeric.sgather=function r(t,n,i){typeof n>"u"&&(n=[]),typeof i>"u"&&(i=[]);var a,o,s;a=i.length;for(o in t)if(t.hasOwnProperty(o))if(i[a]=parseInt(o),s=t[o],typeof s=="number"){if(s){if(n.length===0)for(o=a+1;o>=0;--o)n[o]=[];for(o=a;o>=0;--o)n[o].push(i[o]);n[a+1].push(s)}}else r(s,n,i);return i.length>a&&i.pop(),n},numeric.cLU=function r(t){var n=t[0],i=t[1],a=t[2],P=n.length,o=0,s,l,u,c,f,d;for(s=0;s<P;s++)n[s]>o&&(o=n[s]);o++;var g=Array(o),v=Array(o),y=numeric.rep([o],1/0),_=numeric.rep([o],-1/0),E,M,x;for(u=0;u<P;u++)s=n[u],l=i[u],l<y[s]&&(y[s]=l),l>_[s]&&(_[s]=l);for(s=0;s<o-1;s++)_[s]>_[s+1]&&(_[s+1]=_[s]);for(s=o-1;s>=1;s--)y[s]<y[s-1]&&(y[s-1]=y[s]);var S=0,b=0;for(s=0;s<o;s++)v[s]=numeric.rep([_[s]-y[s]+1],0),g[s]=numeric.rep([s-y[s]],0),S+=s-y[s]+1,b+=_[s]-s+1;for(u=0;u<P;u++)s=n[u],v[s][i[u]-y[s]]=a[u];for(s=0;s<o-1;s++)for(c=s-y[s],E=v[s],l=s+1;y[l]<=s&&l<o;l++)if(f=s-y[l],d=_[s]-s,M=v[l],x=M[f]/E[c],x){for(u=1;u<=d;u++)M[u+f]-=x*E[u+c];g[l][s-y[l]]=x}var E=[],M=[],D=[],w=[],I=[],R=[],P,O,L;for(P=0,O=0,s=0;s<o;s++){for(c=y[s],f=_[s],L=v[s],l=s;l<=f;l++)L[l-c]&&(E[P]=s,M[P]=l,D[P]=L[l-c],P++);for(L=g[s],l=c;l<s;l++)L[l-c]&&(w[O]=s,I[O]=l,R[O]=L[l-c],O++);w[O]=s,I[O]=s,R[O]=1,O++}return{U:[E,M,D],L:[w,I,R]}},numeric.cLUsolve=function r(t,n){var i=t.L,a=t.U,o=numeric.clone(n),s=i[0],l=i[1],u=i[2],c=a[0],f=a[1],d=a[2],g=c.length;s.length;var v=o.length,y,_;for(_=0,y=0;y<v;y++){for(;l[_]<y;)o[y]-=u[_]*o[l[_]],_++;_++}for(_=g-1,y=v-1;y>=0;y--){for(;f[_]>y;)o[y]-=d[_]*o[f[_]],_--;o[y]/=d[_],_--}return o},numeric.cgrid=function r(t,n){typeof t=="number"&&(t=[t,t]);var i=numeric.rep(t,-1),a,o,s;if(typeof n!="function")switch(n){case"L":n=function(l,u){return l>=t[0]/2||u<t[1]/2};break;default:n=function(l,u){return!0};break}for(s=0,a=1;a<t[0]-1;a++)for(o=1;o<t[1]-1;o++)n(a,o)&&(i[a][o]=s,s++);return i},numeric.cdelsq=function r(t){var n=[[-1,0],[0,-1],[0,1],[1,0]],i=numeric.dim(t),a=i[0],o=i[1],s,l,u,c,f,d=[],g=[],v=[];for(s=1;s<a-1;s++)for(l=1;l<o-1;l++)if(!(t[s][l]<0)){for(u=0;u<4;u++)c=s+n[u][0],f=l+n[u][1],!(t[c][f]<0)&&(d.push(t[s][l]),g.push(t[c][f]),v.push(-1));d.push(t[s][l]),g.push(t[s][l]),v.push(4)}return[d,g,v]},numeric.cdotMV=function r(t,n){var i,a=t[0],o=t[1],s=t[2],l,u=a.length,c;for(c=0,l=0;l<u;l++)a[l]>c&&(c=a[l]);for(c++,i=numeric.rep([c],0),l=0;l<u;l++)i[a[l]]+=s[l]*n[o[l]];return i},numeric.Spline=function r(t,n,i,a,o){this.x=t,this.yl=n,this.yr=i,this.kl=a,this.kr=o},numeric.Spline.prototype._at=function r(u,n){var i=this.x,a=this.yl,o=this.yr,s=this.kl,l=this.kr,u,c,f,d,g=numeric.add,v=numeric.sub,y=numeric.mul;c=v(y(s[n],i[n+1]-i[n]),v(o[n+1],a[n])),f=g(y(l[n+1],i[n]-i[n+1]),v(o[n+1],a[n])),d=(u-i[n])/(i[n+1]-i[n]);var _=d*(1-d);return g(g(g(y(1-d,a[n]),y(d,o[n+1])),y(c,_*(1-d))),y(f,_*d))},numeric.Spline.prototype.at=function r(t){if(typeof t=="number"){var n=this.x,l=n.length,i,a,o,s=Math.floor;for(i=0,a=l-1;a-i>1;)o=s((i+a)/2),n[o]<=t?i=o:a=o;return this._at(t,i)}var l=t.length,u,c=Array(l);for(u=l-1;u!==-1;--u)c[u]=this.at(t[u]);return c},numeric.Spline.prototype.diff=function r(){var t=this.x,n=this.yl,i=this.yr,a=this.kl,o=this.kr,s=n.length,l,u,c,f=a,d=o,g=Array(s),v=Array(s),y=numeric.add,_=numeric.mul,x=numeric.div,S=numeric.sub;for(l=s-1;l!==-1;--l)u=t[l+1]-t[l],c=S(i[l+1],n[l]),g[l]=x(y(_(c,6),_(a[l],-4*u),_(o[l+1],-2*u)),u*u),v[l+1]=x(y(_(c,-6),_(a[l],2*u),_(o[l+1],4*u)),u*u);return new numeric.Spline(t,f,d,g,v)},numeric.Spline.prototype.roots=function r(){function t(j){return j*j}var x=[],n=this.x,i=this.yl,a=this.yr,o=this.kl,s=this.kr;typeof i[0]=="number"&&(i=[i],a=[a],o=[o],s=[s]);var l=i.length,u=n.length-1,c,f,d,g,v,y,_,x=Array(l),S,b,E,M,D,w,I,R,P,O,L,$,N,F,Y,G,W=Math.sqrt;for(c=0;c!==l;++c){for(g=i[c],v=a[c],y=o[c],_=s[c],S=[],f=0;f!==u;f++){for(f>0&&v[f]*g[f]<0&&S.push(n[f]),P=n[f+1]-n[f],n[f],M=g[f],D=v[f+1],b=y[f]/P,E=_[f+1]/P,R=t(b-E+3*(M-D))+12*E*M,w=E+3*M+2*b-3*D,I=3*(E+b+2*(M-D)),R<=0?(L=w/I,L>n[f]&&L<n[f+1]?O=[n[f],L,n[f+1]]:O=[n[f],n[f+1]]):(L=(w-W(R))/I,$=(w+W(R))/I,O=[n[f]],L>n[f]&&L<n[f+1]&&O.push(L),$>n[f]&&$<n[f+1]&&O.push($),O.push(n[f+1])),F=O[0],L=this._at(F,f),d=0;d<O.length-1;d++){if(Y=O[d+1],$=this._at(Y,f),L===0){S.push(F),F=Y,L=$;continue}if($===0||L*$>0){F=Y,L=$;continue}for(var U=0;G=(L*Y-$*F)/(L-$),!(G<=F||G>=Y);)if(N=this._at(G,f),N*$>0)Y=G,$=N,U===-1&&(L*=.5),U=-1;else if(N*L>0)F=G,L=N,U===1&&($*=.5),U=1;else break;S.push(G),F=O[d+1],L=this._at(F,f)}$===0&&S.push(Y)}x[c]=S}return typeof this.yl[0]=="number"?x[0]:x},numeric.spline=function r(t,n,i,a){var o=t.length,s=[],l=[],u=[],c,f=numeric.sub,d=numeric.mul,g=numeric.add;for(c=o-2;c>=0;c--)l[c]=t[c+1]-t[c],u[c]=f(n[c+1],n[c]);(typeof i=="string"||typeof a=="string")&&(i=a="periodic");var v=[[],[],[]];switch(typeof i){case"undefined":s[0]=d(3/(l[0]*l[0]),u[0]),v[0].push(0,0),v[1].push(0,1),v[2].push(2/l[0],1/l[0]);break;case"string":s[0]=g(d(3/(l[o-2]*l[o-2]),u[o-2]),d(3/(l[0]*l[0]),u[0])),v[0].push(0,0,0),v[1].push(o-2,0,1),v[2].push(1/l[o-2],2/l[o-2]+2/l[0],1/l[0]);break;default:s[0]=i,v[0].push(0),v[1].push(0),v[2].push(1);break}for(c=1;c<o-1;c++)s[c]=g(d(3/(l[c-1]*l[c-1]),u[c-1]),d(3/(l[c]*l[c]),u[c])),v[0].push(c,c,c),v[1].push(c-1,c,c+1),v[2].push(1/l[c-1],2/l[c-1]+2/l[c],1/l[c]);switch(typeof a){case"undefined":s[o-1]=d(3/(l[o-2]*l[o-2]),u[o-2]),v[0].push(o-1,o-1),v[1].push(o-2,o-1),v[2].push(1/l[o-2],2/l[o-2]);break;case"string":v[1][v[1].length-1]=0;break;default:s[o-1]=a,v[0].push(o-1),v[1].push(o-1),v[2].push(1);break}typeof s[0]!="number"?s=numeric.transpose(s):s=[s];var y=Array(s.length);if(typeof i=="string")for(c=y.length-1;c!==-1;--c)y[c]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(v)),s[c]),y[c][o-1]=y[c][0];else for(c=y.length-1;c!==-1;--c)y[c]=numeric.cLUsolve(numeric.cLU(v),s[c]);return typeof n[0]=="number"?y=y[0]:y=numeric.transpose(y),new numeric.Spline(t,n,n,y,y)},numeric.fftpow2=function r(t,n){var i=t.length;if(i!==1){var a=Math.cos,o=Math.sin,s,l,u=Array(i/2),c=Array(i/2),f=Array(i/2),d=Array(i/2);for(l=i/2,s=i-1;s!==-1;--s)--l,f[l]=t[s],d[l]=n[s],--s,u[l]=t[s],c[l]=n[s];r(u,c),r(f,d),l=i/2;var g,v=-6.283185307179586/i,y,_;for(s=i-1;s!==-1;--s)--l,l===-1&&(l=i/2-1),g=v*s,y=a(g),_=o(g),t[s]=u[l]+y*f[l]-_*d[l],n[s]=c[l]+y*d[l]+_*f[l]}},numeric._ifftpow2=function r(t,n){var i=t.length;if(i!==1){var a=Math.cos,o=Math.sin,s,l,u=Array(i/2),c=Array(i/2),f=Array(i/2),d=Array(i/2);for(l=i/2,s=i-1;s!==-1;--s)--l,f[l]=t[s],d[l]=n[s],--s,u[l]=t[s],c[l]=n[s];r(u,c),r(f,d),l=i/2;var g,v=6.283185307179586/i,y,_;for(s=i-1;s!==-1;--s)--l,l===-1&&(l=i/2-1),g=v*s,y=a(g),_=o(g),t[s]=u[l]+y*f[l]-_*d[l],n[s]=c[l]+y*d[l]+_*f[l]}},numeric.ifftpow2=function r(t,n){numeric._ifftpow2(t,n),numeric.diveq(t,t.length),numeric.diveq(n,n.length)},numeric.convpow2=function r(t,n,i,a){numeric.fftpow2(t,n),numeric.fftpow2(i,a);var o,s=t.length,l,u,c,f;for(o=s-1;o!==-1;--o)l=t[o],c=n[o],u=i[o],f=a[o],t[o]=l*u-c*f,n[o]=l*f+c*u;numeric.ifftpow2(t,n)},numeric.T.prototype.fft=function r(){var t=this.x,n=this.y,i=t.length,a=Math.log,o=a(2),s=Math.ceil(a(2*i-1)/o),l=Math.pow(2,s),u=numeric.rep([l],0),c=numeric.rep([l],0),f=Math.cos,d=Math.sin,g,v=-3.141592653589793/i,y,_=numeric.rep([l],0),x=numeric.rep([l],0);for(g=0;g<i;g++)_[g]=t[g];if(typeof n<"u")for(g=0;g<i;g++)x[g]=n[g];for(u[0]=1,g=1;g<=l/2;g++)y=v*g*g,u[g]=f(y),c[g]=d(y),u[l-g]=f(y),c[l-g]=d(y);var S=new numeric.T(_,x),b=new numeric.T(u,c);return S=S.mul(b),numeric.convpow2(S.x,S.y,numeric.clone(b.x),numeric.neg(b.y)),S=S.mul(b),S.x.length=i,S.y.length=i,S},numeric.T.prototype.ifft=function r(){var t=this.x,n=this.y,i=t.length,a=Math.log,o=a(2),s=Math.ceil(a(2*i-1)/o),l=Math.pow(2,s),u=numeric.rep([l],0),c=numeric.rep([l],0),f=Math.cos,d=Math.sin,g,v=3.141592653589793/i,y,_=numeric.rep([l],0),x=numeric.rep([l],0);for(g=0;g<i;g++)_[g]=t[g];if(typeof n<"u")for(g=0;g<i;g++)x[g]=n[g];for(u[0]=1,g=1;g<=l/2;g++)y=v*g*g,u[g]=f(y),c[g]=d(y),u[l-g]=f(y),c[l-g]=d(y);var S=new numeric.T(_,x),b=new numeric.T(u,c);return S=S.mul(b),numeric.convpow2(S.x,S.y,numeric.clone(b.x),numeric.neg(b.y)),S=S.mul(b),S.x.length=i,S.y.length=i,S.div(i)},numeric.gradient=function r(t,n){var i=n.length,a=t(n);if(isNaN(a))throw new Error("gradient: f(x) is a NaN!");var d=Math.max,o,s=numeric.clone(n),l,u,c=Array(i);numeric.div,numeric.sub;var f,d=Math.max,g=.001,v=Math.abs,y=Math.min,_,x,S,b=0,E,M,D;for(o=0;o<i;o++)for(var w=d(1e-6*a,1e-8);;){if(++b,b>20)throw new Error("Numerical gradient fails");if(s[o]=n[o]+w,l=t(s),s[o]=n[o]-w,u=t(s),s[o]=n[o],isNaN(l)||isNaN(u)){w/=16;continue}if(c[o]=(l-u)/(2*w),_=n[o]-w,x=n[o],S=n[o]+w,E=(l-a)/w,M=(a-u)/w,D=d(v(c[o]),v(a),v(l),v(u),v(_),v(x),v(S),1e-8),f=y(d(v(E-c[o]),v(M-c[o]),v(E-M))/D,w/D),f>g)w/=16;else break}return c},numeric.uncmin=function r(t,n,i,a,o,s,l){var u=numeric.gradient;typeof l>"u"&&(l={}),typeof i>"u"&&(i=1e-8),typeof a>"u"&&(a=function(re){return u(t,re)}),typeof o>"u"&&(o=1e3),n=numeric.clone(n);var c=n.length,f=t(n),d,g;if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var v=Math.max,y=numeric.norm2;i=v(i,numeric.epsilon);var _,x,S,b=l.Hinv||numeric.identity(c),E=numeric.dot;numeric.inv;var M=numeric.sub,D=numeric.add,w=numeric.tensor,I=numeric.div,R=numeric.mul,P=numeric.all,O=numeric.isFinite,L=numeric.neg,$=0,N,F,Y,G,W,U,j,ee="";for(x=a(n);$<o;){if(typeof s=="function"&&s($,n,f,x,b)){ee="Callback returned true";break}if(!P(O(x))){ee="Gradient has Infinity or NaN";break}if(_=L(E(b,x)),!P(O(_))){ee="Search direction has Infinity or NaN";break}if(j=y(_),j<i){ee="Newton step smaller than tol";break}for(U=1,g=E(x,_),F=n;$<o&&!(U*j<i);){if(N=R(_,U),F=D(n,N),d=t(F),d-f>=.1*U*g||isNaN(d)){U*=.5,++$;continue}break}if(U*j<i){ee="Line search step size smaller than tol";break}if($===o){ee="maxit reached during line search";break}S=a(F),Y=M(S,x),W=E(Y,N),G=E(b,Y),b=M(D(b,R((W+E(Y,G))/(W*W),w(N,N))),I(D(w(G,N),w(N,G)),W)),n=F,f=d,x=S,++$}return{solution:n,f,gradient:x,invHessian:b,iterations:$,message:ee}},numeric.Dopri=function r(t,n,i,a,o,s,l){this.x=t,this.y=n,this.f=i,this.ymid=a,this.iterations=o,this.events=l,this.message=s},numeric.Dopri.prototype._at=function r(_,n){function i(R){return R*R}var a=this,o=a.x,s=a.y,l=a.f,u=a.ymid;o.length;var c,f,d,g,v,y,_,x,S=.5,b=numeric.add,E=numeric.mul,M=numeric.sub,D,w,I;return c=o[n],f=o[n+1],g=s[n],v=s[n+1],x=f-c,d=c+S*x,y=u[n],D=M(l[n],E(g,1/(c-d)+2/(c-f))),w=M(l[n+1],E(v,1/(f-d)+2/(f-c))),I=[i(_-f)*(_-d)/i(c-f)/(c-d),i(_-c)*i(_-f)/i(c-d)/i(f-d),i(_-c)*(_-d)/i(f-c)/(f-d),(_-c)*i(_-f)*(_-d)/i(c-f)/(c-d),(_-f)*i(_-c)*(_-d)/i(c-f)/(f-d)],b(b(b(b(E(g,I[0]),E(y,I[1])),E(v,I[2])),E(D,I[3])),E(w,I[4]))},numeric.Dopri.prototype.at=function r(t){var n,i,a,o=Math.floor;if(typeof t!="number"){var s=t.length,l=Array(s);for(n=s-1;n!==-1;--n)l[n]=this.at(t[n]);return l}var u=this.x;for(n=0,i=u.length-1;i-n>1;)a=o(.5*(n+i)),u[a]<=t?n=a:i=a;return this._at(t,n)},numeric.dopri=function r(t,n,i,a,o,s,l){typeof o>"u"&&(o=1e-6),typeof s>"u"&&(s=1e3);var u=[t],c=[i],f=[a(t,i)],d,g,v,y,_,x,S=[],b=1/5,E=[3/40,9/40],M=[44/45,-56/15,32/9],D=[19372/6561,-25360/2187,64448/6561,-212/729],w=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],I=[35/384,0,500/1113,125/192,-2187/6784,11/84],R=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384],P=[1/5,3/10,4/5,8/9,1,1],O=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],L=0,$,N,F=(n-t)/10,Y=0,G=numeric.add,W=numeric.mul,U,j,ee=Math.min,re=Math.abs,q=numeric.norminf,Q=Math.pow,fe=numeric.any,de=numeric.lt,le=numeric.and;numeric.sub;var ce,me,ge,ve=new numeric.Dopri(u,c,f,S,-1,"");for(typeof l=="function"&&(ce=l(t,i));t<n&&Y<s;){if(++Y,t+F>n&&(F=n-t),d=a(t+P[0]*F,G(i,W(b*F,f[L]))),g=a(t+P[1]*F,G(G(i,W(E[0]*F,f[L])),W(E[1]*F,d))),v=a(t+P[2]*F,G(G(G(i,W(M[0]*F,f[L])),W(M[1]*F,d)),W(M[2]*F,g))),y=a(t+P[3]*F,G(G(G(G(i,W(D[0]*F,f[L])),W(D[1]*F,d)),W(D[2]*F,g)),W(D[3]*F,v))),_=a(t+P[4]*F,G(G(G(G(G(i,W(w[0]*F,f[L])),W(w[1]*F,d)),W(w[2]*F,g)),W(w[3]*F,v)),W(w[4]*F,y))),U=G(G(G(G(G(i,W(f[L],F*I[0])),W(g,F*I[2])),W(v,F*I[3])),W(y,F*I[4])),W(_,F*I[5])),x=a(t+F,U),$=G(G(G(G(G(W(f[L],F*O[0]),W(g,F*O[2])),W(v,F*O[3])),W(y,F*O[4])),W(_,F*O[5])),W(x,F*O[6])),typeof $=="number"?j=re($):j=q($),j>o){if(F=.2*F*Q(o/j,.25),t+F===t){ve.msg="Step size became too small";break}continue}if(S[L]=G(G(G(G(G(G(i,W(f[L],F*R[0])),W(g,F*R[2])),W(v,F*R[3])),W(y,F*R[4])),W(_,F*R[5])),W(x,F*R[6])),++L,u[L]=t+F,c[L]=U,f[L]=x,typeof l=="function"){var oe,V=t,H=t+.5*F,z;if(me=l(H,S[L-1]),ge=le(de(ce,0),de(0,me)),fe(ge)||(V=H,H=t+F,ce=me,me=l(H,U),ge=le(de(ce,0),de(0,me))),fe(ge)){for(var Z,X,K=0,ne=1,te=1;;){if(typeof ce=="number")z=(te*me*V-ne*ce*H)/(te*me-ne*ce);else for(z=H,N=ce.length-1;N!==-1;--N)ce[N]<0&&me[N]>0&&(z=ee(z,(te*me[N]*V-ne*ce[N]*H)/(te*me[N]-ne*ce[N])));if(z<=V||z>=H)break;oe=ve._at(z,L-1),X=l(z,oe),Z=le(de(ce,0),de(0,X)),fe(Z)?(H=z,me=X,ge=Z,te=1,K===-1?ne*=.5:ne=1,K=-1):(V=z,ce=X,ne=1,K===1?te*=.5:te=1,K=1)}return U=ve._at(.5*(t+z),L-1),ve.f[L]=a(z,oe),ve.x[L]=z,ve.y[L]=oe,ve.ymid[L-1]=U,ve.events=ge,ve.iterations=Y,ve}}t+=F,i=U,ce=me,F=ee(.8*F*Q(o/j,.25),4*F)}return ve.iterations=Y,ve},numeric.LU=function(r,t){t=t||!1;var n=Math.abs,i,a,o,s,l,u,c,f,d,g=r.length,v=g-1,y=new Array(g);for(t||(r=numeric.clone(r)),o=0;o<g;++o){for(c=o,u=r[o],d=n(u[o]),a=o+1;a<g;++a)s=n(r[a][o]),d<s&&(d=s,c=a);for(y[o]=c,c!=o&&(r[o]=r[c],r[c]=u,u=r[o]),l=u[o],i=o+1;i<g;++i)r[i][o]/=l;for(i=o+1;i<g;++i){for(f=r[i],a=o+1;a<v;++a)f[a]-=f[o]*u[a],++a,f[a]-=f[o]*u[a];a===v&&(f[a]-=f[o]*u[a])}}return{LU:r,P:y}},numeric.LUsolve=function r(t,n){var i,a,o=t.LU,s=o.length,l=numeric.clone(n),u=t.P,c,f,d;for(i=s-1;i!==-1;--i)l[i]=n[i];for(i=0;i<s;++i)for(c=u[i],u[i]!==i&&(d=l[i],l[i]=l[c],l[c]=d),f=o[i],a=0;a<i;++a)l[i]-=l[a]*f[a];for(i=s-1;i>=0;--i){for(f=o[i],a=i+1;a<s;++a)l[i]-=l[a]*f[a];l[i]/=f[i]}return l},numeric.solve=function r(t,n,i){return numeric.LUsolve(numeric.LU(t,i),n)},numeric.echelonize=function r(t){var n=numeric.dim(t),i=n[0],a=n[1],o=numeric.identity(i),s=Array(i),l,u,c,f,d,g,v,y,_=Math.abs,x=numeric.diveq;for(t=numeric.clone(t),l=0;l<i;++l){for(c=0,d=t[l],g=o[l],u=1;u<a;++u)_(d[c])<_(d[u])&&(c=u);for(s[l]=c,x(g,d[c]),x(d,d[c]),u=0;u<i;++u)if(u!==l){for(v=t[u],y=v[c],f=a-1;f!==-1;--f)v[f]-=d[f]*y;for(v=o[u],f=i-1;f!==-1;--f)v[f]-=g[f]*y}}return{I:o,A:t,P:s}},numeric.__solveLP=function r(t,n,i,a,o,s,l){var u=numeric.sum;numeric.log;var c=numeric.mul,f=numeric.sub,d=numeric.dot,g=numeric.div,v=numeric.add,y=t.length,_=i.length,x,S=!1,b=0,E=1;numeric.transpose(n),numeric.svd;var M=numeric.transpose;numeric.leq;var D=Math.sqrt,w=Math.abs;numeric.muleq,numeric.norminf,numeric.any;var I=Math.min,R=numeric.all,P=numeric.gt,O=Array(y),L=Array(_);numeric.rep([_],1);var $,N=numeric.solve,F=f(i,d(n,s)),Y,G=d(t,t),W;for(Y=b;Y<o;++Y){var U,j;for(U=_-1;U!==-1;--U)L[U]=g(n[U],F[U]);var ee=M(L);for(U=y-1;U!==-1;--U)O[U]=u(ee[U]);E=.25*w(G/d(t,O));var re=100*D(G/d(O,O));for((!isFinite(E)||E>re)&&(E=re),W=v(t,c(E,O)),$=d(ee,L),U=y-1;U!==-1;--U)$[U][U]+=1;j=N($,g(W,E),!0);var q=g(F,d(n,j)),Q=1;for(U=_-1;U!==-1;--U)q[U]<0&&(Q=I(Q,-.999*q[U]));if(x=f(s,c(j,Q)),F=f(i,d(n,x)),!R(P(F,0)))return{solution:s,message:"",iterations:Y};if(s=x,E<a)return{solution:x,message:"",iterations:Y};if(l){var fe=d(t,W),de=d(n,W);for(S=!0,U=_-1;U!==-1;--U)if(fe*de[U]<0){S=!1;break}}else s[y-1]>=0?S=!1:S=!0;if(S)return{solution:x,message:"Unbounded",iterations:Y}}return{solution:s,message:"maximum iteration count exceeded",iterations:Y}},numeric._solveLP=function r(t,n,i,a,o){var s=t.length,l=i.length,y;numeric.sum,numeric.log,numeric.mul;var u=numeric.sub,c=numeric.dot;numeric.div,numeric.add;var f=numeric.rep([s],0).concat([1]),d=numeric.rep([l,1],-1),g=numeric.blockMatrix([[n,d]]),v=i,y=numeric.rep([s],0).concat(Math.max(0,numeric.sup(numeric.neg(i)))+1),_=numeric.__solveLP(f,g,v,a,o,y,!1),x=numeric.clone(_.solution);x.length=s;var S=numeric.inf(u(i,c(n,x)));if(S<0)return{solution:NaN,message:"Infeasible",iterations:_.iterations};var b=numeric.__solveLP(t,n,i,a,o-_.iterations,x,!0);return b.iterations+=_.iterations,b},numeric.solveLP=function r(t,n,i,a,o,s,l){if(typeof l>"u"&&(l=1e3),typeof s>"u"&&(s=numeric.epsilon),typeof a>"u")return numeric._solveLP(t,n,i,s,l);var u=a.length,c=a[0].length,f=n.length,d=numeric.echelonize(a),g=numeric.rep([c],0),v=d.P,y=[],_;for(_=v.length-1;_!==-1;--_)g[v[_]]=1;for(_=c-1;_!==-1;--_)g[_]===0&&y.push(_);var x=numeric.getRange,S=numeric.linspace(0,u-1),b=numeric.linspace(0,f-1),E=x(a,S,y),M=x(n,b,v),D=x(n,b,y),w=numeric.dot,I=numeric.sub,R=w(M,d.I),P=I(D,w(R,E)),O=I(i,w(R,o)),L=Array(v.length),$=Array(y.length);for(_=v.length-1;_!==-1;--_)L[_]=t[v[_]];for(_=y.length-1;_!==-1;--_)$[_]=t[y[_]];var N=I($,w(L,w(d.I,E))),F=numeric._solveLP(N,P,O,s,l),Y=F.solution;if(Y!==Y)return F;var G=w(d.I,I(o,w(E,Y))),W=Array(t.length);for(_=v.length-1;_!==-1;--_)W[v[_]]=G[_];for(_=y.length-1;_!==-1;--_)W[y[_]]=Y[_];return{solution:W,message:F.message,iterations:F.iterations}},numeric.MPStoLP=function r(t){t instanceof String&&t.split(`
`);var n=0,i=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=t.length,o,s,l,u=0,c={},f=[],d=0,g={},v=0,y,_=[],x=[],S=[];function b(I){throw new Error("MPStoLP: "+I+`
Line `+o+": "+t[o]+`
Current state: `+i[n]+`
`)}for(o=0;o<a;++o){l=t[o];var E=l.match(/\S*/g),M=[];for(s=0;s<E.length;++s)E[s]!==""&&M.push(E[s]);if(M.length!==0){for(s=0;s<i.length&&l.substr(0,i[s].length)!==i[s];++s);if(s<i.length){if(n=s,s===1&&(y=M[1]),s===6)return{name:y,c:_,A:numeric.transpose(x),b:S,rows:c,vars:g};continue}switch(n){case 0:case 1:b("Unexpected line");case 2:switch(M[0]){case"N":u===0?u=M[1]:b("Two or more N rows");break;case"L":c[M[1]]=d,f[d]=1,S[d]=0,++d;break;case"G":c[M[1]]=d,f[d]=-1,S[d]=0,++d;break;case"E":c[M[1]]=d,f[d]=0,S[d]=0,++d;break;default:b("Parse error "+numeric.prettyPrint(M))}break;case 3:g.hasOwnProperty(M[0])||(g[M[0]]=v,_[v]=0,x[v]=numeric.rep([d],0),++v);var D=g[M[0]];for(s=1;s<M.length;s+=2){if(M[s]===u){_[D]=parseFloat(M[s+1]);continue}var w=c[M[s]];x[D][w]=(f[w]<0?-1:1)*parseFloat(M[s+1])}break;case 4:for(s=1;s<M.length;s+=2)S[c[M[s]]]=(f[c[M[s]]]<0?-1:1)*parseFloat(M[s+1]);break;case 5:break;case 6:b("Internal error")}}}b("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},(function(r,t,n,i,a,o,s){t.seedrandom=function(g,v){var y=[],_;return g=c(u(v?[g,r]:arguments.length?g:[new Date().getTime(),r,window],3),y),_=new l(y),c(_.S,r),t.random=function(){for(var S=_.g(i),b=s,E=0;S<a;)S=(S+E)*n,b*=n,E=_.g(1);for(;S>=o;)S/=2,b/=2,E>>>=1;return(S+E)/b},g};function l(d){var g,v,y=this,_=d.length,x=0,S=y.i=y.j=y.m=0;for(y.S=[],y.c=[],_||(d=[_++]);x<n;)y.S[x]=x++;for(x=0;x<n;x++)g=y.S[x],S=f(S+g+d[x%_]),v=y.S[S],y.S[x]=v,y.S[S]=g;y.g=function(E){var M=y.S,D=f(y.i+1),w=M[D],I=f(y.j+w),R=M[I];M[D]=R,M[I]=w;for(var P=M[f(w+R)];--E;)D=f(D+1),w=M[D],I=f(I+w),R=M[I],M[D]=R,M[I]=w,P=P*n+M[f(w+R)];return y.i=D,y.j=I,P},y.g(n)}function u(d,g,v,y,_){if(v=[],_=typeof d,g&&_=="object"){for(y in d)if(y.indexOf("S")<5)try{v.push(u(d[y],g-1))}catch{}}return v.length?v:d+(_!="string"?"\0":"")}function c(d,g,v,y){for(d+="",v=0,y=0;y<d.length;y++)g[f(y)]=f((v^=g[f(y)]*19)+d.charCodeAt(y));d="";for(y in g)d+=String.fromCharCode(g[y]);return d}function f(d){return d&n-1}s=t.pow(n,i),a=t.pow(2,a),o=a*2,c(t.random(),r)})([],numeric.seedrandom,256,6,52),(function(r){function t(u){if(typeof u!="object")return u;var c=[],f,d=u.length;for(f=0;f<d;f++)c[f+1]=t(u[f]);return c}function n(u){if(typeof u!="object")return u;var c=[],f,d=u.length;for(f=1;f<d;f++)c[f-1]=n(u[f]);return c}function i(u,c,f){var d,g,v,y,_;for(v=1;v<=f;v=v+1){for(u[v][v]=1/u[v][v],_=-u[v][v],d=1;d<v;d=d+1)u[d][v]=_*u[d][v];if(y=v+1,f<y)break;for(g=y;g<=f;g=g+1)for(_=u[v][g],u[v][g]=0,d=1;d<=v;d=d+1)u[d][g]=u[d][g]+_*u[d][v]}}function a(u,c,f,d){var g,v,y,_;for(v=1;v<=f;v=v+1){for(_=0,g=1;g<v;g=g+1)_=_+u[g][v]*d[g];d[v]=(d[v]-_)/u[v][v]}for(y=1;y<=f;y=y+1)for(v=f+1-y,d[v]=d[v]/u[v][v],_=-d[v],g=1;g<v;g=g+1)d[g]=d[g]+_*u[g][v]}function o(u,c,f,d){var g,v,y,_,x,S;for(v=1;v<=f;v=v+1){if(d[1]=v,S=0,y=v-1,y<1){if(S=u[v][v]-S,S<=0)break;u[v][v]=Math.sqrt(S)}else{for(_=1;_<=y;_=_+1){for(x=u[_][v],g=1;g<_;g=g+1)x=x-u[g][v]*u[g][_];x=x/u[_][_],u[_][v]=x,S=S+x*x}if(S=u[v][v]-S,S<=0)break;u[v][v]=Math.sqrt(S)}d[1]=0}}function s(u,c,f,d,g,v,y,_,x,S,b,E,M,D,w,I){var R,P,O,L,$,N,F,Y,G,W,U,j,ee,re,q,Q,fe,de,le,ce,me,ge,ve,oe,V,H,z;ee=Math.min(d,S),O=2*d+ee*(ee+5)/2+2*S+1,oe=1e-60;do oe=oe+oe,V=1+.1*oe,H=1+.2*oe;while(V<=1||H<=1);for(R=1;R<=d;R=R+1)w[R]=c[R];for(R=d+1;R<=O;R=R+1)w[R]=0;for(R=1;R<=S;R=R+1)E[R]=0;if($=[],I[1]===0){if(o(u,f,d,$),$[1]!==0){I[1]=2;return}a(u,f,d,c),i(u,f,d)}else{for(P=1;P<=d;P=P+1)for(g[P]=0,R=1;R<=P;R=R+1)g[P]=g[P]+u[R][P]*c[R];for(P=1;P<=d;P=P+1)for(c[P]=0,R=P;R<=d;R=R+1)c[P]=c[P]+u[P][R]*g[R]}for(v[1]=0,P=1;P<=d;P=P+1)for(g[P]=c[P],v[1]=v[1]+w[P]*g[P],w[P]=0,R=P+1;R<=d;R=R+1)u[R][P]=0;for(v[1]=-v[1]/2,I[1]=0,F=d,Y=F+d,U=Y+ee,G=U+ee+1,W=G+ee*(ee+1)/2,re=W+S,R=1;R<=S;R=R+1){for(Q=0,P=1;P<=d;P=P+1)Q=Q+y[P][R]*y[P][R];w[re+R]=Math.sqrt(Q)}M=0,D[1]=0,D[2]=0;function Z(){for(D[1]=D[1]+1,O=W,R=1;R<=S;R=R+1){for(O=O+1,Q=-_[R],P=1;P<=d;P=P+1)Q=Q+y[P][R]*g[P];if(Math.abs(Q)<oe&&(Q=0),R>b)w[O]=Q;else if(w[O]=-Math.abs(Q),Q>0){for(P=1;P<=d;P=P+1)y[P][R]=-y[P][R];_[R]=-_[R]}}for(R=1;R<=M;R=R+1)w[W+E[R]]=0;for(j=0,q=0,R=1;R<=S;R=R+1)w[W+R]<q*w[re+R]&&(j=R,q=w[W+R]/w[re+R]);return j===0?999:0}function X(){for(R=1;R<=d;R=R+1){for(Q=0,P=1;P<=d;P=P+1)Q=Q+u[P][R]*y[P][j];w[R]=Q}for(L=F,R=1;R<=d;R=R+1)w[L+R]=0;for(P=M+1;P<=d;P=P+1)for(R=1;R<=d;R=R+1)w[L+R]=w[L+R]+u[R][P]*w[P];for(ge=!0,R=M;R>=1;R=R-1){for(Q=w[R],O=G+R*(R+3)/2,L=O-R,P=R+1;P<=M;P=P+1)Q=Q-w[O]*w[Y+P],O=O+P;if(Q=Q/w[L],w[Y+R]=Q,E[R]<b||Q<0)break;ge=!1,N=R}if(!ge)for(fe=w[U+N]/w[Y+N],R=1;R<=M&&!(E[R]<b||w[Y+R]<0);R=R+1)q=w[U+R]/w[Y+R],q<fe&&(fe=q,N=R);for(Q=0,R=F+1;R<=F+d;R=R+1)Q=Q+w[R]*w[R];if(Math.abs(Q)<=oe){if(ge)return I[1]=1,999;for(R=1;R<=M;R=R+1)w[U+R]=w[U+R]-fe*w[Y+R];return w[U+M+1]=w[U+M+1]+fe,700}else{for(Q=0,R=1;R<=d;R=R+1)Q=Q+w[F+R]*y[R][j];for(de=-w[W+j]/Q,ve=!0,ge||fe<de&&(de=fe,ve=!1),R=1;R<=d;R=R+1)g[R]=g[R]+de*w[F+R],Math.abs(g[R])<oe&&(g[R]=0);for(v[1]=v[1]+de*Q*(de/2+w[U+M+1]),R=1;R<=M;R=R+1)w[U+R]=w[U+R]-de*w[Y+R];if(w[U+M+1]=w[U+M+1]+de,ve){for(M=M+1,E[M]=j,O=G+(M-1)*M/2+1,R=1;R<=M-1;R=R+1)w[O]=w[R],O=O+1;if(M===d)w[O]=w[d];else{for(R=d;R>=M+1&&!(w[R]===0||(le=Math.max(Math.abs(w[R-1]),Math.abs(w[R])),ce=Math.min(Math.abs(w[R-1]),Math.abs(w[R])),w[R-1]>=0?q=Math.abs(le*Math.sqrt(1+ce*ce/(le*le))):q=-Math.abs(le*Math.sqrt(1+ce*ce/(le*le))),le=w[R-1]/q,ce=w[R]/q,le===1));R=R-1)if(le===0)for(w[R-1]=ce*q,P=1;P<=d;P=P+1)q=u[P][R-1],u[P][R-1]=u[P][R],u[P][R]=q;else for(w[R-1]=q,me=ce/(1+le),P=1;P<=d;P=P+1)q=le*u[P][R-1]+ce*u[P][R],u[P][R]=me*(u[P][R-1]+q)-u[P][R],u[P][R-1]=q;w[O]=w[M]}}else{for(Q=-_[j],P=1;P<=d;P=P+1)Q=Q+g[P]*y[P][j];if(j>b)w[W+j]=Q;else if(w[W+j]=-Math.abs(Q),Q>0){for(P=1;P<=d;P=P+1)y[P][j]=-y[P][j];_[j]=-_[j]}return 700}}return 0}function K(){if(O=G+N*(N+1)/2+1,L=O+N,w[L]===0||(le=Math.max(Math.abs(w[L-1]),Math.abs(w[L])),ce=Math.min(Math.abs(w[L-1]),Math.abs(w[L])),w[L-1]>=0?q=Math.abs(le*Math.sqrt(1+ce*ce/(le*le))):q=-Math.abs(le*Math.sqrt(1+ce*ce/(le*le))),le=w[L-1]/q,ce=w[L]/q,le===1))return 798;if(le===0){for(R=N+1;R<=M;R=R+1)q=w[L-1],w[L-1]=w[L],w[L]=q,L=L+R;for(R=1;R<=d;R=R+1)q=u[R][N],u[R][N]=u[R][N+1],u[R][N+1]=q}else{for(me=ce/(1+le),R=N+1;R<=M;R=R+1)q=le*w[L-1]+ce*w[L],w[L]=me*(w[L-1]+q)-w[L],w[L-1]=q,L=L+R;for(R=1;R<=d;R=R+1)q=le*u[R][N]+ce*u[R][N+1],u[R][N+1]=me*(u[R][N]+q)-u[R][N+1],u[R][N]=q}return 0}function ne(){for(L=O-N,R=1;R<=N;R=R+1)w[L]=w[O],O=O+1,L=L+1;return w[U+N]=w[U+N+1],E[N]=E[N+1],N=N+1,N<M?797:0}function te(){return w[U+M]=w[U+M+1],w[U+M+1]=0,E[M]=0,M=M-1,D[2]=D[2]+1,0}for(z=0;;){if(z=Z(),z===999)return;for(;z=X(),z!==0;){if(z===999)return;if(z===700)if(N===M)te();else{for(;K(),z=ne(),z===797;);te()}}}}function l(u,c,f,d,g,v){u=t(u),c=t(c),f=t(f);var y,_,x,S,b,E=[],M=[],D=[],w=[],I=[],R;if(g=g||0,v=v?t(v):[void 0,0],d=d?t(d):[],_=u.length-1,x=f[1].length-1,!d)for(y=1;y<=x;y=y+1)d[y]=0;for(y=1;y<=x;y=y+1)M[y]=0;for(S=0,b=Math.min(_,x),y=1;y<=_;y=y+1)D[y]=0;for(E[1]=0,y=1;y<=2*_+b*(b+5)/2+2*x+1;y=y+1)w[y]=0;for(y=1;y<=2;y=y+1)I[y]=0;return s(u,c,_,_,D,E,f,d,_,x,g,M,S,I,w,v),R="",v[1]===1&&(R="constraints are inconsistent, no solution!"),v[1]===2&&(R="matrix D in quadratic function is not positive definite!"),{solution:n(D),value:n(E),unconstrained_solution:n(c),iterations:n(I),iact:n(M),message:R}}r.solveQP=l})(numeric),numeric.svd=function r(t){var n,i=numeric.epsilon,a=1e-64/i,o=50,s=0,l=0,u=0,c=0,f=0,d=numeric.clone(t),g=d.length,v=d[0].length;if(g<v)throw"Need more rows than columns";var y=new Array(v),_=new Array(v);for(l=0;l<v;l++)y[l]=_[l]=0;var x=numeric.rep([v,v],0);function S($,N){return $=Math.abs($),N=Math.abs(N),$>N?$*Math.sqrt(1+N*N/$/$):N==0?$:N*Math.sqrt(1+$*$/N/N)}var b=0,E=0,M=0,D=0,w=0,I=0,R=0;for(l=0;l<v;l++){for(y[l]=E,R=0,f=l+1,u=l;u<g;u++)R+=d[u][l]*d[u][l];if(R<=a)E=0;else for(b=d[l][l],E=Math.sqrt(R),b>=0&&(E=-E),M=b*E-R,d[l][l]=b-E,u=f;u<v;u++){for(R=0,c=l;c<g;c++)R+=d[c][l]*d[c][u];for(b=R/M,c=l;c<g;c++)d[c][u]+=b*d[c][l]}for(_[l]=E,R=0,u=f;u<v;u++)R=R+d[l][u]*d[l][u];if(R<=a)E=0;else{for(b=d[l][l+1],E=Math.sqrt(R),b>=0&&(E=-E),M=b*E-R,d[l][l+1]=b-E,u=f;u<v;u++)y[u]=d[l][u]/M;for(u=f;u<g;u++){for(R=0,c=f;c<v;c++)R+=d[u][c]*d[l][c];for(c=f;c<v;c++)d[u][c]+=R*y[c]}}w=Math.abs(_[l])+Math.abs(y[l]),w>D&&(D=w)}for(l=v-1;l!=-1;l+=-1){if(E!=0){for(M=E*d[l][l+1],u=f;u<v;u++)x[u][l]=d[l][u]/M;for(u=f;u<v;u++){for(R=0,c=f;c<v;c++)R+=d[l][c]*x[c][u];for(c=f;c<v;c++)x[c][u]+=R*x[c][l]}}for(u=f;u<v;u++)x[l][u]=0,x[u][l]=0;x[l][l]=1,E=y[l],f=l}for(l=v-1;l!=-1;l+=-1){for(f=l+1,E=_[l],u=f;u<v;u++)d[l][u]=0;if(E!=0){for(M=d[l][l]*E,u=f;u<v;u++){for(R=0,c=f;c<g;c++)R+=d[c][l]*d[c][u];for(b=R/M,c=l;c<g;c++)d[c][u]+=b*d[c][l]}for(u=l;u<g;u++)d[u][l]=d[u][l]/E}else for(u=l;u<g;u++)d[u][l]=0;d[l][l]+=1}for(i=i*D,c=v-1;c!=-1;c+=-1)for(var P=0;P<o;P++){var O=!1;for(f=c;f!=-1;f+=-1){if(Math.abs(y[f])<=i){O=!0;break}if(Math.abs(_[f-1])<=i)break}if(!O){s=0,R=1;var L=f-1;for(l=f;l<c+1&&(b=R*y[l],y[l]=s*y[l],!(Math.abs(b)<=i));l++)for(E=_[l],M=S(b,E),_[l]=M,s=E/M,R=-b/M,u=0;u<g;u++)w=d[u][L],I=d[u][l],d[u][L]=w*s+I*R,d[u][l]=-w*R+I*s}if(I=_[c],f==c){if(I<0)for(_[c]=-I,u=0;u<v;u++)x[u][c]=-x[u][c];break}if(P>=o-1)throw"Error: no convergence.";for(D=_[f],w=_[c-1],E=y[c-1],M=y[c],b=((w-I)*(w+I)+(E-M)*(E+M))/(2*M*w),E=S(b,1),b<0?b=((D-I)*(D+I)+M*(w/(b-E)-M))/D:b=((D-I)*(D+I)+M*(w/(b+E)-M))/D,s=1,R=1,l=f+1;l<c+1;l++){for(E=y[l],w=_[l],M=R*E,E=s*E,I=S(b,M),y[l-1]=I,s=b/I,R=M/I,b=D*s+E*R,E=-D*R+E*s,M=w*R,w=w*s,u=0;u<v;u++)D=x[u][l-1],I=x[u][l],x[u][l-1]=D*s+I*R,x[u][l]=-D*R+I*s;for(I=S(b,M),_[l-1]=I,s=b/I,R=M/I,b=s*E+R*w,D=-R*E+s*w,u=0;u<g;u++)w=d[u][l-1],I=d[u][l],d[u][l-1]=w*s+I*R,d[u][l]=-w*R+I*s}y[f]=0,y[c]=b,_[c]=D}for(l=0;l<_.length;l++)_[l]<i&&(_[l]=0);for(l=0;l<v;l++)for(u=l-1;u>=0;u--)if(_[u]<_[l]){for(s=_[u],_[u]=_[l],_[l]=s,c=0;c<d.length;c++)n=d[c][l],d[c][l]=d[c][u],d[c][u]=n;for(c=0;c<x.length;c++)n=x[c][l],x[c][l]=x[c][u],x[c][u]=n;l=u}return{U:d,S:_,V:x}}})(numeric1_2_6$2)),numeric1_2_6$2}var numeric1_2_6Exports=requireNumeric1_2_6();const numeric1_2_6=getDefaultExportFromCjs(numeric1_2_6Exports),numeric1_2_6$1=_mergeNamespaces({__proto__:null,default:numeric1_2_6},[numeric1_2_6Exports]),indifferenceCurve={id:"indifference",name:"",ControlsComponent:Controls$1,ChartInfoComponent:ChartInfo$1,defaultParams:{iWeight:1,hWeight:1,wageRate:10,unearnedIncome:0,utility:100,defaultYAxis:{min:0,max:1800}},computeSeries:computeIndifferenceSeries,axisLabels:{xLabel:" ()",yLabel:" ()"},chartTitle:"-",holdEnabled:!0},_hoisted_1$2={class:"indifference-controls"},_hoisted_2$2={class:"control-section"},_hoisted_3$2={class:"control-grid"},_hoisted_4$2={class:"control-item"},_hoisted_5$1={class:"control-item"},_hoisted_6={class:"formula"},_hoisted_7={class:"control-section"},_hoisted_8={class:"control-item"},_hoisted_9={class:"input-with-unit"},_hoisted_10={class:"control-section"},_hoisted_11={class:"control-grid"},_hoisted_12={class:"control-item"},_hoisted_13={class:"input-with-unit"},_hoisted_14={class:"control-grid"},_hoisted_15={class:"control-item"},_hoisted_16={class:"input-with-unit"},_sfc_main$3={__name:"Controls",props:{modelValue:{type:Object,default:()=>({iWeight:1,hWeight:1,unearnedIncome:0,utility:100,wMin:10,wMax:100})}},emits:["update:modelValue"],setup(r,{emit:t}){const n=r,i=t,a=reactive({...n.modelValue});return watch(()=>n.modelValue,o=>{Object.assign(a,o||{})},{deep:!0}),watch(a,o=>{const s={...o};s.utility>=100||(s.utility=100,a.utility=100),s.iWeight>0||(s.iWeight=.1,a.iWeight=.1),s.hWeight>0||(s.hWeight=.1,a.hWeight=.1),s.wMin>0||(s.wMin=1,a.wMin=1),s.wMax>s.wMin||(s.wMax=s.wMin+10,a.wMax=s.wMin+10),console.log("[Controls] emit update:modelValue",s),i("update:modelValue",s)},{deep:!0}),(o,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("section",_hoisted_2$2,[s[9]||(s[9]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[s[5]||(s[5]=createBaseVNode("label",{for:"i-weight"}," (I)",-1)),withDirectives(createBaseVNode("input",{id:"i-weight",type:"number",min:"0.1",step:"0.1","onUpdate:modelValue":s[0]||(s[0]=l=>a.iWeight=l)},null,512),[[vModelText,a.iWeight,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_5$1,[s[6]||(s[6]=createBaseVNode("label",{for:"h-weight"}," (H)",-1)),withDirectives(createBaseVNode("input",{id:"h-weight",type:"number",min:"0.1",step:"0.1","onUpdate:modelValue":s[1]||(s[1]=l=>a.hWeight=l)},null,512),[[vModelText,a.hWeight,void 0,{number:!0}]])])]),createBaseVNode("div",_hoisted_6,[s[7]||(s[7]=createTextVNode("U = I",-1)),createBaseVNode("sup",null,toDisplayString(a.iWeight),1),s[8]||(s[8]=createTextVNode("  H",-1)),createBaseVNode("sup",null,toDisplayString(a.hWeight),1)])]),createBaseVNode("section",_hoisted_7,[s[12]||(s[12]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_8,[s[11]||(s[11]=createBaseVNode("label",{for:"unearned-income"},"",-1)),createBaseVNode("div",_hoisted_9,[withDirectives(createBaseVNode("input",{id:"unearned-income",type:"number",min:"0",step:"50","onUpdate:modelValue":s[2]||(s[2]=l=>a.unearnedIncome=l)},null,512),[[vModelText,a.unearnedIncome,void 0,{number:!0}]]),s[10]||(s[10]=createBaseVNode("span",{class:"unit"},"",-1))])])]),createBaseVNode("section",_hoisted_10,[s[17]||(s[17]=createBaseVNode("h3",null,"",-1)),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[s[14]||(s[14]=createBaseVNode("label",{for:"w-min"},"",-1)),createBaseVNode("div",_hoisted_13,[withDirectives(createBaseVNode("input",{id:"w-min",type:"number",min:"1",step:"5","onUpdate:modelValue":s[3]||(s[3]=l=>a.wMin=l)},null,512),[[vModelText,a.wMin,void 0,{number:!0}]]),s[13]||(s[13]=createBaseVNode("span",{class:"unit"},"/",-1))])])]),createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,[s[16]||(s[16]=createBaseVNode("label",{for:"w-max"},"",-1)),createBaseVNode("div",_hoisted_16,[withDirectives(createBaseVNode("input",{id:"w-max",type:"number",min:"10",step:"10","onUpdate:modelValue":s[4]||(s[4]=l=>a.wMax=l)},null,512),[[vModelText,a.wMax,void 0,{number:!0}]]),s[15]||(s[15]=createBaseVNode("span",{class:"unit"},"/",-1))])])])])]))}},Controls=_export_sfc(_sfc_main$3,[["__scopeId","data-v-a979f382"]]),_hoisted_1$1={class:"chart-info"},_hoisted_2$1={class:"info-chip"},_hoisted_3$1={class:"info-chip"},_hoisted_4$1={key:0,class:"info-chip"},_sfc_main$2={__name:"ChartInfo",props:{chartMeta:{type:Object,default:()=>({})},viewMode:{type:String,default:"normal"},params:{type:Object,default:()=>({})}},setup(r){const t=r,n=computed(()=>t.chartMeta.wageRange||""),i=computed(()=>t.params.unearnedIncome?.toFixed?.(0)??0);return(a,o)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("span",_hoisted_2$1,""+toDisplayString(n.value),1),createBaseVNode("span",_hoisted_3$1," = "+toDisplayString(i.value),1),r.viewMode==="wide"?(openBlock(),createElementBlock("span",_hoisted_4$1,"")):createCommentVNode("",!0)]))}},ChartInfo=_export_sfc(_sfc_main$2,[["__scopeId","data-v-3c49c9b5"]]),scriptRel="modulepreload",assetsURL=function(r){return"/indifference-curve-app/"+r},seen={},__vitePreload=function r(t,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var s=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=c(n.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const d=f.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":scriptRel,d||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),d)return new Promise((y,_)=>{v.addEventListener("load",y),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};let numericLib=null,numericLoadError=null;async function ensureNumeric(){if(numericLib)return numericLib;if(numericLoadError)throw numericLoadError;try{console.log("[ensureNumeric] Loading numeric via dynamic import...");const r=await __vitePreload(()=>Promise.resolve().then(()=>numeric1_2_6$1),void 0);if(console.log("[ensureNumeric] Module loaded, keys:",Object.keys(r)),numericLib=r.default||r.numeric||r,console.log("[ensureNumeric] numericLib type:",typeof numericLib),console.log("[ensureNumeric] Has uncmin:",typeof numericLib?.uncmin),console.log("[ensureNumeric] Sample keys:",Object.keys(numericLib).slice(0,10)),typeof numericLib?.uncmin!="function")throw new Error("numeric.uncmin not found in loaded module");return numericLib}catch(r){throw console.error("[ensureNumeric] Failed to load numeric:",r),numericLoadError=r,r}}const LEISURE_HOURS=16;async function calOptimalWorkT(r={}){console.log("[calOptimalWorkTTTTTT] Starting...");let t;try{t=await ensureNumeric()}catch(_){throw console.error("[calOptimalWorkT] Failed to load numeric:",_),new Error(`Cannot load numeric library: ${_.message}`)}console.log("[calOptimalWorkT] numeric loaded:",!!t,"has uncmin:",typeof t?.uncmin),console.log("[calOptimalWorkT] numeric.uncmin is available, calling it...");const n=globalThis.numeric;globalThis.numeric=t;const i=(_,x,S,b,E)=>{const M=x*(LEISURE_HOURS-_)+S;return Math.pow(M,b)*Math.pow(_,E)},{wageRate:a=50,unearnedIncome:o=100,iWeight:s=1,hWeight:l=1}=r,u=_=>-i(_,a,o,s,l),c=[9];console.log("[testOpt] Calling numeric.uncmin with input:",{wageRate:a,unearnedIncome:o,iWeight:s,hWeight:l});let f;try{f=t.uncmin(u,c),console.log("[testOpt] numeric.uncmin returned:",f)}catch(_){throw console.error("[testOpt] numeric.uncmin threw error:",_),new Error(`numeric.uncmin failed: ${_.message||_}`)}finally{n===void 0?delete globalThis.numeric:globalThis.numeric=n}let d=null;f&&Array.isArray(f.solution)?d=f.solution:f&&Array.isArray(f.x)?d=f.x:Array.isArray(f)&&(d=f);const g=Number.isFinite(d?.[0])?d[0]:c[0],v=u([g]),y=LEISURE_HOURS-g;return{success:!0,optimum:{workT:round$2(y)},value:-v,numericResult:f}}async function generateSupplyCurve(r,t,n=5){const{utility:i=100,iWeight:a=1,hWeight:o=1,unearnedIncome:s=100,wMin:l=10,wMax:u=100}=r,c=[];if(!(i>0)||!(a>0)||!(o>0))return c;for(let f=l;f<=u;f+=n){const d=await calOptimalWorkT({iWeight:a,hWeight:o,unearnedIncome:s,wageRate:f});if(d&&d.success&&d.optimum){const g=d.optimum.workT||0;c.push([g,f])}}return c}async function computeSupplySeries(r,t={}){const{autoYAxis:n=!1,manualYMin:i=0,manualYMax:a=100}=t,{wMin:o=10,wMax:s=100}=r,l=n?Math.ceil(s*1.1):Math.max(a??0,(i??0)+100),u=n?Math.max(0,o-10):Math.max(i??0,0);return{series:[{name:"",type:"line",data:await generateSupplyCurve(r),lineStyle:{color:"#0066cc",width:3},symbol:"circle",symbolSize:6,smooth:!1,meta:{holdEligible:!1}}],axis:{min:u,max:l},meta:{wageRange:`${o} - ${s}`}}}function round$2(r){return Number.parseFloat(r.toFixed(2))}const supplyCurve={id:"supply-curve",name:"",ControlsComponent:Controls,ChartInfoComponent:ChartInfo,defaultParams:{iWeight:1,hWeight:1,unearnedIncome:100,utility:100,wMin:10,wMax:100,defaultYAxis:{min:0,max:120}},computeSeries:computeSupplySeries,axisLabels:{xLabel:" ()",yLabel:" (/)"},chartTitle:"",holdEnabled:!1},registry=[indifferenceCurve,supplyCurve];function useCurveRegistry(){const r=computed(()=>registry);function t(n){return registry.find(i=>i.id===n)??null}return{curves:r,getCurve:t}}function useSidebarResize(r={}){const{initialWidth:t=280,minWidth:n=200,maxWidth:i=600}=r,a=ref(t),o=ref(!1);function s(c){if(!o.value)return;const f="touches"in c?c.touches[0].clientX:c.clientX,d=Math.min(Math.max(f,n),i);a.value=Math.round(d)}function l(){o.value&&(o.value=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",l),document.body.style.userSelect="")}function u(c){c.preventDefault(),o.value=!0,document.body.style.userSelect="none",document.addEventListener("mousemove",s),document.addEventListener("mouseup",l),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",l)}return onBeforeUnmount(()=>{l()}),{sidebarWidth:a,isResizing:o,startResize:u}}let counter=0;function useHoldStack(){const r=ref([]);function t(a=[]){const s=(Array.isArray(a)?a:[a]).filter(Boolean).map(l=>{counter+=1;const u=` ( ${counter})`,c=l.lineStyle||{};return{...l,id:l.id??`held-${counter}`,name:(l.name||"")+u,lineStyle:{...c,width:2,type:"dashed",color:"#9ca3af"},emphasis:{focus:"series"},meta:{...l.meta||{},holdEligible:!1}}});s.length&&(r.value=[...r.value,...s])}function n(){r.value=[]}function i(a){r.value=r.value.filter(o=>o.id!==a)}return{heldSeries:r,push:t,clear:n,remove:i}}const _hoisted_1={class:"curves-app"},_hoisted_2={key:0},_hoisted_3={key:1},_hoisted_4={class:"sidebar-body"},_hoisted_5={class:"sidebar-header"},_sfc_main$1={__name:"CurvesPage",setup(r){const{curves:t,getCurve:n}=useCurveRegistry(),i=ref(""),a=reactive({}),o=reactive({hold:!1,autoYAxis:!1,manualYMin:0,manualYMax:0,chartPadding:20,viewMode:"normal",aspectRatioPreset:"auto",aspectWidth:16,aspectHeight:9,defaultYAxis:{min:0,max:1200}}),s=ref(!0),{sidebarWidth:l,startResize:u}=useSidebarResize({initialWidth:320,minWidth:220,maxWidth:720}),{heldSeries:c,push:f,clear:d}=useHoldStack(),g=ref(null),v=ref(null),y=ref({min:0,max:1200}),_=ref({}),x=ref(null),S=ref(!0);function b(O){!O||typeof O!="object"||Object.assign(o,O)}function E(O={}){Object.keys(a).forEach(L=>{delete a[L]}),Object.assign(a,O)}function M(O){!O||typeof O!="object"||(Object.assign(a,O),console.log("[CurvesPage] activeParams updated:",{...a}))}watchEffect(()=>{!i.value&&t.value.length&&(i.value=t.value[0].id)});const D=computed(()=>n(i.value));watch(i,(O,L)=>{const $=n(O);$&&(S.value=$?.holdEnabled??!0,console.log("[TTTTTTTTTTTTCurvesPage] holdEnabled",S.value),E(P($.defaultParams||{})),o.defaultYAxis=P($.defaultYAxis??$.defaultParams?.defaultYAxis??{min:0,max:1200}),o.manualYMax=o.defaultYAxis.max,o.manualYMin=o.defaultYAxis.min,console.log("[CurvesPage] Selected curve changed:",O,$),d(),g.value=null,v.value=null,I())},{immediate:!0}),watch(D,O=>{O&&(E(O.defaultParams||{}),d(),g.value=null,v.value=null,I())},{immediate:!0}),watch(()=>o.hold,O=>{O||d()}),watch([i,()=>o.autoYAxis,()=>o.manualYMin,()=>o.manualYMax],()=>{I()},{immediate:!0}),watch(a,()=>{I()},{deep:!0,immediate:!0});const w=computed(()=>{const O=g.value?.series??[];return[...c.value,...O]});async function I(){const O=D.value;if(!O||typeof O.computeSeries!="function")return;const L=P(a);R(L);const $=await O.computeSeries(L,{autoYAxis:o.autoYAxis,manualYMin:o.manualYMin,manualYMax:o.manualYMax});console.log("sharedControls.autoYAxis:",o.autoYAxis),g.value=$,console.log("[11111111] currentResult:",g.value),_.value=$?.meta||{},y.value=$?.axis||{min:0,max:1200},console.log("yAxisRange:",y.value),v.value=L,x.value=new Date().toISOString()}function R(O){if(!o.hold||!g.value||!v.value)return;const L=v.value,$=Number(O.utility??0),N=Number(L.utility??0);if(Math.abs($-N)<100)return;const F=(g.value?.series||[]).filter(Y=>Y?.meta?.holdEligible);F.length&&f(F)}function P(O){return JSON.parse(JSON.stringify(O||{}))}return(O,L)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("button",{class:normalizeClass(["sidebar-toggle",{"sidebar-toggle--expanded":s.value}]),type:"button",onClick:L[0]||(L[0]=$=>s.value=!s.value)},[s.value?(openBlock(),createElementBlock("span",_hoisted_2,"")):(openBlock(),createElementBlock("span",_hoisted_3,""))],2),withDirectives(createBaseVNode("aside",{class:"sidebar",style:normalizeStyle$1({width:`${unref(l)}px`})},[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createBaseVNode("h2",null,toDisplayString(D.value.name)+"",1)]),createVNode(CurveSelector,{curves:unref(t),modelValue:i.value,"onUpdate:modelValue":L[1]||(L[1]=$=>i.value=$)},null,8,["curves","modelValue"]),(openBlock(),createBlock(CurvePanel,{key:i.value,curve:D.value,modelValue:a,"onUpdate:modelValue":M},null,8,["curve","modelValue"])),createVNode(SharedControls,{modelValue:o,holdEnabled:S.value,"onUpdate:modelValue":b},null,8,["modelValue","holdEnabled"]),o.hold&&unref(c).length?(openBlock(),createElementBlock("button",{key:0,class:"clear-held",type:"button",onClick:L[2]||(L[2]=$=>unref(d)())},"  ("+toDisplayString(unref(c).length)+") ",1)):createCommentVNode("",!0)]),createBaseVNode("div",{class:"resize-handle",onMousedown:L[3]||(L[3]=withModifiers((...$)=>unref(u)&&unref(u)(...$),["prevent"])),onTouchstart:L[4]||(L[4]=withModifiers((...$)=>unref(u)&&unref(u)(...$),["prevent"]))},null,32)],4),[[vShow,s.value]]),createVNode(ChartArea,{class:"curves-app__chart",series:w.value,yAxis:y.value,sharedControls:o,chartMeta:_.value,axisLabels:D.value.axisLabels,chartTitle:D.value.chartTitle||D.value.name,ChartInfoComponent:D.value.ChartInfoComponent,currentParams:a},null,8,["series","yAxis","sharedControls","chartMeta","axisLabels","chartTitle","ChartInfoComponent","currentParams"])]),createVNode(Footer)],64))}},CurvesPage=_export_sfc(_sfc_main$1,[["__scopeId","data-v-e5fffc90"]]),_sfc_main={__name:"App",setup(r){return(t,n)=>(openBlock(),createBlock(CurvesPage))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},extendStatics(r,t)};function __extends(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Browser=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),Env=(function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,t){var n=t.browser,i=r.match(/Firefox\/([\d.]+)/),a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),o=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);i&&(n.firefox=!0,n.version=i[1]),a&&(n.ie=!0,n.version=a[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),s&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11);var l=t.domSupported=typeof document<"u";if(l){var u=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in u||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var t={};if(typeof JSON>"u")return t;for(var n=0;n<r.length;n++){var i=String.fromCharCode(n+32),a=(r.charCodeAt(n)-OFFSET)/SCALE;t[i]=a}return t}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,t;return function(n,i){if(!r){var a=platformApi.createCanvas();r=a&&a.getContext("2d")}if(r)return t!==i&&(t=r.font=i||DEFAULT_FONT),r.measureText(n);n=n||"",i=i||DEFAULT_FONT;var o=/((?:\d+)?\.?\d*)px/.exec(i),s=o&&+o[1]||DEFAULT_FONT_SIZE,l=0;if(i.indexOf("mono")>=0)l=s*n.length;else for(var u=0;u<n.length;u++){var c=DEFAULT_TEXT_WIDTH_MAP[n[u]];l+=c==null?s:c*s}return{width:l}}})(),loadImage:function(r,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=r,i}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function clone$2(r){if(r==null||typeof r!="object")return r;var t=r,n=objToString.call(r);if(n==="[object Array]"){if(!isPrimitive(r)){t=[];for(var i=0,a=r.length;i<a;i++)t[i]=clone$2(r[i])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(r)){var o=r.constructor;if(o.from)t=o.from(r);else{t=new o(r.length);for(var i=0,a=r.length;i<a;i++)t[i]=r[i]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(r)&&!isDom(r)){t={};for(var s in r)r.hasOwnProperty(s)&&s!==protoKey&&(t[s]=clone$2(r[s]))}return t}function merge(r,t,n){if(!isObject$2(t)||!isObject$2(r))return n?clone$2(t):r;for(var i in t)if(t.hasOwnProperty(i)&&i!==protoKey){var a=r[i],o=t[i];isObject$2(o)&&isObject$2(a)&&!isArray(o)&&!isArray(a)&&!isDom(o)&&!isDom(a)&&!isBuiltInObject(o)&&!isBuiltInObject(a)&&!isPrimitive(o)&&!isPrimitive(a)?merge(a,o,n):(n||!(i in r))&&(r[i]=clone$2(t[i]))}return r}function extend(r,t){if(Object.assign)Object.assign(r,t);else for(var n in t)t.hasOwnProperty(n)&&n!==protoKey&&(r[n]=t[n]);return r}function defaults(r,t,n){for(var i=keys(t),a=0,o=i.length;a<o;a++){var s=i[a];r[s]==null&&(r[s]=t[s])}return r}function indexOf(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var n=0,i=r.length;n<i;n++)if(r[n]===t)return n}return-1}function inherits(r,t){var n=r.prototype;function i(){}i.prototype=t.prototype,r.prototype=new i;for(var a in n)n.hasOwnProperty(a)&&(r.prototype[a]=n[a]);r.prototype.constructor=r,r.superClass=t}function mixin(r,t,n){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var o=i[a];o!=="constructor"&&r[o]==null&&(r[o]=t[o])}else defaults(r,t)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$4(r,t,n){if(r&&t)if(r.forEach&&r.forEach===nativeForEach)r.forEach(t,n);else if(r.length===+r.length)for(var i=0,a=r.length;i<a;i++)t.call(n,r[i],i,r);else for(var o in r)r.hasOwnProperty(o)&&t.call(n,r[o],o,r)}function map$1(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.map&&r.map===nativeMap)return r.map(t,n);for(var i=[],a=0,o=r.length;a<o;a++)i.push(t.call(n,r[a],a,r));return i}function reduce(r,t,n,i){if(r&&t){for(var a=0,o=r.length;a<o;a++)n=t.call(i,n,r[a],a,r);return n}}function filter(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(t,n);for(var i=[],a=0,o=r.length;a<o;a++)t.call(n,r[a],a,r)&&i.push(r[a]);return i}function find(r,t,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)if(t.call(n,r[i],i,r))return r[i]}}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(n);return t}function bindPolyfill(r,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return r.apply(t,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return r.apply(this,t.concat(nativeSlice.call(arguments)))}}function isArray(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction(r){return typeof r=="function"}function isString(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber(r){return typeof r=="number"}function isObject$2(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=0,i=r.length;n<i;n++)if(r[n]!=null)return r[n]}function retrieve2(r,t){return r??t}function retrieve3(r,t,n){return r??t??n}function slice(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return nativeSlice.apply(r,t)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,t){if(!r)throw new Error(t)}function trim(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=(function(){function r(){this.data={}}return r.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,n){return this.data[t]=n,this},r.prototype.keys=function(){return keys(this.data)},r.prototype.forEach=function(t){var n=this.data;for(var i in n)n.hasOwnProperty(i)&&t(n[i],i)},r})(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=(function(){function r(t){var n=isArray(t);this.data=maybeNativeMap();var i=this;t instanceof r?t.each(a):t&&each$4(t,a);function a(o,s){n?i.set(o,s):i.set(s,o)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,n){return this.data.set(t,n),n},r.prototype.each=function(t,n){this.data.forEach(function(i,a){t.call(n,i,a)})},r.prototype.keys=function(){var t=this.data.keys();return isNativeMapSupported?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r})();function createHashMap(r){return new HashMap(r)}function concatArray(r,t){for(var n=new r.constructor(r.length+t.length),i=0;i<r.length;i++)n[i]=r[i];for(var a=r.length,i=0;i<t.length;i++)n[i+a]=t[i];return n}function createObject(r,t){var n;if(Object.create)n=Object.create(r);else{var i=function(){};i.prototype=r,n=new i}return t&&extend(n,t),n}function disableUserSelect(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function hasOwn(r,t){return r.hasOwnProperty(t)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function clone$1(r){return[r[0],r[1]]}function add(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r}function sub(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$2(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r}function normalize$1(r,t){var n=len(t);return n===0?(r[0]=0,r[1]=0):(r[0]=t[0]/n,r[1]=t[1]/n),r}function distance(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var dist$1=distance;function distanceSquare(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var distSquare=distanceSquare;function applyTransform$1(r,t,n){var i=t[0],a=t[1];return r[0]=n[0]*i+n[2]*a+n[4],r[1]=n[1]*i+n[3]*a+n[5],r}function min$1(r,t,n){return r[0]=Math.min(t[0],n[0]),r[1]=Math.min(t[1],n[1]),r}function max$1(r,t,n){return r[0]=Math.max(t[0],n[0]),r[1]=Math.max(t[1],n[1]),r}var Param=(function(){function r(t,n){this.target=t,this.topTarget=n&&n.topTarget}return r})(),Draggable=(function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Param(n,t),"dragstart",t.event))},r.prototype._drag=function(t){var n=this._draggingTarget;if(n){var i=t.offsetX,a=t.offsetY,o=i-this._x,s=a-this._y;this._x=i,this._y=a,n.drift(o,s,t),this.handler.dispatchToElement(new Param(n,t),"drag",t.event);var l=this.handler.findHover(i,a,n).target,u=this._dropTarget;this._dropTarget=l,n!==l&&(u&&l!==u&&this.handler.dispatchToElement(new Param(u,t),"dragleave",t.event),l&&l!==u&&this.handler.dispatchToElement(new Param(l,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r})(),Eventful=(function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,n,i,a){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(a=i,i=n,n=null),!i||!t)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),o[t]||(o[t]=[]);for(var l=0;l<o[t].length;l++)if(o[t][l].h===i)return this;var u={h:i,query:n,ctx:a||this,callAtLast:i.zrEventfulCallAtLast},c=o[t].length-1,f=o[t][c];return f&&f.callAtLast?o[t].splice(c,0,u):o[t].push(u),this},r.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},r.prototype.off=function(t,n){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(n){if(i[t]){for(var a=[],o=0,s=i[t].length;o<s;o++)i[t][o].h!==n&&a.push(i[t][o]);i[t]=a}i[t]&&i[t].length===0&&delete i[t]}else delete i[t];return this},r.prototype.trigger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var a=this._$handlers[t],o=this._$eventProcessor;if(a)for(var s=n.length,l=a.length,u=0;u<l;u++){var c=a[u];if(!(o&&o.filter&&c.query!=null&&!o.filter(t,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,n[0]);break;case 2:c.h.call(c.ctx,n[0],n[1]);break;default:c.h.apply(c.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var a=this._$handlers[t],o=this._$eventProcessor;if(a)for(var s=n.length,l=n[s-1],u=a.length,c=0;c<u;c++){var f=a[c];if(!(o&&o.filter&&f.query!=null&&!o.filter(t,f.query)))switch(s){case 0:f.h.call(l);break;case 1:f.h.call(l,n[0]);break;case 2:f.h.call(l,n[0],n[1]);break;default:f.h.apply(l,n.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},r})(),LN2=Math.log(2);function determinant(r,t,n,i,a,o){var s=i+"-"+a,l=r.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var u=Math.round(Math.log((1<<l)-1&~a)/LN2);return r[n][u]}for(var c=i|1<<n,f=n+1;i&1<<f;)f++;for(var d=0,g=0,v=0;g<l;g++){var y=1<<g;y&a||(d+=(v%2?-1:1)*r[n][g]*determinant(r,t-1,f,c,a|y,o),v++)}return o[s]=d,d}function buildTransformer(r,t){var n=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],i={},a=determinant(n,8,0,0,0,i);if(a!==0){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)o[l]==null&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*determinant(n,7,s===0?1:0,1<<s,1<<l,i)/a*t[s];return function(u,c,f){var d=c*o[6]+f*o[7]+1;u[0]=(c*o[0]+f*o[1]+o[2])/d,u[1]=(c*o[3]+f*o[4]+o[5])/d}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,t,n,i,a){return transformCoordWithViewport(_calcOut$1,t,i,a,!0)&&transformCoordWithViewport(r,n,_calcOut$1[0],_calcOut$1[1])}function transformLocalCoordClear(r,t){r&&n(r),t&&n(t);function n(i){var a=i[EVENT_SAVED_PROP];a&&(a.clearMarkers&&a.clearMarkers(),delete i[EVENT_SAVED_PROP])}}function transformCoordWithViewport(r,t,n,i,a){if(t.getBoundingClientRect&&env.domSupported&&!isCanvasEl(t)){var o=t[EVENT_SAVED_PROP]||(t[EVENT_SAVED_PROP]={}),s=prepareCoordMarkers(t,o),l=preparePointerTransformer(s,o,a);if(l)return l(r,n,i),!0}return!1}function prepareCoordMarkers(r,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],a=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),l=s.style,u=o%2,c=(o>>1)%2;l.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[u]+":0",a[c]+":0",i[1-u]+":auto",a[1-c]+":auto",""].join("!important;"),r.appendChild(s),n.push(s)}return t.clearMarkers=function(){each$4(n,function(f){f.parentNode&&f.parentNode.removeChild(f)})},n}function preparePointerTransformer(r,t,n){for(var i=n?"invTrans":"trans",a=t[i],o=t.srcCoords,s=[],l=[],u=!0,c=0;c<4;c++){var f=r[c].getBoundingClientRect(),d=2*c,g=f.left,v=f.top;s.push(g,v),u=u&&o&&g===o[d]&&v===o[d+1],l.push(r[c].offsetLeft,r[c].offsetTop)}return u&&a?a:(t.srcCoords=s,t[i]=n?buildTransformer(l,s):buildTransformer(s,l))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(t,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(r,t,n,i){return n=n||{},i?calculateZrXY(r,t,n):firefoxNotSupportOffsetXY&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):calculateZrXY(r,t,n),n}function calculateZrXY(r,t,n){if(env.domSupported&&r.getBoundingClientRect){var i=t.clientX,a=t.clientY;if(isCanvasEl(r)){var o=r.getBoundingClientRect();n.zrX=i-o.left,n.zrY=a-o.top;return}else if(transformCoordWithViewport(_calcOut,r,i,a)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,t,n){if(t=getNativeEvent(t),t.zrX!=null)return t;var i=t.type,a=i&&i.indexOf("touch")>=0;if(a){var s=i!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&clientToLocal(r,s,t,n)}else{clientToLocal(r,t,t,n);var o=getWheelDeltaMayPolyfill(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var l=t.button;return t.which==null&&l!==void 0&&MOUSE_EVENT_REG.test(t.type)&&(t.which=l&1?1:l&2?3:l&4?2:0),t}function getWheelDeltaMayPolyfill(r){var t=r.wheelDelta;if(t)return t;var n=r.deltaX,i=r.deltaY;if(n==null||i==null)return t;var a=Math.abs(i!==0?i:n),o=i>0?-1:i<0?1:n>0?-1:1;return 3*a*o}function addEventListener(r,t,n,i){r.addEventListener(t,n,i)}function removeEventListener(r,t,n,i){r.removeEventListener(t,n,i)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0},GestureMgr=(function(){function r(){this._track=[]}return r.prototype.recognize=function(t,n,i){return this._doTrack(t,n,i),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,n,i){var a=t.touches;if(a){for(var o={points:[],touches:[],target:n,event:t},s=0,l=a.length;s<l;s++){var u=a[s],c=clientToLocal(i,u,{});o.points.push([c.zrX,c.zrY]),o.touches.push(u)}this._track.push(o)}},r.prototype._recognize=function(t){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var i=recognizers[n](this._track,t);if(i)return i}},r})();function dist(r){var t=r[1][0]-r[0][0],n=r[1][1]-r[0][1];return Math.sqrt(t*t+n*n)}function center(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,t){var n=r.length;if(n){var i=(r[n-1]||{}).points,a=(r[n-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var o=dist(i)/dist(a);!isFinite(o)&&(o=1),t.pinchScale=o;var s=center(i);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:r[0].target,event:t}}}}};function create(){return[1,0,0,1,0,0]}function identity(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function mul(r,t,n){var i=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return r[0]=i,r[1]=a,r[2]=o,r[3]=s,r[4]=l,r[5]=u,r}function translate(r,t,n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+n[0],r[5]=t[5]+n[1],r}function rotate(r,t,n,i){i===void 0&&(i=[0,0]);var a=t[0],o=t[2],s=t[4],l=t[1],u=t[3],c=t[5],f=Math.sin(n),d=Math.cos(n);return r[0]=a*d+l*f,r[1]=-a*f+l*d,r[2]=o*d+u*f,r[3]=-o*f+d*u,r[4]=d*(s-i[0])+f*(c-i[1])+i[0],r[5]=d*(c-i[1])-f*(s-i[0])+i[1],r}function scale$1(r,t,n){var i=n[0],a=n[1];return r[0]=t[0]*i,r[1]=t[1]*a,r[2]=t[2]*i,r[3]=t[3]*a,r[4]=t[4]*i,r[5]=t[5]*a,r}function invert(r,t){var n=t[0],i=t[2],a=t[4],o=t[1],s=t[3],l=t[5],u=n*s-o*i;return u?(u=1/u,r[0]=s*u,r[1]=-o*u,r[2]=-i*u,r[3]=n*u,r[4]=(i*l-s*a)*u,r[5]=(o*a-n*l)*u,r):null}var Point=(function(){function r(t,n){this.x=t||0,this.y=n||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,n){return this.x=t,this.y=n,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)},r.prototype.distanceSquare=function(t){var n=this.x-t.x,i=this.y-t.y;return n*n+i*i},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var n=this.x,i=this.y;return this.x=t[0]*n+t[2]*i+t[4],this.y=t[1]*n+t[3]*i+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,n,i){t.x=n,t.y=i},r.copy=function(t,n){t.x=n.x,t.y=n.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,n){return t.x*n.x+t.y*n.y},r.add=function(t,n,i){t.x=n.x+i.x,t.y=n.y+i.y},r.sub=function(t,n,i){t.x=n.x-i.x,t.y=n.y-i.y},r.scale=function(t,n,i){t.x=n.x*i,t.y=n.y*i},r.scaleAndAdd=function(t,n,i,a){t.x=n.x+i.x*a,t.y=n.y+i.y*a},r.lerp=function(t,n,i,a){var o=1-a;t.x=o*n.x+a*i.x,t.y=o*n.y+a*i.y},r})(),mathMin$7=Math.min,mathMax$7=Math.max,mathAbs$4=Math.abs,XY$2=["x","y"],WH$2=["width","height"],lt=new Point,rb=new Point,lb=new Point,rt=new Point,_intersectCtx$1=createIntersectContext(),_minTv$1=_intersectCtx$1.minTv,_maxTv$1=_intersectCtx$1.maxTv,_lenMinMax=[0,0],BoundingRect=(function(){function r(t,n,i,a){r.set(this,t,n,i,a)}return r.set=function(t,n,i,a,o){return a<0&&(n=n+a,a=-a),o<0&&(i=i+o,o=-o),t.x=n,t.y=i,t.width=a,t.height=o,t},r.prototype.union=function(t){var n=mathMin$7(t.x,this.x),i=mathMin$7(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$7(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$7(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=n,this.y=i},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var n=this,i=t.width/n.width,a=t.height/n.height,o=create();return translate(o,o,[-n.x,-n.y]),scale$1(o,o,[i,a]),translate(o,o,[t.x,t.y]),o},r.prototype.intersect=function(t,n,i){return r.intersect(this,t,n,i)},r.intersect=function(t,n,i,a){i&&Point.set(i,0,0);var o=a&&a.outIntersectRect||null,s=a&&a.clamp;if(o&&(o.x=o.y=o.width=o.height=NaN),!t||!n)return!1;t instanceof r||(t=r.set(_tmpIntersectA,t.x,t.y,t.width,t.height)),n instanceof r||(n=r.set(_tmpIntersectB,n.x,n.y,n.width,n.height));var l=!!i;_intersectCtx$1.reset(a,l);var u=_intersectCtx$1.touchThreshold,c=t.x+u,f=t.x+t.width-u,d=t.y+u,g=t.y+t.height-u,v=n.x+u,y=n.x+n.width-u,_=n.y+u,x=n.y+n.height-u;if(c>f||d>g||v>y||_>x)return!1;var S=!(f<v||y<c||g<_||x<d);return(l||o)&&(_lenMinMax[0]=1/0,_lenMinMax[1]=0,intersectOneDim(c,f,v,y,0,l,o,s),intersectOneDim(d,g,_,x,1,l,o,s),l&&Point.copy(i,S?_intersectCtx$1.useDir?_intersectCtx$1.dirMinTv:_minTv$1:_maxTv$1)),S},r.contain=function(t,n,i){return n>=t.x&&n<=t.x+t.width&&i>=t.y&&i<=t.y+t.height},r.prototype.contain=function(t,n){return r.contain(this,t,n)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,n){return t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height,t},r.applyTransform=function(t,n,i){if(!i){t!==n&&r.copy(t,n);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var a=i[0],o=i[3],s=i[4],l=i[5];t.x=n.x*a+s,t.y=n.y*o+l,t.width=n.width*a,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}lt.x=lb.x=n.x,lt.y=rt.y=n.y,rb.x=rt.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt.transform(i),rt.transform(i),rb.transform(i),lb.transform(i),t.x=mathMin$7(lt.x,rb.x,lb.x,rt.x),t.y=mathMin$7(lt.y,rb.y,lb.y,rt.y);var u=mathMax$7(lt.x,rb.x,lb.x,rt.x),c=mathMax$7(lt.y,rb.y,lb.y,rt.y);t.width=u-t.x,t.height=c-t.y},r})(),_tmpIntersectA=new BoundingRect(0,0,0,0),_tmpIntersectB=new BoundingRect(0,0,0,0);function intersectOneDim(r,t,n,i,a,o,s,l){var u=mathAbs$4(t-n),c=mathAbs$4(i-r),f=mathMin$7(u,c),d=XY$2[a],g=XY$2[1-a],v=WH$2[a];t<n||i<r?u<c?(o&&(_maxTv$1[d]=-u),l&&(s[d]=t,s[v]=0)):(o&&(_maxTv$1[d]=c),l&&(s[d]=r,s[v]=0)):(s&&(s[d]=mathMax$7(r,n),s[v]=mathMin$7(t,i)-s[d]),o&&(f<_lenMinMax[0]||_intersectCtx$1.useDir)&&(_lenMinMax[0]=mathMin$7(f,_lenMinMax[0]),(u<c||!_intersectCtx$1.bidirectional)&&(_minTv$1[d]=u,_minTv$1[g]=0,_intersectCtx$1.useDir&&_intersectCtx$1.calcDirMTV()),(u>=c||!_intersectCtx$1.bidirectional)&&(_minTv$1[d]=-c,_minTv$1[g]=0,_intersectCtx$1.useDir&&_intersectCtx$1.calcDirMTV())))}function createIntersectContext(){var r=0,t=new Point,n=new Point,i={minTv:new Point,maxTv:new Point,useDir:!1,dirMinTv:new Point,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(o,s){i.touchThreshold=0,o&&o.touchThreshold!=null&&(i.touchThreshold=mathMax$7(0,o.touchThreshold)),i.negativeSize=!1,s&&(i.minTv.set(1/0,1/0),i.maxTv.set(0,0),i.useDir=!1,o&&o.direction!=null&&(i.useDir=!0,i.dirMinTv.copy(i.minTv),n.copy(i.minTv),r=o.direction,i.bidirectional=o.bidirectional==null||!!o.bidirectional,i.bidirectional||t.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var o=i.minTv,s=i.dirMinTv,l=o.y*o.y+o.x*o.x,u=Math.sin(r),c=Math.cos(r),f=u*o.y+c*o.x;if(a(f)){a(o.x)&&a(o.y)&&s.set(0,0);return}if(n.x=l*c/f,n.y=l*u/f,a(n.x)&&a(n.y)){s.set(0,0);return}(i.bidirectional||t.dot(n)>0)&&n.len()<s.len()&&s.copy(n)}};function a(o){return mathAbs$4(o)<1e-10}return i}var SILENT="silent";function makeEventPacket(r,t,n){return{type:r,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Eventful),HoveredResult=(function(){function r(t,n){this.x=t,this.y=n}return r})(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=(function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this)||this;return l._hovered=new HoveredResult(0,0),l.storage=n,l.painter=i,l.painterRoot=o,l._pointerSize=s,a=a||new EmptyProxy,l.proxy=null,l.setHandlerProxy(a),l._draggingMgr=new Draggable(l),l}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$4(handlerNames,function(i){n.on&&n.on(i,this[i],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var i=n.zrX,a=n.zrY,o=isOutsideBoundary(this,i,a),s=this._hovered,l=s.target;l&&!l.__zr&&(s=this.findHover(s.x,s.y),l=s.target);var u=this._hovered=o?new HoveredResult(i,a):this.findHover(i,a),c=u.target,f=this.proxy;f.setCursor&&f.setCursor(c?c.cursor:"default"),l&&c!==l&&this.dispatchToElement(s,"mouseout",n),this.dispatchToElement(u,"mousemove",n),c&&c!==l&&this.dispatchToElement(u,"mouseover",n)},t.prototype.mouseout=function(n){var i=n.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},t.prototype.dispatch=function(n,i){var a=this[n];a&&a.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var i=this.proxy;i.setCursor&&i.setCursor(n)},t.prototype.dispatchToElement=function(n,i,a){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var s="on"+i,l=makeEventPacket(i,n,a);o&&(o[s]&&(l.cancelBubble=!!o[s].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[s]=="function"&&u[s].call(u,l),u.trigger&&u.trigger(i,l)}))}},t.prototype.findHover=function(n,i,a){var o=this.storage.getDisplayList(),s=new HoveredResult(n,i);if(setHoverTarget(o,s,n,i,a),this._pointerSize&&!s.target){for(var l=[],u=this._pointerSize,c=u/2,f=new BoundingRect(n-c,i-c,u,u),d=o.length-1;d>=0;d--){var g=o[d];g!==a&&!g.ignore&&!g.ignoreCoarsePointer&&(!g.parent||!g.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(g.getBoundingRect()),g.transform&&tmpRect$1.applyTransform(g.transform),tmpRect$1.intersect(f)&&l.push(g))}if(l.length)for(var v=4,y=Math.PI/12,_=Math.PI*2,x=0;x<c;x+=v)for(var S=0;S<_;S+=y){var b=n+x*Math.cos(S),E=i+x*Math.sin(S);if(setHoverTarget(l,s,b,E,a),s.target)return s}}return s},t.prototype.processGesture=function(n,i){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;i==="start"&&a.clear();var o=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(i==="end"&&a.clear(),o){var s=o.type;n.gestureEvent=s;var l=new HoveredResult;l.target=o.target,this.dispatchToElement(l,s,o.event)}},t})(Eventful);each$4(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(t){var n=t.zrX,i=t.zrY,a=isOutsideBoundary(this,n,i),o,s;if((r!=="mouseup"||!a)&&(o=this.findHover(n,i),s=o.target),r==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,r,t)}});function isHover(r,t,n){if(r[r.rectHover?"rectContain":"contain"](t,n)){for(var i=r,a=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var s=i.getClipPath();if(s&&!s.contain(t,n))return!1}i.silent&&(a=!0);var l=i.__hostTarget;i=l?i.ignoreHostSilent?null:l:i.parent}return a?SILENT:!0}return!1}function setHoverTarget(r,t,n,i,a){for(var o=r.length-1;o>=0;o--){var s=r[o],l=void 0;if(s!==a&&!s.ignore&&(l=isHover(s,n,i))&&(!t.topTarget&&(t.topTarget=s),l!==SILENT)){t.target=s;break}}}function isOutsideBoundary(r,t,n){var i=r.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var t=0;r>=DEFAULT_MIN_MERGE;)t|=r&1,r>>=1;return r+t}function makeAscendingRun(r,t,n,i){var a=t+1;if(a===n)return 1;if(i(r[a++],r[t])<0){for(;a<n&&i(r[a],r[a-1])<0;)a++;reverseRun(r,t,a)}else for(;a<n&&i(r[a],r[a-1])>=0;)a++;return a-t}function reverseRun(r,t,n){for(n--;t<n;){var i=r[t];r[t++]=r[n],r[n--]=i}}function binaryInsertionSort(r,t,n,i,a){for(i===t&&i++;i<n;i++){for(var o=r[i],s=t,l=i,u;s<l;)u=s+l>>>1,a(o,r[u])<0?l=u:s=u+1;var c=i-s;switch(c){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;c>0;)r[s+c]=r[s+c-1],c--}r[s]=o}}function gallopLeft(r,t,n,i,a,o){var s=0,l=0,u=1;if(o(r,t[n+a])>0){for(l=i-a;u<l&&o(r,t[n+a+u])>0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=a,u+=a}else{for(l=a+1;u<l&&o(r,t[n+a-u])<=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var c=s;s=a-u,u=a-c}for(s++;s<u;){var f=s+(u-s>>>1);o(r,t[n+f])>0?s=f+1:u=f}return u}function gallopRight(r,t,n,i,a,o){var s=0,l=0,u=1;if(o(r,t[n+a])<0){for(l=a+1;u<l&&o(r,t[n+a-u])<0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var c=s;s=a-u,u=a-c}else{for(l=i-a;u<l&&o(r,t[n+a+u])>=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=a,u+=a}for(s++;s<u;){var f=s+(u-s>>>1);o(r,t[n+f])<0?u=f:s=f+1}return u}function TimSort(r,t){var n=DEFAULT_MIN_GALLOPING,i,a,o=0,s=[];i=[],a=[];function l(v,y){i[o]=v,a[o]=y,o+=1}function u(){for(;o>1;){var v=o-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;f(v)}}function c(){for(;o>1;){var v=o-2;v>0&&a[v-1]<a[v+1]&&v--,f(v)}}function f(v){var y=i[v],_=a[v],x=i[v+1],S=a[v+1];a[v]=_+S,v===o-3&&(i[v+1]=i[v+2],a[v+1]=a[v+2]),o--;var b=gallopRight(r[x],r,y,_,0,t);y+=b,_-=b,_!==0&&(S=gallopLeft(r[y+_-1],r,x,S,S-1,t),S!==0&&(_<=S?d(y,_,x,S):g(y,_,x,S)))}function d(v,y,_,x){var S=0;for(S=0;S<y;S++)s[S]=r[v+S];var b=0,E=_,M=v;if(r[M++]=r[E++],--x===0){for(S=0;S<y;S++)r[M+S]=s[b+S];return}if(y===1){for(S=0;S<x;S++)r[M+S]=r[E+S];r[M+x]=s[b];return}for(var D=n,w,I,R;;){w=0,I=0,R=!1;do if(t(r[E],s[b])<0){if(r[M++]=r[E++],I++,w=0,--x===0){R=!0;break}}else if(r[M++]=s[b++],w++,I=0,--y===1){R=!0;break}while((w|I)<D);if(R)break;do{if(w=gallopRight(r[E],s,b,y,0,t),w!==0){for(S=0;S<w;S++)r[M+S]=s[b+S];if(M+=w,b+=w,y-=w,y<=1){R=!0;break}}if(r[M++]=r[E++],--x===0){R=!0;break}if(I=gallopLeft(s[b],r,E,x,0,t),I!==0){for(S=0;S<I;S++)r[M+S]=r[E+S];if(M+=I,E+=I,x-=I,x===0){R=!0;break}}if(r[M++]=s[b++],--y===1){R=!0;break}D--}while(w>=DEFAULT_MIN_GALLOPING||I>=DEFAULT_MIN_GALLOPING);if(R)break;D<0&&(D=0),D+=2}if(n=D,n<1&&(n=1),y===1){for(S=0;S<x;S++)r[M+S]=r[E+S];r[M+x]=s[b]}else{if(y===0)throw new Error;for(S=0;S<y;S++)r[M+S]=s[b+S]}}function g(v,y,_,x){var S=0;for(S=0;S<x;S++)s[S]=r[_+S];var b=v+y-1,E=x-1,M=_+x-1,D=0,w=0;if(r[M--]=r[b--],--y===0){for(D=M-(x-1),S=0;S<x;S++)r[D+S]=s[S];return}if(x===1){for(M-=y,b-=y,w=M+1,D=b+1,S=y-1;S>=0;S--)r[w+S]=r[D+S];r[M]=s[E];return}for(var I=n;;){var R=0,P=0,O=!1;do if(t(s[E],r[b])<0){if(r[M--]=r[b--],R++,P=0,--y===0){O=!0;break}}else if(r[M--]=s[E--],P++,R=0,--x===1){O=!0;break}while((R|P)<I);if(O)break;do{if(R=y-gallopRight(s[E],r,v,y,y-1,t),R!==0){for(M-=R,b-=R,y-=R,w=M+1,D=b+1,S=R-1;S>=0;S--)r[w+S]=r[D+S];if(y===0){O=!0;break}}if(r[M--]=s[E--],--x===1){O=!0;break}if(P=x-gallopLeft(r[b],s,0,x,x-1,t),P!==0){for(M-=P,E-=P,x-=P,w=M+1,D=E+1,S=0;S<P;S++)r[w+S]=s[D+S];if(x<=1){O=!0;break}}if(r[M--]=r[b--],--y===0){O=!0;break}I--}while(R>=DEFAULT_MIN_GALLOPING||P>=DEFAULT_MIN_GALLOPING);if(O)break;I<0&&(I=0),I+=2}if(n=I,n<1&&(n=1),x===1){for(M-=y,b-=y,w=M+1,D=b+1,S=y-1;S>=0;S--)r[w+S]=r[D+S];r[M]=s[E]}else{if(x===0)throw new Error;for(D=M-(x-1),S=0;S<x;S++)r[D+S]=s[S]}}return{mergeRuns:u,forceMergeRuns:c,pushRun:l}}function sort(r,t,n,i){n||(n=0),i||(i=r.length);var a=i-n;if(!(a<2)){var o=0;if(a<DEFAULT_MIN_MERGE){o=makeAscendingRun(r,n,i,t),binaryInsertionSort(r,n,i,n+o,t);return}var s=TimSort(r,t),l=minRunLength(a);do{if(o=makeAscendingRun(r,n,i,t),o<l){var u=a;u>l&&(u=l),binaryInsertionSort(r,n,n+u,n+o,t),o=u}s.pushRun(n,o),s.mergeRuns(),a-=o,n+=o}while(a!==0);s.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var Storage=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(t,n){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,n)},r.prototype.getDisplayList=function(t,n){n=n||!1;var i=this._displayList;return(t||!i.length)&&this.updateDisplayList(n),i},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,i=this._displayList,a=0,o=n.length;a<o;a++)this._updateAndAddDisplayable(n[a],null,t);i.length=this._displayListLen,sort(i,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(t,n,i){if(!(t.ignore&&!i)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath(),o=n&&n.length,s=0,l=t.__clipPaths;if(!t.ignoreClip&&(o||a)){if(l||(l=t.__clipPaths=[]),o)for(var u=0;u<n.length;u++)l[s++]=n[u];for(var c=a,f=t;c;)c.parent=f,c.updateTransform(),l[s++]=c,f=c,c=c.getClipPath()}if(l&&(l.length=s),t.childrenRef){for(var d=t.childrenRef(),g=0;g<d.length;g++){var v=d[g];t.__dirty&&(v.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(v,l,i)}t.__dirty=0}else{var y=t;isNaN(y.z)&&(logInvalidZError(),y.z=0),isNaN(y.z2)&&(logInvalidZError(),y.z2=0),isNaN(y.zlevel)&&(logInvalidZError(),y.zlevel=0),this._displayList[this._displayListLen++]=y}var _=t.getDecalElement&&t.getDecalElement();_&&this._updateAndAddDisplayable(_,l,i);var x=t.getTextGuideLine();x&&this._updateAndAddDisplayable(x,l,i);var S=t.getTextContent();S&&this._updateAndAddDisplayable(S,l,i)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,i=t.length;n<i;n++)this.delRoot(t[n]);return}var a=indexOf(this._roots,t);a>=0&&this._roots.splice(a,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),requestAnimationFrame;requestAnimationFrame=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)))},elasticOut:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/i)+1)},elasticInOut:function(r){var t,n=.1,i=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(r*=2)<1?-.5*(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)):n*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/i)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}},mathPow$1=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$2=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero(r){return r>-EPSILON$2&&r<EPSILON$2}function isNotAroundZero$1(r){return r>EPSILON$2||r<-EPSILON$2}function cubicAt(r,t,n,i,a){var o=1-a;return o*o*(o*r+3*a*t)+a*a*(a*i+3*o*n)}function cubicDerivativeAt(r,t,n,i,a){var o=1-a;return 3*(((t-r)*o+2*(n-t)*a)*o+(i-n)*a*a)}function cubicRootAt(r,t,n,i,a,o){var s=i+3*(t-n)-r,l=3*(n-t*2+r),u=3*(t-r),c=r-a,f=l*l-3*s*u,d=l*u-9*s*c,g=u*u-3*l*c,v=0;if(isAroundZero(f)&&isAroundZero(d))if(isAroundZero(l))o[0]=0;else{var y=-u/l;y>=0&&y<=1&&(o[v++]=y)}else{var _=d*d-4*f*g;if(isAroundZero(_)){var x=d/f,y=-l/s+x,S=-x/2;y>=0&&y<=1&&(o[v++]=y),S>=0&&S<=1&&(o[v++]=S)}else if(_>0){var b=mathSqrt$3(_),E=f*l+1.5*s*(-d+b),M=f*l+1.5*s*(-d-b);E<0?E=-mathPow$1(-E,ONE_THIRD):E=mathPow$1(E,ONE_THIRD),M<0?M=-mathPow$1(-M,ONE_THIRD):M=mathPow$1(M,ONE_THIRD);var y=(-l-(E+M))/(3*s);y>=0&&y<=1&&(o[v++]=y)}else{var D=(2*f*l-3*s*d)/(2*mathSqrt$3(f*f*f)),w=Math.acos(D)/3,I=mathSqrt$3(f),R=Math.cos(w),y=(-l-2*I*R)/(3*s),S=(-l+I*(R+THREE_SQRT*Math.sin(w)))/(3*s),P=(-l+I*(R-THREE_SQRT*Math.sin(w)))/(3*s);y>=0&&y<=1&&(o[v++]=y),S>=0&&S<=1&&(o[v++]=S),P>=0&&P<=1&&(o[v++]=P)}}return v}function cubicExtrema(r,t,n,i,a){var o=6*n-12*t+6*r,s=9*t+3*i-3*r-9*n,l=3*t-3*r,u=0;if(isAroundZero(s)){if(isNotAroundZero$1(o)){var c=-l/o;c>=0&&c<=1&&(a[u++]=c)}}else{var f=o*o-4*s*l;if(isAroundZero(f))a[0]=-o/(2*s);else if(f>0){var d=mathSqrt$3(f),c=(-o+d)/(2*s),g=(-o-d)/(2*s);c>=0&&c<=1&&(a[u++]=c),g>=0&&g<=1&&(a[u++]=g)}}return u}function cubicSubdivide(r,t,n,i,a,o){var s=(t-r)*a+r,l=(n-t)*a+t,u=(i-n)*a+n,c=(l-s)*a+s,f=(u-l)*a+l,d=(f-c)*a+c;o[0]=r,o[1]=s,o[2]=c,o[3]=d,o[4]=d,o[5]=f,o[6]=u,o[7]=i}function cubicProjectPoint(r,t,n,i,a,o,s,l,u,c,f){var d,g=.005,v=1/0,y,_,x,S;_v0[0]=u,_v0[1]=c;for(var b=0;b<1;b+=.05)_v1[0]=cubicAt(r,n,a,s,b),_v1[1]=cubicAt(t,i,o,l,b),x=distSquare(_v0,_v1),x<v&&(d=b,v=x);v=1/0;for(var E=0;E<32&&!(g<EPSILON_NUMERIC);E++)y=d-g,_=d+g,_v1[0]=cubicAt(r,n,a,s,y),_v1[1]=cubicAt(t,i,o,l,y),x=distSquare(_v1,_v0),y>=0&&x<v?(d=y,v=x):(_v2[0]=cubicAt(r,n,a,s,_),_v2[1]=cubicAt(t,i,o,l,_),S=distSquare(_v2,_v0),_<=1&&S<v?(d=_,v=S):g*=.5);return mathSqrt$3(v)}function cubicLength(r,t,n,i,a,o,s,l,u){for(var c=r,f=t,d=0,g=1/u,v=1;v<=u;v++){var y=v*g,_=cubicAt(r,n,a,s,y),x=cubicAt(t,i,o,l,y),S=_-c,b=x-f;d+=Math.sqrt(S*S+b*b),c=_,f=x}return d}function quadraticAt(r,t,n,i){var a=1-i;return a*(a*r+2*i*t)+i*i*n}function quadraticDerivativeAt(r,t,n,i){return 2*((1-i)*(t-r)+i*(n-t))}function quadraticRootAt(r,t,n,i,a){var o=r-2*t+n,s=2*(t-r),l=r-i,u=0;if(isAroundZero(o)){if(isNotAroundZero$1(s)){var c=-l/s;c>=0&&c<=1&&(a[u++]=c)}}else{var f=s*s-4*o*l;if(isAroundZero(f)){var c=-s/(2*o);c>=0&&c<=1&&(a[u++]=c)}else if(f>0){var d=mathSqrt$3(f),c=(-s+d)/(2*o),g=(-s-d)/(2*o);c>=0&&c<=1&&(a[u++]=c),g>=0&&g<=1&&(a[u++]=g)}}return u}function quadraticExtremum(r,t,n){var i=r+n-2*t;return i===0?.5:(r-t)/i}function quadraticSubdivide(r,t,n,i,a){var o=(t-r)*i+r,s=(n-t)*i+t,l=(s-o)*i+o;a[0]=r,a[1]=o,a[2]=l,a[3]=l,a[4]=s,a[5]=n}function quadraticProjectPoint(r,t,n,i,a,o,s,l,u){var c,f=.005,d=1/0;_v0[0]=s,_v0[1]=l;for(var g=0;g<1;g+=.05){_v1[0]=quadraticAt(r,n,a,g),_v1[1]=quadraticAt(t,i,o,g);var v=distSquare(_v0,_v1);v<d&&(c=g,d=v)}d=1/0;for(var y=0;y<32&&!(f<EPSILON_NUMERIC);y++){var _=c-f,x=c+f;_v1[0]=quadraticAt(r,n,a,_),_v1[1]=quadraticAt(t,i,o,_);var v=distSquare(_v1,_v0);if(_>=0&&v<d)c=_,d=v;else{_v2[0]=quadraticAt(r,n,a,x),_v2[1]=quadraticAt(t,i,o,x);var S=distSquare(_v2,_v0);x<=1&&S<d?(c=x,d=S):f*=.5}}return mathSqrt$3(d)}function quadraticLength(r,t,n,i,a,o,s){for(var l=r,u=t,c=0,f=1/s,d=1;d<=s;d++){var g=d*f,v=quadraticAt(r,n,a,g),y=quadraticAt(t,i,o,g),_=v-l,x=y-u;c+=Math.sqrt(_*_+x*x),l=v,u=y}return c}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var t=r&&regexp.exec(r);if(t){var n=t[1].split(","),i=+trim(n[0]),a=+trim(n[1]),o=+trim(n[2]),s=+trim(n[3]);if(isNaN(i+a+o+s))return;var l=[];return function(u){return u<=0?0:u>=1?1:cubicRootAt(0,i,o,1,u,l)&&cubicAt(0,a,s,1,l[0])}}}var Clip=(function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||noop,this.ondestroy=t.ondestroy||noop,this.onrestart=t.onrestart||noop,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var i=this._life,a=t-this._startTime-this._pausedTime,o=a/i;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,l=s?s(o):o;if(this.onframe(l),o===1)if(this.loop){var u=a%i;this._startTime=t-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=isFunction(t)?t:easingFuncs[t]||createCubicEasingFunc(t)},r})(),Entry=(function(){function r(t){this.value=t}return r})(),LinkedList=(function(){function r(){this._len=0}return r.prototype.insert=function(t){var n=new Entry(t);return this.insertEntry(n),n},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var n=t.prev,i=t.next;n?n.next=i:this.head=i,i?i.prev=n:this.tail=n,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),LRU=(function(){function r(t){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,n){var i=this._list,a=this._map,o=null;if(a[t]==null){var s=i.len(),l=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=i.head;i.remove(u),delete a[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=n:l=new Entry(n),l.key=t,i.insertEntry(l),a[t]=l}return o},r.prototype.get=function(t){var n=this._map[t],i=this._list;if(n!=null)return n!==i.tail&&(i.remove(n),i.insertEntry(n)),n.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssByte(parseFloat(t)/100*255):clampCssByte(parseInt(t,10))}function parseCssFloat(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssFloat(parseFloat(t)/100):clampCssFloat(parseFloat(t))}function cssHueToRgb(r,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?r+(t-r)*n*6:n*2<1?t:n*3<2?r+(t-r)*(2/3-n)*6:r}function lerpNumber(r,t,n){return r+(t-r)*n}function setRgba(r,t,n,i,a){return r[0]=t,r[1]=n,r[2]=i,r[3]=a,r}function copyRgba(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(r,t){lastRemovedArr&&copyRgba(lastRemovedArr,t),lastRemovedArr=colorCache.put(r,lastRemovedArr||t.slice())}function parse(r,t){if(r){t=t||[];var n=colorCache.get(r);if(n)return copyRgba(t,n);r=r+"";var i=r.replace(/ /g,"").toLowerCase();if(i in kCSSColorTable)return copyRgba(t,kCSSColorTable[i]),putToCache(r,t),t;var a=i.length;if(i.charAt(0)==="#"){if(a===4||a===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){setRgba(t,0,0,0,1);return}return setRgba(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,a===5?parseInt(i.slice(4),16)/15:1),putToCache(r,t),t}else if(a===7||a===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){setRgba(t,0,0,0,1);return}return setRgba(t,(o&16711680)>>16,(o&65280)>>8,o&255,a===9?parseInt(i.slice(7),16)/255:1),putToCache(r,t),t}return}var s=i.indexOf("("),l=i.indexOf(")");if(s!==-1&&l+1===a){var u=i.substr(0,s),c=i.substr(s+1,l-(s+1)).split(","),f=1;switch(u){case"rgba":if(c.length!==4)return c.length===3?setRgba(t,+c[0],+c[1],+c[2],1):setRgba(t,0,0,0,1);f=parseCssFloat(c.pop());case"rgb":if(c.length>=3)return setRgba(t,parseCssInt(c[0]),parseCssInt(c[1]),parseCssInt(c[2]),c.length===3?f:parseCssFloat(c[3])),putToCache(r,t),t;setRgba(t,0,0,0,1);return;case"hsla":if(c.length!==4){setRgba(t,0,0,0,1);return}return c[3]=parseCssFloat(c[3]),hsla2rgba(c,t),putToCache(r,t),t;case"hsl":if(c.length!==3){setRgba(t,0,0,0,1);return}return hsla2rgba(c,t),putToCache(r,t),t;default:return}}setRgba(t,0,0,0,1)}}function hsla2rgba(r,t){var n=(parseFloat(r[0])%360+360)%360/360,i=parseCssFloat(r[1]),a=parseCssFloat(r[2]),o=a<=.5?a*(i+1):a+i-a*i,s=a*2-o;return t=t||[],setRgba(t,clampCssByte(cssHueToRgb(s,o,n+1/3)*255),clampCssByte(cssHueToRgb(s,o,n)*255),clampCssByte(cssHueToRgb(s,o,n-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function rgba2hsla(r){if(r){var t=r[0]/255,n=r[1]/255,i=r[2]/255,a=Math.min(t,n,i),o=Math.max(t,n,i),s=o-a,l=(o+a)/2,u,c;if(s===0)u=0,c=0;else{l<.5?c=s/(o+a):c=s/(2-o-a);var f=((o-t)/6+s/2)/s,d=((o-n)/6+s/2)/s,g=((o-i)/6+s/2)/s;t===o?u=g-d:n===o?u=1/3+f-g:i===o&&(u=2/3+d-f),u<0&&(u+=1),u>1&&(u-=1)}var v=[u*360,c,l];return r[3]!=null&&v.push(r[3]),v}}function lift(r,t){var n=parse(r);if(n){for(var i=0;i<3;i++)n[i]=n[i]*(1-t)|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function lerp(r,t,n){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var i=r*(t.length-1),a=Math.floor(i),o=Math.ceil(i),s=parse(t[a]),l=parse(t[o]),u=i-a,c=stringify([clampCssByte(lerpNumber(s[0],l[0],u)),clampCssByte(lerpNumber(s[1],l[1],u)),clampCssByte(lerpNumber(s[2],l[2],u)),clampCssFloat(lerpNumber(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:a,rightIndex:o,value:i}:c}}function modifyHSL(r,t,n,i){var a=parse(r);if(r)return a=rgba2hsla(a),n!=null&&(a[1]=parseCssFloat(isFunction(n)?n(a[1]):n)),i!=null&&(a[2]=parseCssFloat(isFunction(i)?i(a[2]):i)),stringify(hsla2rgba(a),"rgba")}function stringify(r,t){if(!(!r||!r.length)){var n=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+r[3]),t+"("+n+")"}}function lum(r,t){var n=parse(r);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var liftedColorCache=new LRU(100);function liftColor(r){if(isString(r)){var t=liftedColorCache.get(r);return t||(t=lift(r,-.1),liftedColorCache.put(r,t)),t}else if(isGradientObject(r)){var n=extend({},r);return n.colorStops=map$1(r.colorStops,function(i){return{offset:i.offset,color:lift(i.color,-.1)}}),n}return r}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}(function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})();var arraySlice=Array.prototype.slice;function interpolateNumber$1(r,t,n){return(t-r)*n+r}function interpolate1DArray(r,t,n,i){for(var a=t.length,o=0;o<a;o++)r[o]=interpolateNumber$1(t[o],n[o],i);return r}function interpolate2DArray(r,t,n,i){for(var a=t.length,o=a&&t[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var l=0;l<o;l++)r[s][l]=interpolateNumber$1(t[s][l],n[s][l],i)}return r}function add1DArray(r,t,n,i){for(var a=t.length,o=0;o<a;o++)r[o]=t[o]+n[o]*i;return r}function add2DArray(r,t,n,i){for(var a=t.length,o=a&&t[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var l=0;l<o;l++)r[s][l]=t[s][l]+n[s][l]*i}return r}function fillColorStops(r,t){for(var n=r.length,i=t.length,a=n>i?t:r,o=Math.min(n,i),s=a[o-1]||{color:[0,0,0,0],offset:0},l=o;l<Math.max(n,i);l++)a.push({offset:s.offset,color:s.color.slice()})}function fillArray(r,t,n){var i=r,a=t;if(!(!i.push||!a.push)){var o=i.length,s=a.length;if(o!==s){var l=o>s;if(l)i.length=s;else for(var u=o;u<s;u++)i.push(n===1?a[u]:arraySlice.call(a[u]))}for(var c=i[0]&&i[0].length,u=0;u<i.length;u++)if(n===1)isNaN(i[u])&&(i[u]=a[u]);else for(var f=0;f<c;f++)isNaN(i[u][f])&&(i[u][f]=a[u][f])}}function cloneValue(r){if(isArrayLike(r)){var t=r.length;if(isArrayLike(r[0])){for(var n=[],i=0;i<t;i++)n.push(arraySlice.call(r[i]));return n}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=(function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,n,i){this._needsSort=!0;var a=this.keyframes,o=a.length,s=!1,l=VALUE_TYPE_UNKOWN,u=n;if(isArrayLike(n)){var c=guessArrayDim(n);l=c,(c===1&&!isNumber(n[0])||c===2&&!isNumber(n[0][0]))&&(s=!0)}else if(isNumber(n)&&!eqNaN(n))l=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))l=VALUE_TYPE_NUMBER;else{var f=parse(n);f&&(u=f,l=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var d=extend({},u);d.colorStops=map$1(n.colorStops,function(v){return{offset:v.offset,color:parse(v.color)}}),isLinearGradient(n)?l=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(l=VALUE_TYPE_RADIAL_GRADIENT),u=d}o===0?this.valType=l:(l!==this.valType||l===VALUE_TYPE_UNKOWN)&&(s=!0),this.discrete=this.discrete||s;var g={time:t,value:u,rawValue:n,percent:0};return i&&(g.easing=i,g.easingFunc=isFunction(i)?i:easingFuncs[i]||createCubicEasingFunc(i)),a.push(g),g},r.prototype.prepare=function(t,n){var i=this.keyframes;this._needsSort&&i.sort(function(_,x){return _.time-x.time});for(var a=this.valType,o=i.length,s=i[o-1],l=this.discrete,u=isArrayValueType(a),c=isGradientValueType(a),f=0;f<o;f++){var d=i[f],g=d.value,v=s.value;d.percent=d.time/t,l||(u&&f!==o-1?fillArray(g,v,a):c&&fillColorStops(g.colorStops,v.colorStops))}if(!l&&a!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var y=i[0].value,f=0;f<o;f++)a===VALUE_TYPE_NUMBER?i[f].additiveValue=i[f].value-y:a===VALUE_TYPE_COLOR?i[f].additiveValue=add1DArray([],i[f].value,y,-1):isArrayValueType(a)&&(i[f].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],i[f].value,y,-1):add2DArray([],i[f].value,y,-1))}},r.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,a=i?"additiveValue":"value",o=this.valType,s=this.keyframes,l=s.length,u=this.propName,c=o===VALUE_TYPE_COLOR,f,d=this._lastFr,g=Math.min,v,y;if(l===1)v=y=s[0];else{if(n<0)f=0;else if(n<this._lastFrP){var _=g(d+1,l-1);for(f=_;f>=0&&!(s[f].percent<=n);f--);f=g(f,l-2)}else{for(f=d;f<l&&!(s[f].percent>n);f++);f=g(f-1,l-2)}y=s[f+1],v=s[f]}if(v&&y){this._lastFr=f,this._lastFrP=n;var x=y.percent-v.percent,S=x===0?1:g((n-v.percent)/x,1);y.easingFunc&&(S=y.easingFunc(S));var b=i?this._additiveValue:c?tmpRgba:t[u];if((isArrayValueType(o)||c)&&!b&&(b=this._additiveValue=[]),this.discrete)t[u]=S<1?v.rawValue:y.rawValue;else if(isArrayValueType(o))o===VALUE_TYPE_1D_ARRAY?interpolate1DArray(b,v[a],y[a],S):interpolate2DArray(b,v[a],y[a],S);else if(isGradientValueType(o)){var E=v[a],M=y[a],D=o===VALUE_TYPE_LINEAR_GRADIENT;t[u]={type:D?"linear":"radial",x:interpolateNumber$1(E.x,M.x,S),y:interpolateNumber$1(E.y,M.y,S),colorStops:map$1(E.colorStops,function(I,R){var P=M.colorStops[R];return{offset:interpolateNumber$1(I.offset,P.offset,S),color:rgba2String(interpolate1DArray([],I.color,P.color,S))}}),global:M.global},D?(t[u].x2=interpolateNumber$1(E.x2,M.x2,S),t[u].y2=interpolateNumber$1(E.y2,M.y2,S)):t[u].r=interpolateNumber$1(E.r,M.r,S)}else if(c)interpolate1DArray(b,v[a],y[a],S),i||(t[u]=rgba2String(b));else{var w=interpolateNumber$1(v[a],y[a],S);i?this._additiveValue=w:t[u]=w}i&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var n=this.valType,i=this.propName,a=this._additiveValue;n===VALUE_TYPE_NUMBER?t[i]=t[i]+a:n===VALUE_TYPE_COLOR?(parse(t[i],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),t[i]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(t[i],t[i],a,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(t[i],t[i],a,1)},r})(),Animator=(function(){function r(t,n,i,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=i}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,n,i){return this.whenWithKeys(t,n,keys(n),i)},r.prototype.whenWithKeys=function(t,n,i,a){for(var o=this._tracks,s=0;s<i.length;s++){var l=i[s],u=o[l];if(!u){u=o[l]=new Track(l);var c=void 0,f=this._getAdditiveTrack(l);if(f){var d=f.keyframes,g=d[d.length-1];c=g&&g.value,f.valType===VALUE_TYPE_COLOR&&c&&(c=rgba2String(c))}else c=this._target[l];if(c==null)continue;t>0&&u.addKeyframe(0,cloneValue(c),a),this._trackKeys.push(l)}u.addKeyframe(t,cloneValue(n[l]),a)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,i=0;i<n;i++)t[i].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var i=0;i<n.length;i++)n[i].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,i=0;i<n.length;i++)t[n[i]].setFinished()},r.prototype._getAdditiveTrack=function(t){var n,i=this._additiveAnimators;if(i)for(var a=0;a<i.length;a++){var o=i[a].getTrack(t);o&&(n=o)}return n},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,i=[],a=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],l=this._tracks[s],u=this._getAdditiveTrack(s),c=l.keyframes,f=c.length;if(l.prepare(a,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var d=c[f-1];d&&(n._target[l.propName]=d.rawValue),l.setFinished()}else i.push(l)}if(i.length||this._force){var g=new Clip({life:a,loop:this._loop,delay:this._delay||0,onframe:function(v){n._started=2;var y=n._additiveAnimators;if(y){for(var _=!1,x=0;x<y.length;x++)if(y[x]._clip){_=!0;break}_||(n._additiveAnimators=null)}for(var x=0;x<i.length;x++)i[x].step(n._target,v);var S=n._onframeCbs;if(S)for(var x=0;x<S.length;x++)S[x](n._target,v)},ondestroy:function(){n._doneCallback()}});this._clip=g,this.animation&&this.animation.addClip(g),t&&g.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return map$1(this._trackKeys,function(n){return t._tracks[n]})},r.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var i=this._tracks,a=this._trackKeys,o=0;o<t.length;o++){var s=i[t[o]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var l=!0,o=0;o<a.length;o++)if(!i[a[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},r.prototype.saveTo=function(t,n,i){if(t){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var o=n[a],s=this._tracks[o];if(!(!s||s.isFinished())){var l=s.keyframes,u=l[i?0:l.length-1];u&&(t[o]=cloneValue(u.rawValue))}}}},r.prototype.__changeFinalValue=function(t,n){n=n||keys(t);for(var i=0;i<n.length;i++){var a=n[i],o=this._tracks[a];if(o){var s=o.keyframes;if(s.length>1){var l=s.pop();o.addKeyframe(l.time,t[a]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},r})();function getTime(){return new Date().getTime()}var Animation=(function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,n=n||{},i.stage=n.stage||{},i}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var i=n.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(n){if(n.animation){var i=n.prev,a=n.next;i?i.next=a:this._head=a,a?a.prev=i:this._tail=i,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var i=n.getClip();i&&this.removeClip(i),n.animation=null},t.prototype.update=function(n){for(var i=getTime()-this._pausedTime,a=i-this._time,o=this._head;o;){var s=o.next,l=o.step(i,a);l&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=i,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function i(){n._running&&(requestAnimationFrame(i),!n._paused&&n.update())}requestAnimationFrame(i)},t.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var i=n.next;n.prev=n.next=n.animation=null,n=i}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,i){i=i||{},this.start();var a=new Animator(n,i.loop);return this.addAnimator(a),a},t})(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=map$1(r,function(a){var o=a.replace("mouse","pointer");return n.hasOwnProperty(o)?o:a});return{mouse:r,touch:t,pointer:i}})(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var t=r.pointerType;return t==="pen"||t==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,t){return normalizeEvent(r.dom,new FakeGlobalEvent(r,t),!0)}function isLocalEl(r,t){for(var n=t,i=!1;n&&n.nodeType!==9&&!(i=n.domBelongToZr||n!==t&&n===r.painterRoot);)n=n.parentNode;return i}var FakeGlobalEvent=(function(){function r(t,n){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return r})(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var t=r.toElement||r.relatedTarget;isLocalEl(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$4(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(t){t=normalizeEvent(this.dom,t),this.trigger(r,t)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,t){var n=t.domHandlers;env.pointerEventsSupported?each$4(localNativeListenerNames.pointer,function(i){mountSingleDOMEventListener(t,i,function(a){n[i].call(r,a)})}):(env.touchEventsSupported&&each$4(localNativeListenerNames.touch,function(i){mountSingleDOMEventListener(t,i,function(a){n[i].call(r,a),setTouchTimer(t)})}),each$4(localNativeListenerNames.mouse,function(i){mountSingleDOMEventListener(t,i,function(a){a=getNativeEvent(a),t.touching||n[i].call(r,a)})}))}function mountGlobalDOMEventListeners(r,t){env.pointerEventsSupported?each$4(globalNativeListenerNames.pointer,n):env.touchEventsSupported||each$4(globalNativeListenerNames.mouse,n);function n(i){function a(o){o=getNativeEvent(o),isLocalEl(r,o.target)||(o=normalizeGlobalEvent(r,o),t.domHandlers[i].call(r,o))}mountSingleDOMEventListener(t,i,a,{capture:!0})}}function mountSingleDOMEventListener(r,t,n,i){r.mounted[t]=n,r.listenerOpts[t]=i,addEventListener(r.domTarget,t,n,i)}function unmountDOMEventListeners(r){var t=r.mounted;for(var n in t)t.hasOwnProperty(n)&&removeEventListener(r.domTarget,n,t[n],r.listenerOpts[n]);r.mounted={}}var DOMHandlerScope=(function(){function r(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return r})(),HandlerDomProxy=(function(r){__extends(t,r);function t(n,i){var a=r.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=i,a._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return t.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var i=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,i):unmountDOMEventListeners(i)}},t})(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$1=5e-5;function isNotAroundZero(r){return r>EPSILON$1||r<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=(function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),i=this.transform;if(!(n||t)){i&&(mIdentity(i),this.invTransform=null);return}i=i||create(),n?this.getLocalTransform(i):mIdentity(i),t&&(n?mul(i,t,i):copy(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)},r.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var i=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,o=((scaleTmp[0]-i)*n+i)/scaleTmp[0]||0,s=((scaleTmp[1]-a)*n+a)/scaleTmp[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||create(),invert(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),o=Math.PI/2+a-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=i,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||create(),mul(tmpTransform,t.invTransform,n),n=tmpTransform);var i=this.originX,a=this.originY;(i||a)&&(originTransform[4]=i,originTransform[5]=a,mul(tmpTransform,n,originTransform),tmpTransform[4]-=i,tmpTransform[5]-=a,n=tmpTransform),this.setLocalTransform(n)}},r.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,n){var i=[t,n],a=this.invTransform;return a&&applyTransform$1(i,i,a),i},r.prototype.transformCoordToGlobal=function(t,n){var i=[t,n],a=this.transform;return a&&applyTransform$1(i,i,a),i},r.prototype.getLineScale=function(){var t=this.transform;return t&&abs(t[0]-1)>1e-10&&abs(t[3]-1)>1e-10?Math.sqrt(abs(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){copyTransform(this,t)},r.getLocalTransform=function(t,n){n=n||[];var i=t.originX||0,a=t.originY||0,o=t.scaleX,s=t.scaleY,l=t.anchorX,u=t.anchorY,c=t.rotation||0,f=t.x,d=t.y,g=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(i||a||l||u){var y=i+l,_=a+u;n[4]=-y*o-g*_*s,n[5]=-_*s-v*y*o}else n[4]=n[5]=0;return n[0]=o,n[3]=s,n[1]=v*o,n[2]=g*s,c&&rotate(n,n,c),n[4]+=i+f,n[5]+=a+d,n},r.initDefaultProps=(function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),r})(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,t){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var i=TRANSFORMABLE_PROPS[n];r[i]=t[i]}}function ensureFontMeasureInfo(r){_fontMeasureInfoCache||(_fontMeasureInfoCache=new LRU(100)),r=r||DEFAULT_FONT;var t=_fontMeasureInfoCache.get(r);return t||(t={font:r,strWidthCache:new LRU(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:platformApi.measureText("",r).width,asciiCharWidth:platformApi.measureText("a",r).width},_fontMeasureInfoCache.put(r,t)),t}var _fontMeasureInfoCache;function tryCreateASCIIWidthMap(r){if(!(_getASCIIWidthMapLongCount>=GET_ASCII_WIDTH_LONG_COUNT_MAX)){r=r||DEFAULT_FONT;for(var t=[],n=+new Date,i=0;i<=127;i++)t[i]=platformApi.measureText(String.fromCharCode(i),r).width;var a=+new Date-n;return a>16?_getASCIIWidthMapLongCount=GET_ASCII_WIDTH_LONG_COUNT_MAX:a>2&&_getASCIIWidthMapLongCount++,t}}var _getASCIIWidthMapLongCount=0,GET_ASCII_WIDTH_LONG_COUNT_MAX=5;function measureCharWidth(r,t){return r.asciiWidthMapTried||(r.asciiWidthMap=tryCreateASCIIWidthMap(r.font),r.asciiWidthMapTried=!0),0<=t&&t<=127?r.asciiWidthMap!=null?r.asciiWidthMap[t]:r.asciiCharWidth:r.stWideCharWidth}function measureWidth(r,t){var n=r.strWidthCache,i=n.get(t);return i==null&&(i=platformApi.measureText(t,r.font).width,n.put(t,i)),i}function innerGetBoundingRect(r,t,n,i){var a=measureWidth(ensureFontMeasureInfo(t),r),o=getLineHeight(t),s=adjustTextX(0,a,n),l=adjustTextY(0,o,i),u=new BoundingRect(s,l,a,o);return u}function getBoundingRect(r,t,n,i){var a=((r||"")+"").split(`
`),o=a.length;if(o===1)return innerGetBoundingRect(a[0],t,n,i);for(var s=new BoundingRect(0,0,0,0),l=0;l<a.length;l++){var u=innerGetBoundingRect(a[l],t,n,i);l===0?s.copy(u):s.union(u)}return s}function adjustTextX(r,t,n,i){return n==="right"?i?r+=t:r-=t:n==="center"&&(i?r+=t/2:r-=t/2),r}function adjustTextY(r,t,n,i){return n==="middle"?i?r+=t/2:r-=t/2:n==="bottom"&&(i?r+=t:r-=t),r}function getLineHeight(r){return ensureFontMeasureInfo(r).stWideCharWidth}function parsePercent$1(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function calculateTextPosition(r,t,n){var i=t.position||"inside",a=t.distance!=null?t.distance:5,o=n.height,s=n.width,l=o/2,u=n.x,c=n.y,f="left",d="top";if(i instanceof Array)u+=parsePercent$1(i[0],n.width),c+=parsePercent$1(i[1],n.height),f=null,d=null;else switch(i){case"left":u-=a,c+=l,f="right",d="middle";break;case"right":u+=a+s,c+=l,d="middle";break;case"top":u+=s/2,c-=a,f="center",d="bottom";break;case"bottom":u+=s/2,c+=o+a,f="center";break;case"inside":u+=s/2,c+=l,f="center",d="middle";break;case"insideLeft":u+=a,c+=l,d="middle";break;case"insideRight":u+=s-a,c+=l,f="right",d="middle";break;case"insideTop":u+=s/2,c+=a,f="center";break;case"insideBottom":u+=s/2,c+=o-a,f="center",d="bottom";break;case"insideTopLeft":u+=a,c+=a;break;case"insideTopRight":u+=s-a,c+=a,f="right";break;case"insideBottomLeft":u+=a,c+=o-a,d="bottom";break;case"insideBottomRight":u+=s-a,c+=o-a,f="right",d="bottom";break}return r=r||{},r.x=u,r.y=c,r.align=f,r.verticalAlign=d,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,t){return r[t]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),tmpInnerTextTrans=[],Element$1=(function(){function r(t){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,n,i){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,a=i.local,o=n.innerTransformable,s=void 0,l=void 0,u=!1;o.parent=a?this:null;var c=!1;o.copyTransform(n);var f=i.position!=null,d=i.autoOverflowArea,g=void 0;if((d||f)&&(g=tmpBoundingRect,i.layoutRect?g.copy(i.layoutRect):g.copy(this.getBoundingRect()),a||g.applyTransform(this.transform)),f){this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,i,g):calculateTextPosition(tmpTextPosCalcRes,i,g),o.x=tmpTextPosCalcRes.x,o.y=tmpTextPosCalcRes.y,s=tmpTextPosCalcRes.align,l=tmpTextPosCalcRes.verticalAlign;var v=i.origin;if(v&&i.rotation!=null){var y=void 0,_=void 0;v==="center"?(y=g.width*.5,_=g.height*.5):(y=parsePercent$1(v[0],g.width),_=parsePercent$1(v[1],g.height)),c=!0,o.originX=-o.x+y+(a?0:g.x),o.originY=-o.y+_+(a?0:g.y)}}i.rotation!=null&&(o.rotation=i.rotation);var x=i.offset;x&&(o.x+=x[0],o.y+=x[1],c||(o.originX=-x[0],o.originY=-x[1]));var S=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(d){var b=S.overflowRect=S.overflowRect||new BoundingRect(0,0,0,0);o.getLocalTransform(tmpInnerTextTrans),invert(tmpInnerTextTrans,tmpInnerTextTrans),BoundingRect.copy(b,g),b.applyTransform(tmpInnerTextTrans)}else S.overflowRect=null;var E=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,M=void 0,D=void 0,w=void 0;E&&this.canBeInsideText()?(M=i.insideFill,D=i.insideStroke,(M==null||M==="auto")&&(M=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(M),w=!0)):(M=i.outsideFill,D=i.outsideStroke,(M==null||M==="auto")&&(M=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(M),w=!0)),M=M||"#000",(M!==S.fill||D!==S.stroke||w!==S.autoStroke||s!==S.align||l!==S.verticalAlign)&&(u=!0,S.fill=M,S.stroke=D,S.autoStroke=w,S.align=s,S.verticalAlign=l,n.setDefaultTextStyle(S)),n.__dirty|=REDRAW_BIT,u&&n.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),i=typeof n=="string"&&parse(n);i||(i=[255,255,255,1]);for(var a=i[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*a+(o?0:255)*(1-a);return i[3]=1,stringify(i,"rgba")},r.prototype.traverse=function(t,n){},r.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[t]=n},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(isObject$2(t))for(var i=t,a=keys(i),o=0;o<a.length;o++){var s=a[o];this.attrKV(s,t[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,i=0;i<this.animators.length;i++){var a=this.animators[i],o=a.__fromStateTransition;if(!(a.getLoop()||o&&o!==PRESERVED_NORMAL_STATE)){var s=a.targetName,l=s?n[s]:n;a.saveTo(l)}}},r.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(t,n,i){for(var a=0;a<i.length;a++){var o=i[a];t[o]!=null&&!(o in n)&&(n[o]=this[o])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},r.prototype.clearStates=function(t){this.useState(PRESERVED_NORMAL_STATE,!1,t)},r.prototype.useState=function(t,n,i,a){var o=t===PRESERVED_NORMAL_STATE,s=this.hasState();if(!(!s&&o)){var l=this.currentStates,u=this.stateTransition;if(!(indexOf(l,t)>=0&&(n||l.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!o){logError("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(c);var f=!!(c&&c.hoverLayer||a);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,n,!i&&!this.__inHover&&u&&u.duration>0,u);var d=this._textContent,g=this._textGuide;return d&&d.useState(t,n,i,f),g&&g.useState(t,n,i,f),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),c}}},r.prototype.useStates=function(t,n,i){if(!t.length)this.clearStates();else{var a=[],o=this.currentStates,s=t.length,l=s===o.length;if(l){for(var u=0;u<s;u++)if(t[u]!==o[u]){l=!1;break}}if(l)return;for(var u=0;u<s;u++){var c=t[u],f=void 0;this.stateProxy&&(f=this.stateProxy(c,t)),f||(f=this.states[c]),f&&a.push(f)}var d=a[s-1],g=!!(d&&d.hoverLayer||i);g&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(a),y=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!n&&!this.__inHover&&y&&y.duration>0,y);var _=this._textContent,x=this._textGuide;_&&_.useStates(t,n,g),x&&x.useStates(t,n,g),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var n=t.__hostTarget;t=n?t.ignoreHostSilent?null:n:t.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},r.prototype.removeState=function(t){var n=indexOf(this.currentStates,t);if(n>=0){var i=this.currentStates.slice();i.splice(n,1),this.useStates(i)}},r.prototype.replaceState=function(t,n,i){var a=this.currentStates.slice(),o=indexOf(a,t),s=indexOf(a,n)>=0;o>=0?s?a.splice(o,1):a[o]=n:i&&!s&&a.push(n),this.useStates(a)},r.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var n={},i,a=0;a<t.length;a++){var o=t[a];extend(n,o),o.textConfig&&(i=i||{},extend(i,o.textConfig))}return i&&(n.textConfig=i),n},r.prototype._applyStateObj=function(t,n,i,a,o,s){var l=!(n&&a);n&&n.textConfig?(this.textConfig=extend({},a?this.textConfig:i.textConfig),extend(this.textConfig,n.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},c=!1,f=0;f<PRIMARY_STATES_KEYS$1.length;f++){var d=PRIMARY_STATES_KEYS$1[f],g=o&&DEFAULT_ANIMATABLE_MAP[d];n&&n[d]!=null?g?(c=!0,u[d]=n[d]):this[d]=n[d]:l&&i[d]!=null&&(g?(c=!0,u[d]=i[d]):this[d]=i[d])}if(!o)for(var f=0;f<this.animators.length;f++){var v=this.animators[f],y=v.targetName;v.getLoop()||v.__changeFinalValue(y?(n||i)[y]:n||i)}c&&this._transitionState(t,u,s)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Transformable,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),extend(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,i=this._textGuide;n&&(n.__inHover=t),i&&(i.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.addAnimator(n[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.removeAnimator(n[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,n,i){var a=t?this[t]:this,o=new Animator(a,n,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},r.prototype.addAnimator=function(t,n){var i=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var o=a.animators,s=indexOf(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,n){for(var i=this.animators,a=i.length,o=[],s=0;s<a;s++){var l=i[s];!t||t===l.scope?l.stop(n):o.push(l)}return this.animators=o,this},r.prototype.animateTo=function(t,n,i){animateTo(this,t,n,i)},r.prototype.animateFrom=function(t,n,i){animateTo(this,t,n,i,!0)},r.prototype._transitionState=function(t,n,i,a){for(var o=animateTo(this,n,i,a),s=0;s<o.length;s++)o[s].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=REDRAW_BIT;function n(i,a,o,s){Object.defineProperty(t,i,{get:function(){if(!this[a]){var u=this[a]=[];l(this,u)}return this[a]},set:function(u){this[o]=u[0],this[s]=u[1],this[a]=u,l(this,u)}});function l(u,c){Object.defineProperty(c,0,{get:function(){return u[o]},set:function(f){u[o]=f}}),Object.defineProperty(c,1,{get:function(){return u[s]},set:function(f){u[s]=f}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))})(),r})();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(r,t,n,i,a){n=n||{};var o=[];animateToShallow(r,"",r,t,n,i,o,a);var s=o.length,l=!1,u=n.done,c=n.aborted,f=function(){l=!0,s--,s<=0&&(l?u&&u():c&&c())},d=function(){s--,s<=0&&(l?u&&u():c&&c())};s||u&&u(),o.length>0&&n.during&&o[0].during(function(y,_){n.during(_)});for(var g=0;g<o.length;g++){var v=o[g];f&&v.done(f),d&&v.aborted(d),n.force&&v.duration(n.duration),v.start(n.easing)}return o}function copyArrShallow(r,t,n){for(var i=0;i<n;i++)r[i]=t[i]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,t,n){if(isArrayLike(t[n]))if(isArrayLike(r[n])||(r[n]=[]),isTypedArray(t[n])){var i=t[n].length;r[n].length!==i&&(r[n]=new t[n].constructor(i),copyArrShallow(r[n],t[n],i))}else{var a=t[n],o=r[n],s=a.length;if(is2DArray(a))for(var l=a[0].length,u=0;u<s;u++)o[u]?copyArrShallow(o[u],a[u],l):o[u]=Array.prototype.slice.call(a[u]);else copyArrShallow(o,a,s);o.length=a.length}else r[n]=t[n]}function isValueSame(r,t){return r===t||isArrayLike(r)&&isArrayLike(t)&&is1DArraySame(r,t)}function is1DArraySame(r,t){var n=r.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(r[i]!==t[i])return!1;return!0}function animateToShallow(r,t,n,i,a,o,s,l){for(var u=keys(i),c=a.duration,f=a.delay,d=a.additive,g=a.setToFinal,v=!isObject$2(o),y=r.animators,_=[],x=0;x<u.length;x++){var S=u[x],b=i[S];if(b!=null&&n[S]!=null&&(v||o[S]))if(isObject$2(b)&&!isArrayLike(b)&&!isGradientObject(b)){if(t){l||(n[S]=b,r.updateDuringAnimation(t));continue}animateToShallow(r,S,n[S],b,a,o&&o[S],s,l)}else _.push(S);else l||(n[S]=b,r.updateDuringAnimation(t),_.push(S))}var E=_.length;if(!d&&E)for(var M=0;M<y.length;M++){var D=y[M];if(D.targetName===t){var w=D.stopTracks(_);if(w){var I=indexOf(y,D);y.splice(I,1)}}}if(a.force||(_=filter(_,function(L){return!isValueSame(i[L],n[L])}),E=_.length),E>0||a.force&&!s.length){var R=void 0,P=void 0,O=void 0;if(l){P={},g&&(R={});for(var M=0;M<E;M++){var S=_[M];P[S]=n[S],g?R[S]=i[S]:n[S]=i[S]}}else if(g){O={};for(var M=0;M<E;M++){var S=_[M];O[S]=cloneValue(n[S]),copyValue(n,i,S)}}var D=new Animator(n,!1,!1,d?filter(y,function($){return $.targetName===t}):null);D.targetName=t,a.scope&&(D.scope=a.scope),g&&R&&D.whenWithKeys(0,R,_),O&&D.whenWithKeys(0,O,_),D.whenWithKeys(c??500,l?P:i,_).delay(f||0),r.addAnimator(D,t),s.push(D)}}var Group$2=(function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(n),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var i=this._children,a=0;a<i.length;a++)if(i[a].name===n)return i[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,i){if(n&&n!==this&&n.parent!==this&&i&&i.parent===this){var a=this._children,o=a.indexOf(i);o>=0&&(a.splice(o,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,i){var a=indexOf(this._children,n);return a>=0&&this.replaceAt(i,a),this},t.prototype.replaceAt=function(n,i){var a=this._children,o=a[i];if(n&&n!==this&&n.parent!==this&&n!==o){a[i]=n,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var i=this.__zr;i&&i!==n.__zr&&n.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(n){var i=this.__zr,a=this._children,o=indexOf(a,n);return o<0?this:(a.splice(o,1),n.parent=null,i&&n.removeSelfFromZr(i),i&&i.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,i=this.__zr,a=0;a<n.length;a++){var o=n[a];i&&o.removeSelfFromZr(i),o.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,i){for(var a=this._children,o=0;o<a.length;o++){var s=a[o];n.call(i,s,o)}return this},t.prototype.traverse=function(n,i){for(var a=0;a<this._children.length;a++){var o=this._children[a],s=n.call(i,o);o.isGroup&&!s&&o.traverse(n,i)}return this},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var i=new BoundingRect(0,0,0,0),a=n||this._children,o=[],s=null,l=0;l<a.length;l++){var u=a[l];if(!(u.ignore||u.invisible)){var c=u.getBoundingRect(),f=u.getLocalTransform(o);f?(BoundingRect.applyTransform(i,c,f),s=s||i.clone(),s.union(i)):(s=s||c.clone(),s.union(c))}}return s||i},t})(Element$1);Group$2.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var t=r.colorStops,n=0,i=t.length,a=0;a<i;a++)n+=lum(t[a].color,1);return n/=i,n<DARK_MODE_THRESHOLD}return!1}var ZRender=(function(){function r(t,n,i){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=n,this.id=t;var o=new Storage,s=i.renderer||"canvas";painterCtors[s]||(s=keys(painterCtors)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var l=new painterCtors[s](n,o,i,t),u=i.ssr||l.ssrOnly;this.storage=o,this.painter=l;var c=!env.node&&!env.worker&&!u?new HandlerDomProxy(l.getViewportRoot(),l.root):null,f=i.useCoarsePointer,d=f==null||f==="auto"?env.touchEventsSupported:!!f,g=44,v;d&&(v=retrieve2(i.pointerSize,g)),this.handler=new Handler(o,l,c,l.root,v),this.animation=new Animation({stage:{update:u?null:function(){return a._flush(!0)}}}),u||this.animation.start()}return r.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},r.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=isDarkMode(t))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(t){var n,i=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},r.prototype.on=function(t,n,i){return this._disposed||this.handler.on(t,n,i),this},r.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},r.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},r.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Group$2&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},r})();function init$1(r,t){var n=new ZRender(guid(),r,t);return instances$1[n.id]=n,n}function registerPainter(r,t){painterCtors[r]=t}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}var mathMin$6=Math.min,mathMax$6=Math.max,mathAbs$3=Math.abs;function linearMap(r,t,n,i){var a=t[0],o=t[1],s=n[0],l=n[1],u=o-a,c=l-s;if(u===0)return c===0?s:(s+l)/2;if(i)if(u>0){if(r<=a)return s;if(r>=o)return l}else{if(r>=a)return s;if(r<=o)return l}else{if(r===a)return s;if(r===o)return l}return(r-a)/u*c+s}var parsePercent=parsePositionOption;function parsePositionOption(r,t,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return parsePositionSizeOption(r,t,n)}function parsePositionSizeOption(r,t,n){return isString(r)?_trim(r).match(/%$/)?parseFloat(r)/100*t+(n||0):parseFloat(r):r==null?NaN:+r}function round$1(r,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(t),n?r:+r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(r*t)/t===r)return n}return getPrecisionSafe(r)}function getPrecisionSafe(r){var t=r.toString().toLowerCase(),n=t.indexOf("e"),i=n>0?+t.slice(n+1):0,a=n>0?n:t.length,o=t.indexOf("."),s=o<0?0:a-1-o;return Math.max(0,s-i)}function getPixelPrecision(r,t){var n=Math.log,i=Math.LN10,a=Math.floor(n(r[1]-r[0])/i),o=Math.round(n(mathAbs$3(t[1]-t[0]))/i),s=Math.min(Math.max(-a+o,0),20);return isFinite(s)?s:20}function addSafe(r,t){var n=Math.max(getPrecision(r),getPrecision(t)),i=r+t;return n>ROUND_SUPPORTED_PRECISION_MAX?i:round$1(i,n)}function remRadian(r){var t=Math.PI*2;return(r%t+t)%t}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString(r)){var t=TIME_REG.exec(r);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function nice(r,t){var n=quantityExponent(r),i=Math.pow(10,n),a=r/i,o;return a<1.5?o=1:a<2.5?o=2:a<4?o=3:a<7?o=5:o=10,r=o*i,n>=-20?+r.toFixed(n<0?-n:0):r}function numericToNumber(r){var t=parseFloat(r);return t==r&&(t!==0||!isString(r)||r.indexOf("x")<=0)?t:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,t){return t===0?r:getGreatestCommonDividor(t,r%t)}function getLeastCommonMultiple(r,t){return r==null?t:t==null?r:r*t/getGreatestCommonDividor(r,t)}var ECHARTS_PREFIX="[ECharts] ",hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(r,t,n){hasConsole&&console[r](ECHARTS_PREFIX+t)}function error(r,t){outputLog("error",r)}function throwError(r){throw new Error(r)}function interpolateNumber(r,t,n){return(t-r)*n+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,t,n){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var i=0,a=n.length;i<a;i++){var o=n[i];!r.emphasis[t].hasOwnProperty(o)&&r[t].hasOwnProperty(o)&&(r.emphasis[t][o]=r[t][o])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$2(r)&&!isArray(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$2(r)&&!(r instanceof Array)}function mappingToExists(r,t,n){var i=n==="normalMerge",a=n==="replaceMerge",o=n==="replaceAll";r=r||[],t=(t||[]).slice();var s=createHashMap();each$4(t,function(u,c){if(!isObject$2(u)){t[c]=null;return}});var l=prepareResult(r,s,n);return(i||a)&&mappingById(l,r,s,t),i&&mappingByName(l,t),i||a?mappingByIndex(l,t,a):o&&mappingInReplaceAllMode(l,t),makeIdAndName(l),l}function prepareResult(r,t,n){var i=[];if(n==="replaceAll")return i;for(var a=0;a<r.length;a++){var o=r[a];o&&o.id!=null&&t.set(o.id,a),i.push({existing:n==="replaceMerge"||isComponentIdInternal(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function mappingById(r,t,n,i){each$4(i,function(a,o){if(!(!a||a.id==null)){var s=makeComparableKey(a.id),l=n.get(s);if(l!=null){var u=r[l];assert(!u.newOption,'Duplicated option on id "'+s+'".'),u.newOption=a,u.existing=t[l],i[o]=null}}})}function mappingByName(r,t){each$4(t,function(n,i){if(!(!n||n.name==null))for(var a=0;a<r.length;a++){var o=r[a].existing;if(!r[a].newOption&&o&&(o.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(o)&&keyExistAndEqual("name",o,n)){r[a].newOption=n,t[i]=null;return}}})}function mappingByIndex(r,t,n){each$4(t,function(i){if(i){for(var a,o=0;(a=r[o])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&i.id!=null&&!keyExistAndEqual("id",i,a.existing));)o++;a?(a.newOption=i,a.brandNew=n):r.push({newOption:i,brandNew:n,existing:null,keyInfo:null}),o++}})}function mappingInReplaceAllMode(r,t){each$4(t,function(n){r.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var t=createHashMap();each$4(r,function(n){var i=n.existing;i&&t.set(i.id,n)}),each$4(r,function(n){var i=n.newOption;assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===n,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,n),!n.keyInfo&&(n.keyInfo={})}),each$4(r,function(n,i){var a=n.existing,o=n.newOption,s=n.keyInfo;if(isObject$2(o)){if(s.name=o.name!=null?makeComparableKey(o.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+i,a)s.id=makeComparableKey(a.id);else if(o.id!=null)s.id=makeComparableKey(o.id);else{var l=0;do s.id="\0"+s.name+"\0"+l++;while(t.get(s.id))}t.set(s.id,n)}})}function keyExistAndEqual(r,t,n){var i=convertOptionIdName(t[r],null),a=convertOptionIdName(n[r],null);return i!=null&&a!=null&&i===a}function makeComparableKey(r){return convertOptionIdName(r,"")}function convertOptionIdName(r,t){return r==null?t:isString(r)?r:isNumber(r)||isStringSafe(r)?r+"":t}function isNameSpecified(r){var t=r.name;return!!(t&&t.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(r,t,n){each$4(r,function(i){var a=i.newOption;isObject$2(a)&&(i.keyInfo.mainType=t,i.keyInfo.subType=determineSubType(t,a,i.existing,n))})}function determineSubType(r,t,n,i){var a=t.type?t.type:n?n.subType:i.determineSubType(r,t);return a}function queryDataIndex(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return isArray(t.dataIndex)?map$1(t.dataIndex,function(n){return r.indexOfRawIndex(n)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return isArray(t.name)?map$1(t.name,function(n){return r.indexOfName(n)}):r.indexOfName(t.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(t){return t[r]||(t[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(r,t,n){var i=preParseFinder(t,n),a=i.mainTypeSpecified,o=i.queryOptionMap,s=i.others,l=s,u=n?n.defaultMainType:null;return!a&&u&&o.set(u,{}),o.each(function(c,f){var d=queryReferringComponents(r,f,c,{useDefault:u===f,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});l[f+"Models"]=d.models,l[f+"Model"]=d.models[0]}),l}function preParseFinder(r,t){var n;if(isString(r)){var i={};i[r+"Index"]=0,n=i}else n=r;var a=createHashMap(),o={},s=!1;return each$4(n,function(l,u){if(u==="dataIndex"||u==="dataIndexInside"){o[u]=l;return}var c=u.match(/^(\w+)(Index|Id|Name)$/)||[],f=c[1],d=(c[2]||"").toLowerCase();if(!(!f||!d||t&&t.includeMainTypes&&indexOf(t.includeMainTypes,f)<0)){s=s||!!f;var g=a.get(f)||a.set(f,{});g[d]=l}}),{mainTypeSpecified:s,queryOptionMap:a,others:o}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1};function queryReferringComponents(r,t,n,i){i=i||SINGLE_REFERRING;var a=n.index,o=n.id,s=n.name,l={models:null,specified:a!=null||o!=null||s!=null};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=r.getComponent(t))?[u]:[],l}if(a==="none"||a===!1){if(i.enableNone)return l.models=[],l;a=-1}return a==="all"&&(i.enableAll?a=o=s=null:a=-1),l.models=r.queryComponents({mainType:t,index:a,id:o,name:s}),l}function setAttribute(r,t,n){r.setAttribute?r.setAttribute(t,n):r[t]=n}function getAttribute(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function getTooltipRenderMode(r){return r==="auto"?env.domSupported?"html":"richText":r||"html"}function interpolateRawValues(r,t,n,i,a){var o=t==null||t==="auto";if(i==null)return i;if(isNumber(i)){var s=interpolateNumber(n||0,i,a);return round$1(s,o?Math.max(getPrecision(n||0),getPrecision(i)):t)}else{if(isString(i))return a<1?n:i;for(var l=[],u=n,c=i,f=Math.max(u?u.length:0,c.length),d=0;d<f;++d){var g=r.getDimensionInfo(d);if(g&&g.type==="ordinal")l[d]=(a<1&&u?u:c)[d];else{var v=u&&u[d]?u[d]:0,y=c[d],s=interpolateNumber(v,y,a);l[d]=round$1(s,o?Math.max(getPrecision(v),getPrecision(y)):t)}}return l}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var t={main:"",sub:""};if(r){var n=r.split(TYPE_DELIMITER);t.main=n[0]||"",t.sub=n[1]||""}return t}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,t){r.$constructor=r,r.extend=function(n){var i=this,a;return isESClass(i)?a=(function(o){__extends(s,o);function s(){return o.apply(this,arguments)||this}return s})(i):(a=function(){(n.$constructor||i).apply(this,arguments)},inherits(a,this)),extend(a.prototype,n),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=i,a}}function isESClass(r){return isFunction(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,t){r.extend=t.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var t=["__\0is_clz",classBase++].join("_");r.prototype[t]=!0,r.isInstance=function(n){return!!(n&&n[t])}}function superCall(r,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(r,n)}function superApply(r,t,n){return this.superClass.prototype[t].apply(r,n)}function enableClassManagement(r){var t={};r.registerClass=function(i){var a=i.type||i.prototype.type;if(a){checkClassType(a),i.prototype.type=a;var o=parseClassType(a);if(!o.sub)t[o.main]=i;else if(o.sub!==IS_CONTAINER){var s=n(o);s[o.sub]=i}}return i},r.getClass=function(i,a,o){var s=t[i];if(s&&s[IS_CONTAINER]&&(s=a?s[a]:null),o&&!s)throw new Error(a?"Component "+i+"."+(a||"")+" is used but not imported.":i+".type should be specified.");return s},r.getClassesByMainType=function(i){var a=parseClassType(i),o=[],s=t[a.main];return s&&s[IS_CONTAINER]?each$4(s,function(l,u){u!==IS_CONTAINER&&o.push(l)}):o.push(s),o},r.hasClass=function(i){var a=parseClassType(i);return!!t[a.main]},r.getAllClassMainTypes=function(){var i=[];return each$4(t,function(a,o){i.push(o)}),i},r.hasSubTypes=function(i){var a=parseClassType(i),o=t[a.main];return o&&o[IS_CONTAINER]};function n(i){var a=t[i.main];return(!a||!a[IS_CONTAINER])&&(a=t[i.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(r,t){for(var n=0;n<r.length;n++)r[n][1]||(r[n][1]=r[n][0]);return t=t||!1,function(i,a,o){for(var s={},l=0;l<r.length;l++){var u=r[l][1];if(!(a&&indexOf(a,u)>=0||o&&indexOf(o,u)<0)){var c=i.getShallow(u,t);c!=null&&(s[r[l][0]]=c)}}return s}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=(function(){function r(){}return r.prototype.getAreaStyle=function(t,n){return getAreaStyle(this,t,n)},r})(),globalImageCache=new LRU(50);function findExistImage(r){if(typeof r=="string"){var t=globalImageCache.get(r);return t&&t.image}else return r}function createOrUpdateImage(r,t,n,i,a){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!n)return t;var o=globalImageCache.get(r),s={hostEl:n,cb:i,cbPayload:a};return o?(t=o.image,!isImageReady(t)&&o.pending.push(s)):(t=platformApi.loadImage(r,imageOnLoad,imageOnLoad),t.__zrImageSrc=r,globalImageCache.put(r,t.__cachedImgObj={image:t,pending:[s]})),t}else return r;else return t}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var n=r.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(r,t,n,i,a,o){if(!n){r.text="",r.isTruncated=!1;return}var s=(t+"").split(`
`);o=prepareTruncateOptions(n,i,a,o);for(var l=!1,u={},c=0,f=s.length;c<f;c++)truncateSingleLine(u,s[c],o),s[c]=u.textLine,l=l||u.isTruncated;r.text=s.join(`
`),r.isTruncated=l}function prepareTruncateOptions(r,t,n,i){i=i||{};var a=extend({},i);n=retrieve2(n,"..."),a.maxIterations=retrieve2(i.maxIterations,2);var o=a.minChar=retrieve2(i.minChar,0),s=a.fontMeasureInfo=ensureFontMeasureInfo(t),l=s.asciiCharWidth;a.placeholder=retrieve2(i.placeholder,"");for(var u=r=Math.max(0,r-1),c=0;c<o&&u>=l;c++)u-=l;var f=measureWidth(s,n);return f>u&&(n="",f=0),u=r-f,a.ellipsis=n,a.ellipsisWidth=f,a.contentWidth=u,a.containerWidth=r,a}function truncateSingleLine(r,t,n){var i=n.containerWidth,a=n.contentWidth,o=n.fontMeasureInfo;if(!i){r.textLine="",r.isTruncated=!1;return}var s=measureWidth(o,t);if(s<=i){r.textLine=t,r.isTruncated=!1;return}for(var l=0;;l++){if(s<=a||l>=n.maxIterations){t+=n.ellipsis;break}var u=l===0?estimateLength(t,a,o):s>0?Math.floor(t.length*a/s):0;t=t.substr(0,u),s=measureWidth(o,t)}t===""&&(t=n.placeholder),r.textLine=t,r.isTruncated=!0}function estimateLength(r,t,n){for(var i=0,a=0,o=r.length;a<o&&i<t;a++)i+=measureCharWidth(n,r.charCodeAt(a));return a}function parsePlainText(r,t,n,i){var a=formatText(r),o=t.overflow,s=t.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=t.font,f=o==="truncate",d=getLineHeight(c),g=retrieve2(t.lineHeight,d),v=t.lineOverflow==="truncate",y=!1,_=t.width;_==null&&n!=null&&(_=n-l);var x=t.height;x==null&&i!=null&&(x=i-u);var S;_!=null&&(o==="break"||o==="breakAll")?S=a?wrapText(a,t.font,_,o==="breakAll",0).lines:[]:S=a?a.split(`
`):[];var b=S.length*g;if(x==null&&(x=b),b>x&&v){var E=Math.floor(x/g);y=y||S.length>E,S=S.slice(0,E),b=S.length*g}if(a&&f&&_!=null)for(var M=prepareTruncateOptions(_,c,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),D={},w=0;w<S.length;w++)truncateSingleLine(D,S[w],M),S[w]=D.textLine,y=y||D.isTruncated;for(var I=x,R=0,P=ensureFontMeasureInfo(c),w=0;w<S.length;w++)R=Math.max(measureWidth(P,S[w]),R);_==null&&(_=R);var O=_;return I+=u,O+=l,{lines:S,height:x,outerWidth:O,outerHeight:I,lineHeight:g,calculatedLineHeight:d,contentWidth:R,contentHeight:b,width:_,isTruncated:y}}var RichTextToken=(function(){function r(){}return r})(),RichTextLine=(function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r})(),RichTextContentBlock=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function parseRichText(r,t,n,i,a){var o=new RichTextContentBlock,s=formatText(r);if(!s)return o;var l=t.padding,u=l?l[1]+l[3]:0,c=l?l[0]+l[2]:0,f=t.width;f==null&&n!=null&&(f=n-u);var d=t.height;d==null&&i!=null&&(d=i-c);for(var g=t.overflow,v=(g==="break"||g==="breakAll")&&f!=null?{width:f,accumWidth:0,breakAll:g==="breakAll"}:null,y=STYLE_REG.lastIndex=0,_;(_=STYLE_REG.exec(s))!=null;){var x=_.index;x>y&&pushTokens(o,s.substring(y,x),t,v),pushTokens(o,_[2],t,v,_[1]),y=STYLE_REG.lastIndex}y<s.length&&pushTokens(o,s.substring(y,s.length),t,v);var S=[],b=0,E=0,M=g==="truncate",D=t.lineOverflow==="truncate",w={};function I(le,ce,me){le.width=ce,le.lineHeight=me,b+=me,E=Math.max(E,ce)}e:for(var R=0;R<o.lines.length;R++){for(var P=o.lines[R],O=0,L=0,$=0;$<P.tokens.length;$++){var N=P.tokens[$],F=N.styleName&&t.rich[N.styleName]||{},Y=N.textPadding=F.padding,G=Y?Y[1]+Y[3]:0,W=N.font=F.font||t.font;N.contentHeight=getLineHeight(W);var U=retrieve2(F.height,N.contentHeight);if(N.innerHeight=U,Y&&(U+=Y[0]+Y[2]),N.height=U,N.lineHeight=retrieve3(F.lineHeight,t.lineHeight,U),N.align=F&&F.align||a,N.verticalAlign=F&&F.verticalAlign||"middle",D&&d!=null&&b+N.lineHeight>d){var j=o.lines.length;$>0?(P.tokens=P.tokens.slice(0,$),I(P,L,O),o.lines=o.lines.slice(0,R+1)):o.lines=o.lines.slice(0,R),o.isTruncated=o.isTruncated||o.lines.length<j;break e}var ee=F.width,re=ee==null||ee==="auto";if(typeof ee=="string"&&ee.charAt(ee.length-1)==="%")N.percentWidth=ee,S.push(N),N.contentWidth=measureWidth(ensureFontMeasureInfo(W),N.text);else{if(re){var q=F.backgroundColor,Q=q&&q.image;Q&&(Q=findExistImage(Q),isImageReady(Q)&&(N.width=Math.max(N.width,Q.width*U/Q.height)))}var fe=M&&f!=null?f-L:null;fe!=null&&fe<N.width?!re||fe<G?(N.text="",N.width=N.contentWidth=0):(truncateText2(w,N.text,fe-G,W,t.ellipsis,{minChar:t.truncateMinChar}),N.text=w.text,o.isTruncated=o.isTruncated||w.isTruncated,N.width=N.contentWidth=measureWidth(ensureFontMeasureInfo(W),N.text)):N.contentWidth=measureWidth(ensureFontMeasureInfo(W),N.text)}N.width+=G,L+=N.width,F&&(O=Math.max(O,N.lineHeight))}I(P,L,O)}o.outerWidth=o.width=retrieve2(f,E),o.outerHeight=o.height=retrieve2(d,b),o.contentHeight=b,o.contentWidth=E,o.outerWidth+=u,o.outerHeight+=c;for(var R=0;R<S.length;R++){var N=S[R],de=N.percentWidth;N.width=parseInt(de,10)/100*o.width}return o}function pushTokens(r,t,n,i,a){var o=t==="",s=a&&n.rich[a]||{},l=r.lines,u=s.font||n.font,c=!1,f,d;if(i){var g=s.padding,v=g?g[1]+g[3]:0;if(s.width!=null&&s.width!=="auto"){var y=parsePercent$1(s.width,i.width)+v;l.length>0&&y+i.accumWidth>i.width&&(f=t.split(`
`),c=!0),i.accumWidth=y}else{var _=wrapText(t,u,i.width,i.breakAll,i.accumWidth);i.accumWidth=_.accumWidth+v,d=_.linesWidths,f=_.lines}}f||(f=t.split(`
`));for(var x=ensureFontMeasureInfo(u),S=0;S<f.length;S++){var b=f[S],E=new RichTextToken;if(E.styleName=a,E.text=b,E.isLineHolder=!b&&!o,typeof s.width=="number"?E.width=s.width:E.width=d?d[S]:measureWidth(x,b),!S&&!c){var M=(l[l.length-1]||(l[0]=new RichTextLine)).tokens,D=M.length;D===1&&M[0].isLineHolder?M[0]=E:(b||!D||o)&&M.push(E)}else l.push(new RichTextLine([E]))}}function isAlphabeticLetter(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function isWordBreakChar(r){return isAlphabeticLetter(r)?!!breakCharMap[r]:!0}function wrapText(r,t,n,i,a){for(var o=[],s=[],l="",u="",c=0,f=0,d=ensureFontMeasureInfo(t),g=0;g<r.length;g++){var v=r.charAt(g);if(v===`
`){u&&(l+=u,f+=c),o.push(l),s.push(f),l="",u="",c=0,f=0;continue}var y=measureCharWidth(d,v.charCodeAt(0)),_=i?!1:!isWordBreakChar(v);if(o.length?f+y>n:a+f+y>n){f?(l||u)&&(_?(l||(l=u,u="",c=0,f=c),o.push(l),s.push(f-c),u+=v,c+=y,l="",f=c):(u&&(l+=u,u="",c=0),o.push(l),s.push(f),l=v,f=y)):_?(o.push(u),s.push(c),u=v,c=y):(o.push(v),s.push(y));continue}f+=y,_?(u+=v,c+=y):(u&&(l+=u,u="",c=0),l+=v)}return u&&(l+=u),l&&(o.push(l),s.push(f)),o.length===1&&(f+=a),{accumWidth:f,lines:o,linesWidths:s}}function calcInnerTextOverflowArea(r,t,n,i,a,o){if(r.baseX=n,r.baseY=i,r.outerWidth=r.outerHeight=null,!!t){var s=t.width*2,l=t.height*2;BoundingRect.set(tmpCITCTextRect,adjustTextX(n,s,a),adjustTextY(i,l,o),s,l),BoundingRect.intersect(t,tmpCITCTextRect,null,tmpCITCIntersectRectOpt);var u=tmpCITCIntersectRectOpt.outIntersectRect;r.outerWidth=u.width,r.outerHeight=u.height,r.baseX=adjustTextX(u.x,u.width,a,!0),r.baseY=adjustTextY(u.y,u.height,o,!0)}}var tmpCITCTextRect=new BoundingRect(0,0,0,0),tmpCITCIntersectRectOpt={outIntersectRect:{},clamp:!0};function formatText(r){return r!=null?r+="":r=""}function tSpanCreateBoundingRect(r){var t=formatText(r.text),n=r.font,i=measureWidth(ensureFontMeasureInfo(n),t),a=getLineHeight(n);return tSpanCreateBoundingRect2(r,i,a,null)}function tSpanCreateBoundingRect2(r,t,n,i){var a=new BoundingRect(adjustTextX(r.x||0,t,r.textAlign),adjustTextY(r.y||0,n,r.textBaseline),t,n),o=i??(tSpanHasStroke(r)?r.lineWidth:0);return o>0&&(a.x-=o/2,a.y-=o/2,a.width+=o,a.height+=o),a}function tSpanHasStroke(r){var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype._init=function(n){for(var i=keys(n),a=0;a<i.length;a++){var o=i[a];o==="style"?this.useStyle(n[o]):r.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,i,a,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,i)||s&&!s[0]&&!s[3])return!1;if(a&&this.__clipPaths&&this.__clipPaths.length){for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1}if(o&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(n,i){return this.rectContain(n,i)},t.prototype.traverse=function(n,i){n.call(i,this)},t.prototype.rectContain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect();return o.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,a=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,l=o.shadowOffsetX||0,u=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),i?BoundingRect.applyTransform(n,a,i):n.copy(a),(s||l||u)&&(n.width+=s*2+Math.abs(l),n.height+=s*2+Math.abs(u),n.x=Math.min(n.x,n.x+l-s),n.y=Math.min(n.y,n.y+u-s));var c=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-c),n.y=Math.floor(n.y-c),n.width=Math.ceil(n.width+1+c*2),n.height=Math.ceil(n.height+1+c*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,i){n!=="style"?r.prototype.attrKV.call(this,n,i):this.style?this.setStyle(i):this.useStyle(i)},t.prototype.setStyle=function(n,i){return typeof n=="string"?this.style[n]=i:extend(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},t.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},t.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,i,PRIMARY_STATES_KEYS)},t.prototype._applyStateObj=function(n,i,a,o,s,l){r.prototype._applyStateObj.call(this,n,i,a,o,s,l);var u=!(i&&o),c;if(i&&i.style?s?o?c=i.style:(c=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:a.style),this._mergeStyle(c,i.style)):u&&(c=a.style),c)if(s){var f=this.style;if(this.style=this.createStyle(u?{}:f),u)for(var d=keys(f),g=0;g<d.length;g++){var v=d[g];v in c&&(c[v]=c[v],this.style[v]=f[v])}for(var y=keys(c),g=0;g<y.length;g++){var v=y[g];this.style[v]=this.style[v]}this._transitionState(n,{style:c},l,this.getAnimationStyleProps())}else this.useStyle(c);for(var _=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,g=0;g<_.length;g++){var v=_[g];i&&i[v]!=null?this[v]=i[v]:u&&a[v]!=null&&(this[v]=a[v])}},t.prototype._mergeStates=function(n){for(var i=r.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.style&&(a=a||{},this._mergeStyle(a,s.style))}return a&&(i.style=a),i},t.prototype._mergeStyle=function(n,i){return extend(n,i),n},t.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},t.initDefaultProps=(function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT})(),t})(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(r,t,n){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=t,viewRect.height=n,!tmpRect.intersect(viewRect)}var mathMin$5=Math.min,mathMax$5=Math.max,mathSin$3=Math.sin,mathCos$3=Math.cos,PI2$5=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(r,t,n,i,a,o){a[0]=mathMin$5(r,n),a[1]=mathMin$5(t,i),o[0]=mathMax$5(r,n),o[1]=mathMax$5(t,i)}var xDim=[],yDim=[];function fromCubic(r,t,n,i,a,o,s,l,u,c){var f=cubicExtrema,d=cubicAt,g=f(r,n,a,s,xDim);u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var v=0;v<g;v++){var y=d(r,n,a,s,xDim[v]);u[0]=mathMin$5(y,u[0]),c[0]=mathMax$5(y,c[0])}g=f(t,i,o,l,yDim);for(var v=0;v<g;v++){var _=d(t,i,o,l,yDim[v]);u[1]=mathMin$5(_,u[1]),c[1]=mathMax$5(_,c[1])}u[0]=mathMin$5(r,u[0]),c[0]=mathMax$5(r,c[0]),u[0]=mathMin$5(s,u[0]),c[0]=mathMax$5(s,c[0]),u[1]=mathMin$5(t,u[1]),c[1]=mathMax$5(t,c[1]),u[1]=mathMin$5(l,u[1]),c[1]=mathMax$5(l,c[1])}function fromQuadratic(r,t,n,i,a,o,s,l){var u=quadraticExtremum,c=quadraticAt,f=mathMax$5(mathMin$5(u(r,n,a),1),0),d=mathMax$5(mathMin$5(u(t,i,o),1),0),g=c(r,n,a,f),v=c(t,i,o,d);s[0]=mathMin$5(r,a,g),s[1]=mathMin$5(t,o,v),l[0]=mathMax$5(r,a,g),l[1]=mathMax$5(t,o,v)}function fromArc(r,t,n,i,a,o,s,l,u){var c=min$1,f=max$1,d=Math.abs(a-o);if(d%PI2$5<1e-4&&d>1e-4){l[0]=r-n,l[1]=t-i,u[0]=r+n,u[1]=t+i;return}if(start[0]=mathCos$3(a)*n+r,start[1]=mathSin$3(a)*i+t,end[0]=mathCos$3(o)*n+r,end[1]=mathSin$3(o)*i+t,c(l,start,end),f(u,start,end),a=a%PI2$5,a<0&&(a=a+PI2$5),o=o%PI2$5,o<0&&(o=o+PI2$5),a>o&&!s?o+=PI2$5:a<o&&s&&(a+=PI2$5),s){var g=o;o=a,a=g}for(var v=0;v<o;v+=Math.PI/2)v>a&&(extremity[0]=mathCos$3(v)*n+r,extremity[1]=mathSin$3(v)*i+t,c(l,extremity,l),f(u,extremity,u))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$4=Math.min,mathMax$4=Math.max,mathCos$2=Math.cos,mathSin$2=Math.sin,mathAbs$2=Math.abs,PI$4=Math.PI,PI2$4=PI$4*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var t=Math.round(r/PI$4*1e8)/1e8;return t%2*PI$4}function normalizeArcAngles(r,t){var n=modPI2(r[0]);n<0&&(n+=PI2$4);var i=n-r[0],a=r[1];a+=i,!t&&a-n>=PI2$4?a=n+PI2$4:t&&n-a>=PI2$4?a=n-PI2$4:!t&&n>a?a=n+(PI2$4-modPI2(n-a)):t&&n<a&&(a=n-(PI2$4-modPI2(a-n))),r[0]=n,r[1]=a}var PathProxy=(function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,n,i){i=i||0,i>0&&(this._ux=mathAbs$2(i/devicePixelRatio/t)||0,this._uy=mathAbs$2(i/devicePixelRatio/n)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(CMD$2.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},r.prototype.lineTo=function(t,n){var i=mathAbs$2(t-this._xi),a=mathAbs$2(n-this._yi),o=i>this._ux||a>this._uy;if(this.addData(CMD$2.L,t,n),this._ctx&&o&&this._ctx.lineTo(t,n),o)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var s=i*i+a*a;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(t,n,i,a,o,s){return this._drawPendingPt(),this.addData(CMD$2.C,t,n,i,a,o,s),this._ctx&&this._ctx.bezierCurveTo(t,n,i,a,o,s),this._xi=o,this._yi=s,this},r.prototype.quadraticCurveTo=function(t,n,i,a){return this._drawPendingPt(),this.addData(CMD$2.Q,t,n,i,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,i,a),this._xi=i,this._yi=a,this},r.prototype.arc=function(t,n,i,a,o,s){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=o,normalizeArcAngles(tmpAngles,s),a=tmpAngles[0],o=tmpAngles[1];var l=o-a;return this.addData(CMD$2.A,t,n,i,i,a,l,0,s?0:1),this._ctx&&this._ctx.arc(t,n,i,a,o,s),this._xi=mathCos$2(o)*i+t,this._yi=mathSin$2(o)*i+n,this},r.prototype.arcTo=function(t,n,i,a,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,i,a,o),this},r.prototype.rect=function(t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,i,a),this.addData(CMD$2.R,t,n,i,a),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var t=this._ctx,n=this._x0,i=this._y0;return t&&t.closePath(),this._xi=n,this._yi=i,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){if(this._saveData){var n=t.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var i=0;i<n;i++)this.data[i]=t[i];this._len=n}},r.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var n=t.length,i=0,a=this._len,o=0;o<n;o++)i+=t[o].len();var s=this.data;if(hasTypedArray&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(a+i),a>0&&s))for(var l=0;l<a;l++)this.data[l]=s[l];for(var o=0;o<n;o++)for(var u=t[o].data,l=0;l<u.length;l++)this.data[a++]=u[l];this._len=a}},r.prototype.addData=function(t,n,i,a,o,s,l,u,c){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var d=0;d<arguments.length;d++)f[this._len++]=arguments[d]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var t=this.data,n=0,i=0,a=0,o=0,s;for(s=0;s<this._len;){var l=t[s++],u=s===1;switch(u&&(n=t[s],i=t[s+1],a=n,o=i),l){case CMD$2.M:n=a=t[s++],i=o=t[s++],min2[0]=a,min2[1]=o,max2[0]=a,max2[1]=o;break;case CMD$2.L:fromLine(n,i,t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.C:fromCubic(n,i,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.Q:fromQuadratic(n,i,t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],i=t[s++];break;case CMD$2.A:var c=t[s++],f=t[s++],d=t[s++],g=t[s++],v=t[s++],y=t[s++]+v;s+=1;var _=!t[s++];u&&(a=mathCos$2(v)*d+c,o=mathSin$2(v)*g+f),fromArc(c,f,d,g,v,y,_,min2,max2),n=mathCos$2(y)*d+c,i=mathSin$2(y)*g+f;break;case CMD$2.R:a=n=t[s++],o=i=t[s++];var x=t[s++],S=t[s++];fromLine(a,o,a+x,o+S,min2,max2);break;case CMD$2.Z:n=a,i=o;break}min$1(min,min,min2),max$1(max,max,max2)}return s===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var t=this.data,n=this._len,i=this._ux,a=this._uy,o=0,s=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,f=0,d=0,g=0;g<n;){var v=t[g++],y=g===1;y&&(o=t[g],s=t[g+1],l=o,u=s);var _=-1;switch(v){case CMD$2.M:o=l=t[g++],s=u=t[g++];break;case CMD$2.L:{var x=t[g++],S=t[g++],b=x-o,E=S-s;(mathAbs$2(b)>i||mathAbs$2(E)>a||g===n-1)&&(_=Math.sqrt(b*b+E*E),o=x,s=S);break}case CMD$2.C:{var M=t[g++],D=t[g++],x=t[g++],S=t[g++],w=t[g++],I=t[g++];_=cubicLength(o,s,M,D,x,S,w,I,10),o=w,s=I;break}case CMD$2.Q:{var M=t[g++],D=t[g++],x=t[g++],S=t[g++];_=quadraticLength(o,s,M,D,x,S,10),o=x,s=S;break}case CMD$2.A:var R=t[g++],P=t[g++],O=t[g++],L=t[g++],$=t[g++],N=t[g++],F=N+$;g+=1,y&&(l=mathCos$2($)*O+R,u=mathSin$2($)*L+P),_=mathMax$4(O,L)*mathMin$4(PI2$4,Math.abs(N)),o=mathCos$2(F)*O+R,s=mathSin$2(F)*L+P;break;case CMD$2.R:{l=o=t[g++],u=s=t[g++];var Y=t[g++],G=t[g++];_=Y*2+G*2;break}case CMD$2.Z:{var b=l-o,E=u-s;_=Math.sqrt(b*b+E*E),o=l,s=u;break}}_>=0&&(c[d++]=_,f+=_)}return this._pathLen=f,f},r.prototype.rebuildPath=function(t,n){var i=this.data,a=this._ux,o=this._uy,s=this._len,l,u,c,f,d,g,v=n<1,y,_,x=0,S=0,b,E=0,M,D;if(!(v&&(this._pathSegLen||this._calculateLength(),y=this._pathSegLen,_=this._pathLen,b=n*_,!b)))e:for(var w=0;w<s;){var I=i[w++],R=w===1;switch(R&&(c=i[w],f=i[w+1],l=c,u=f),I!==CMD$2.L&&E>0&&(t.lineTo(M,D),E=0),I){case CMD$2.M:l=c=i[w++],u=f=i[w++],t.moveTo(c,f);break;case CMD$2.L:{d=i[w++],g=i[w++];var P=mathAbs$2(d-c),O=mathAbs$2(g-f);if(P>a||O>o){if(v){var L=y[S++];if(x+L>b){var $=(b-x)/L;t.lineTo(c*(1-$)+d*$,f*(1-$)+g*$);break e}x+=L}t.lineTo(d,g),c=d,f=g,E=0}else{var N=P*P+O*O;N>E&&(M=d,D=g,E=N)}break}case CMD$2.C:{var F=i[w++],Y=i[w++],G=i[w++],W=i[w++],U=i[w++],j=i[w++];if(v){var L=y[S++];if(x+L>b){var $=(b-x)/L;cubicSubdivide(c,F,G,U,$,tmpOutX),cubicSubdivide(f,Y,W,j,$,tmpOutY),t.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}x+=L}t.bezierCurveTo(F,Y,G,W,U,j),c=U,f=j;break}case CMD$2.Q:{var F=i[w++],Y=i[w++],G=i[w++],W=i[w++];if(v){var L=y[S++];if(x+L>b){var $=(b-x)/L;quadraticSubdivide(c,F,G,$,tmpOutX),quadraticSubdivide(f,Y,W,$,tmpOutY),t.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}x+=L}t.quadraticCurveTo(F,Y,G,W),c=G,f=W;break}case CMD$2.A:var ee=i[w++],re=i[w++],q=i[w++],Q=i[w++],fe=i[w++],de=i[w++],le=i[w++],ce=!i[w++],me=q>Q?q:Q,ge=mathAbs$2(q-Q)>.001,ve=fe+de,oe=!1;if(v){var L=y[S++];x+L>b&&(ve=fe+de*(b-x)/L,oe=!0),x+=L}if(ge&&t.ellipse?t.ellipse(ee,re,q,Q,le,fe,ve,ce):t.arc(ee,re,me,fe,ve,ce),oe)break e;R&&(l=mathCos$2(fe)*q+ee,u=mathSin$2(fe)*Q+re),c=mathCos$2(ve)*q+ee,f=mathSin$2(ve)*Q+re;break;case CMD$2.R:l=c=i[w],u=f=i[w+1],d=i[w++],g=i[w++];var V=i[w++],H=i[w++];if(v){var L=y[S++];if(x+L>b){var z=b-x;t.moveTo(d,g),t.lineTo(d+mathMin$4(z,V),g),z-=V,z>0&&t.lineTo(d+V,g+mathMin$4(z,H)),z-=H,z>0&&t.lineTo(d+mathMax$4(V-z,0),g+H),z-=V,z>0&&t.lineTo(d,g+mathMax$4(H-z,0));break e}x+=L}t.rect(d,g,V,H);break;case CMD$2.Z:if(v){var L=y[S++];if(x+L>b){var $=(b-x)/L;t.lineTo(c*(1-$)+l*$,f*(1-$)+u*$);break e}x+=L}t.closePath(),c=l,f=u}}},r.prototype.clone=function(){var t=new r,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},r.prototype.canSave=function(){return!!this._saveData},r.CMD=CMD$2,r.initDefaultProps=(function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),r})();function containStroke$4(r,t,n,i,a,o,s){if(a===0)return!1;var l=a,u=0,c=r;if(s>t+l&&s>i+l||s<t-l&&s<i-l||o>r+l&&o>n+l||o<r-l&&o<n-l)return!1;if(r!==n)u=(t-i)/(r-n),c=(r*i-n*t)/(r-n);else return Math.abs(o-r)<=l/2;var f=u*o-s+c,d=f*f/(u*u+1);return d<=l/2*l/2}function containStroke$3(r,t,n,i,a,o,s,l,u,c,f){if(u===0)return!1;var d=u;if(f>t+d&&f>i+d&&f>o+d&&f>l+d||f<t-d&&f<i-d&&f<o-d&&f<l-d||c>r+d&&c>n+d&&c>a+d&&c>s+d||c<r-d&&c<n-d&&c<a-d&&c<s-d)return!1;var g=cubicProjectPoint(r,t,n,i,a,o,s,l,c,f);return g<=d/2}function containStroke$2(r,t,n,i,a,o,s,l,u){if(s===0)return!1;var c=s;if(u>t+c&&u>i+c&&u>o+c||u<t-c&&u<i-c&&u<o-c||l>r+c&&l>n+c&&l>a+c||l<r-c&&l<n-c&&l<a-c)return!1;var f=quadraticProjectPoint(r,t,n,i,a,o,l,u);return f<=c/2}var PI2$3=Math.PI*2;function normalizeRadian(r){return r%=PI2$3,r<0&&(r+=PI2$3),r}var PI2$2=Math.PI*2;function containStroke$1(r,t,n,i,a,o,s,l,u){if(s===0)return!1;var c=s;l-=r,u-=t;var f=Math.sqrt(l*l+u*u);if(f-c>n||f+c<n)return!1;if(Math.abs(i-a)%PI2$2<1e-4)return!0;if(o){var d=i;i=normalizeRadian(a),a=normalizeRadian(d)}else i=normalizeRadian(i),a=normalizeRadian(a);i>a&&(a+=PI2$2);var g=Math.atan2(u,l);return g<0&&(g+=PI2$2),g>=i&&g<=a||g+PI2$2>=i&&g+PI2$2<=a}function windingLine(r,t,n,i,a,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var s=(o-t)/(i-t),l=i<t?1:-1;(s===1||s===0)&&(l=i<t?.5:-.5);var u=s*(n-r)+r;return u===a?1/0:u>a?l:0}var CMD$1=PathProxy.CMD,PI2$1=Math.PI*2,EPSILON=1e-4;function isAroundEqual(r,t){return Math.abs(r-t)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,t,n,i,a,o,s,l,u,c){if(c>t&&c>i&&c>o&&c>l||c<t&&c<i&&c<o&&c<l)return 0;var f=cubicRootAt(t,i,o,l,c,roots);if(f===0)return 0;for(var d=0,g=-1,v=void 0,y=void 0,_=0;_<f;_++){var x=roots[_],S=x===0||x===1?.5:1,b=cubicAt(r,n,a,s,x);b<u||(g<0&&(g=cubicExtrema(t,i,o,l,extrema),extrema[1]<extrema[0]&&g>1&&swapExtrema(),v=cubicAt(t,i,o,l,extrema[0]),g>1&&(y=cubicAt(t,i,o,l,extrema[1]))),g===2?x<extrema[0]?d+=v<t?S:-S:x<extrema[1]?d+=y<v?S:-S:d+=l<y?S:-S:x<extrema[0]?d+=v<t?S:-S:d+=l<v?S:-S)}return d}function windingQuadratic(r,t,n,i,a,o,s,l){if(l>t&&l>i&&l>o||l<t&&l<i&&l<o)return 0;var u=quadraticRootAt(t,i,o,l,roots);if(u===0)return 0;var c=quadraticExtremum(t,i,o);if(c>=0&&c<=1){for(var f=0,d=quadraticAt(t,i,o,c),g=0;g<u;g++){var v=roots[g]===0||roots[g]===1?.5:1,y=quadraticAt(r,n,a,roots[g]);y<s||(roots[g]<c?f+=d<t?v:-v:f+=o<d?v:-v)}return f}else{var v=roots[0]===0||roots[0]===1?.5:1,y=quadraticAt(r,n,a,roots[0]);return y<s?0:o<t?v:-v}}function windingArc(r,t,n,i,a,o,s,l){if(l-=t,l>n||l<-n)return 0;var u=Math.sqrt(n*n-l*l);roots[0]=-u,roots[1]=u;var c=Math.abs(i-a);if(c<1e-4)return 0;if(c>=PI2$1-1e-4){i=0,a=PI2$1;var f=o?1:-1;return s>=roots[0]+r&&s<=roots[1]+r?f:0}if(i>a){var d=i;i=a,a=d}i<0&&(i+=PI2$1,a+=PI2$1);for(var g=0,v=0;v<2;v++){var y=roots[v];if(y+r>s){var _=Math.atan2(l,y),f=o?1:-1;_<0&&(_=PI2$1+_),(_>=i&&_<=a||_+PI2$1>=i&&_+PI2$1<=a)&&(_>Math.PI/2&&_<Math.PI*1.5&&(f=-f),g+=f)}}return g}function containPath(r,t,n,i,a){for(var o=r.data,s=r.len(),l=0,u=0,c=0,f=0,d=0,g,v,y=0;y<s;){var _=o[y++],x=y===1;switch(_===CMD$1.M&&y>1&&(n||(l+=windingLine(u,c,f,d,i,a))),x&&(u=o[y],c=o[y+1],f=u,d=c),_){case CMD$1.M:f=o[y++],d=o[y++],u=f,c=d;break;case CMD$1.L:if(n){if(containStroke$4(u,c,o[y],o[y+1],t,i,a))return!0}else l+=windingLine(u,c,o[y],o[y+1],i,a)||0;u=o[y++],c=o[y++];break;case CMD$1.C:if(n){if(containStroke$3(u,c,o[y++],o[y++],o[y++],o[y++],o[y],o[y+1],t,i,a))return!0}else l+=windingCubic(u,c,o[y++],o[y++],o[y++],o[y++],o[y],o[y+1],i,a)||0;u=o[y++],c=o[y++];break;case CMD$1.Q:if(n){if(containStroke$2(u,c,o[y++],o[y++],o[y],o[y+1],t,i,a))return!0}else l+=windingQuadratic(u,c,o[y++],o[y++],o[y],o[y+1],i,a)||0;u=o[y++],c=o[y++];break;case CMD$1.A:var S=o[y++],b=o[y++],E=o[y++],M=o[y++],D=o[y++],w=o[y++];y+=1;var I=!!(1-o[y++]);g=Math.cos(D)*E+S,v=Math.sin(D)*M+b,x?(f=g,d=v):l+=windingLine(u,c,g,v,i,a);var R=(i-S)*M/E+S;if(n){if(containStroke$1(S,b,M,D,D+w,I,t,R,a))return!0}else l+=windingArc(S,b,M,D,D+w,I,R,a);u=Math.cos(D+w)*E+S,c=Math.sin(D+w)*M+b;break;case CMD$1.R:f=u=o[y++],d=c=o[y++];var P=o[y++],O=o[y++];if(g=f+P,v=d+O,n){if(containStroke$4(f,d,g,d,t,i,a)||containStroke$4(g,d,g,v,t,i,a)||containStroke$4(g,v,f,v,t,i,a)||containStroke$4(f,v,f,d,t,i,a))return!0}else l+=windingLine(g,d,g,v,i,a),l+=windingLine(f,v,f,d,i,a);break;case CMD$1.Z:if(n){if(containStroke$4(u,c,f,d,t,i,a))return!0}else l+=windingLine(u,c,f,d,i,a);u=f,c=d;break}}return!n&&!isAroundEqual(c,d)&&(l+=windingLine(u,c,f,d,i,a)||0),l!==0}function contain$1(r,t,n){return containPath(r,0,!1,t,n)}function containStroke(r,t,n,i){return containPath(r,t,!0,n,i)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.update=function(){var n=this;r.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(u){n.buildPath(u,n.shape)}),a.silent=!0;var o=a.style;for(var s in i)o[s]!==i[s]&&(o[s]=i[s]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var l=0;l<pathCopyParams.length;++l)a[pathCopyParams[l]]=this[pathCopyParams[l]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var i=keys(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var o=0;o<i.length;o++){var s=i[o],l=n[s];s==="style"?this.style?extend(this.style,l):this.useStyle(l):s==="shape"?extend(this.shape,l):r.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString(n)){var i=lum(n,0);return i>.5?DARK_LABEL_COLOR:i>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},t.prototype.getInsideTextStroke=function(n){var i=this.style.fill;if(isString(i)){var a=this.__zr,o=!!(a&&a.isDarkMode()),s=lum(n,0)<DARK_MODE_THRESHOLD;if(o===s)return i}},t.prototype.buildPath=function(n,i,a){},t.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},t.prototype.hasStroke=function(){var n=this.style,i=n.stroke;return!(i==null||i==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,i=this.style,a=!n;if(a){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&SHAPE_CHANGED_BIT)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){l.copy(n);var u=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;if(!this.hasFill()){var f=this.strokeContainThreshold;c=Math.max(c,f??4)}u>1e-10&&(l.width+=c/u,l.height+=c/u,l.x-=c/u/2,l.y-=c/u/2)}return l}return n},t.prototype.contain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect(),s=this.style;if(n=a[0],i=a[1],o.contain(n,i)){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),containStroke(l,u/c,n,i)))return!0}if(this.hasFill())return contain$1(l,n,i)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,i){n==="shape"?this.setShape(i):r.prototype.attrKV.call(this,n,i)},t.prototype.setShape=function(n,i){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=i:extend(a,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.shape&&!i.shape&&(i.shape=extend({},this.shape))},t.prototype._applyStateObj=function(n,i,a,o,s,l){r.prototype._applyStateObj.call(this,n,i,a,o,s,l);var u=!(i&&o),c;if(i&&i.shape?s?o?c=i.shape:(c=extend({},a.shape),extend(c,i.shape)):(c=extend({},o?this.shape:a.shape),extend(c,i.shape)):u&&(c=a.shape),c)if(s){this.shape=extend({},this.shape);for(var f={},d=keys(c),g=0;g<d.length;g++){var v=d[g];typeof c[v]=="object"?this.shape[v]=c[v]:f[v]=c[v]}this._transitionState(n,{shape:f},l)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var i=r.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.shape&&(a=a||{},this._mergeStyle(a,s.shape))}return a&&(i.shape=a),i},t.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var i=(function(o){__extends(s,o);function s(l){var u=o.call(this,l)||this;return n.init&&n.init.call(u,l),u}return s.prototype.getDefaultStyle=function(){return clone$2(n.style)},s.prototype.getDefaultShape=function(){return clone$2(n.shape)},s})(t);for(var a in n)typeof n[a]=="function"&&(i.prototype[a]=n[a]);return i},t.initDefaultProps=(function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT})(),t})(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return tSpanHasStroke(this.style)},t.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},t.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=tSpanCreateBoundingRect(this.style)),this._rect},t.initDefaultProps=(function(){var n=t.prototype;n.dirtyRectTolerance=10})(),t})(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},t.prototype._getSize=function(n){var i=this.style,a=i[n];if(a!=null)return a;var o=isImageLike(i.image)?i.image:this.__image;if(!o)return 0;var s=n==="width"?"height":"width",l=i[s];return l==null?o[n]:o[n]/o[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t})(Displayable);ZRImage.prototype.type="image";function buildPath$2(r,t){var n=t.x,i=t.y,a=t.width,o=t.height,s=t.r,l,u,c,f;a<0&&(n=n+a,a=-a),o<0&&(i=i+o,o=-o),typeof s=="number"?l=u=c=f=s:s instanceof Array?s.length===1?l=u=c=f=s[0]:s.length===2?(l=c=s[0],u=f=s[1]):s.length===3?(l=s[0],u=f=s[1],c=s[2]):(l=s[0],u=s[1],c=s[2],f=s[3]):l=u=c=f=0;var d;l+u>a&&(d=l+u,l*=a/d,u*=a/d),c+f>a&&(d=c+f,c*=a/d,f*=a/d),u+c>o&&(d=u+c,u*=o/d,c*=o/d),l+f>o&&(d=l+f,l*=o/d,f*=o/d),r.moveTo(n+l,i),r.lineTo(n+a-u,i),u!==0&&r.arc(n+a-u,i+u,u,-Math.PI/2,0),r.lineTo(n+a,i+o-c),c!==0&&r.arc(n+a-c,i+o-c,c,0,Math.PI/2),r.lineTo(n+f,i+o),f!==0&&r.arc(n+f,i+o-f,f,Math.PI/2,Math.PI),r.lineTo(n,i+l),l!==0&&r.arc(n+l,i+l,l,Math.PI,Math.PI*1.5)}var round=Math.round;function subPixelOptimizeLine$1(r,t,n){if(t){var i=t.x1,a=t.x2,o=t.y1,s=t.y2;r.x1=i,r.x2=a,r.y1=o,r.y2=s;var l=n&&n.lineWidth;return l&&(round(i*2)===round(a*2)&&(r.x1=r.x2=subPixelOptimize$1(i,l,!0)),round(o*2)===round(s*2)&&(r.y1=r.y2=subPixelOptimize$1(o,l,!0))),r}}function subPixelOptimizeRect$1(r,t,n){if(t){var i=t.x,a=t.y,o=t.width,s=t.height;r.x=i,r.y=a,r.width=o,r.height=s;var l=n&&n.lineWidth;return l&&(r.x=subPixelOptimize$1(i,l,!0),r.y=subPixelOptimize$1(a,l,!0),r.width=Math.max(subPixelOptimize$1(i+o,l,!1)-r.x,o===0?0:1),r.height=Math.max(subPixelOptimize$1(a+s,l,!1)-r.y,s===0?0:1)),r}}function subPixelOptimize$1(r,t,n){if(!t)return r;var i=round(r*2);return(i+round(t))%2===0?i/2:(i+(n?1:-1))/2}var RectShape=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),subPixelOptimizeOutputShape$1={},Rect=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RectShape},t.prototype.buildPath=function(n,i){var a,o,s,l;if(this.subPixelOptimize){var u=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,i,this.style);a=u.x,o=u.y,s=u.width,l=u.height,u.r=i.r,i=u}else a=i.x,o=i.y,s=i.width,l=i.height;i.r?buildPath$2(n,i):n.rect(a,o,s,l)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(Path);Rect.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,tmpCITOverflowAreaOut={},DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=(function(r){__extends(t,r);function t(n){var i=r.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=DEFAULT_RICH_TEXT_COLOR,i.attr(n),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var i=this._children[n];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var i=this.innerTransformable;return i?i.getLocalTransform(n):r.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=n},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect(0,0,0,0),i=this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s],u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(n.copy(u),n.applyTransform(c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}this._rect=o||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,i){if(!i)return n;var a=i.rich,o=n.rich||a&&{};return extend(n,i),a&&o?(this._mergeRich(o,a),n.rich=o):o&&(n.rich=o),n},t.prototype._mergeRich=function(n,i){for(var a=keys(i),o=0;o<a.length;o++){var s=a[o];n[s]=n[s]||{},extend(n[s],i[s])}},t.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},t.prototype._getOrCreateChild=function(n){var i=this._children[this._childCursor];return(!i||!(i instanceof n))&&(i=new n),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var n=this.style,i=n.font||DEFAULT_FONT,a=n.padding,o=this._defaultStyle,s=n.x||0,l=n.y||0,u=n.align||o.align||"left",c=n.verticalAlign||o.verticalAlign||"top";calcInnerTextOverflowArea(tmpCITOverflowAreaOut,o.overflowRect,s,l,u,c),s=tmpCITOverflowAreaOut.baseX,l=tmpCITOverflowAreaOut.baseY;var f=getStyleText(n),d=parsePlainText(f,n,tmpCITOverflowAreaOut.outerWidth,tmpCITOverflowAreaOut.outerHeight),g=needDrawBackground(n),v=!!n.backgroundColor,y=d.outerHeight,_=d.outerWidth,x=d.lines,S=d.lineHeight;this.isTruncated=!!d.isTruncated;var b=s,E=adjustTextY(l,d.contentHeight,c);if(g||a){var M=adjustTextX(s,_,u),D=adjustTextY(l,y,c);g&&this._renderBackground(n,n,M,D,_,y)}E+=S/2,a&&(b=getTextXForPadding(s,u,a),c==="top"?E+=a[0]:c==="bottom"&&(E-=a[2]));for(var w=0,I=!1,R=!1,P=getFill("fill"in n?n.fill:(R=!0,o.fill)),O=getStroke("stroke"in n?n.stroke:!v&&(!o.autoStroke||R)?(w=DEFAULT_STROKE_LINE_WIDTH,I=!0,o.stroke):null),L=n.textShadowBlur>0,$=0;$<x.length;$++){var N=this._getOrCreateChild(TSpan),F=N.createStyle();N.useStyle(F),F.text=x[$],F.x=b,F.y=E,F.textAlign=u,F.textBaseline="middle",F.opacity=n.opacity,F.strokeFirst=!0,L&&(F.shadowBlur=n.textShadowBlur||0,F.shadowColor=n.textShadowColor||"transparent",F.shadowOffsetX=n.textShadowOffsetX||0,F.shadowOffsetY=n.textShadowOffsetY||0),F.stroke=O,F.fill=P,O&&(F.lineWidth=n.lineWidth||w,F.lineDash=n.lineDash,F.lineDashOffset=n.lineDashOffset||0),F.font=i,setSeparateFont(F,n),E+=S,N.setBoundingRect(tSpanCreateBoundingRect2(F,d.contentWidth,d.calculatedLineHeight,I?0:null))}},t.prototype._updateRichTexts=function(){var n=this.style,i=this._defaultStyle,a=n.align||i.align,o=n.verticalAlign||i.verticalAlign,s=n.x||0,l=n.y||0;calcInnerTextOverflowArea(tmpCITOverflowAreaOut,i.overflowRect,s,l,a,o),s=tmpCITOverflowAreaOut.baseX,l=tmpCITOverflowAreaOut.baseY;var u=getStyleText(n),c=parseRichText(u,n,tmpCITOverflowAreaOut.outerWidth,tmpCITOverflowAreaOut.outerHeight,a),f=c.width,d=c.outerWidth,g=c.outerHeight,v=n.padding;this.isTruncated=!!c.isTruncated;var y=adjustTextX(s,d,a),_=adjustTextY(l,g,o),x=y,S=_;v&&(x+=v[3],S+=v[0]);var b=x+f;needDrawBackground(n)&&this._renderBackground(n,n,y,_,d,g);for(var E=!!n.backgroundColor,M=0;M<c.lines.length;M++){for(var D=c.lines[M],w=D.tokens,I=w.length,R=D.lineHeight,P=D.width,O=0,L=x,$=b,N=I-1,F=void 0;O<I&&(F=w[O],!F.align||F.align==="left");)this._placeToken(F,n,R,S,L,"left",E),P-=F.width,L+=F.width,O++;for(;N>=0&&(F=w[N],F.align==="right");)this._placeToken(F,n,R,S,$,"right",E),P-=F.width,$-=F.width,N--;for(L+=(f-(L-x)-(b-$)-P)/2;O<=N;)F=w[O],this._placeToken(F,n,R,S,L+F.width/2,"center",E),L+=F.width,O++;S+=R}},t.prototype._placeToken=function(n,i,a,o,s,l,u){var c=i.rich[n.styleName]||{};c.text=n.text;var f=n.verticalAlign,d=o+a/2;f==="top"?d=o+n.height/2:f==="bottom"&&(d=o+a-n.height/2);var g=!n.isLineHolder&&needDrawBackground(c);g&&this._renderBackground(c,i,l==="right"?s-n.width:l==="center"?s-n.width/2:s,d-n.height/2,n.width,n.height);var v=!!c.backgroundColor,y=n.textPadding;y&&(s=getTextXForPadding(s,l,y),d-=n.height/2-y[0]-n.innerHeight/2);var _=this._getOrCreateChild(TSpan),x=_.createStyle();_.useStyle(x);var S=this._defaultStyle,b=!1,E=0,M=!1,D=getFill("fill"in c?c.fill:"fill"in i?i.fill:(b=!0,S.fill)),w=getStroke("stroke"in c?c.stroke:"stroke"in i?i.stroke:!v&&!u&&(!S.autoStroke||b)?(E=DEFAULT_STROKE_LINE_WIDTH,M=!0,S.stroke):null),I=c.textShadowBlur>0||i.textShadowBlur>0;x.text=n.text,x.x=s,x.y=d,I&&(x.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,x.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",x.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,x.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),x.textAlign=l,x.textBaseline="middle",x.font=n.font||DEFAULT_FONT,x.opacity=retrieve3(c.opacity,i.opacity,1),setSeparateFont(x,c),w&&(x.lineWidth=retrieve3(c.lineWidth,i.lineWidth,E),x.lineDash=retrieve2(c.lineDash,i.lineDash),x.lineDashOffset=i.lineDashOffset||0,x.stroke=w),D&&(x.fill=D),_.setBoundingRect(tSpanCreateBoundingRect2(x,n.contentWidth,n.contentHeight,M?0:null))},t.prototype._renderBackground=function(n,i,a,o,s,l){var u=n.backgroundColor,c=n.borderWidth,f=n.borderColor,d=u&&u.image,g=u&&!d,v=n.borderRadius,y=this,_,x;if(g||n.lineHeight||c&&f){_=this._getOrCreateChild(Rect),_.useStyle(_.createStyle()),_.style.fill=null;var S=_.shape;S.x=a,S.y=o,S.width=s,S.height=l,S.r=v,_.dirtyShape()}if(g){var b=_.style;b.fill=u||null,b.fillOpacity=retrieve2(n.fillOpacity,1)}else if(d){x=this._getOrCreateChild(ZRImage),x.onload=function(){y.dirtyStyle()};var E=x.style;E.image=u.image,E.x=a,E.y=o,E.width=s,E.height=l}if(c&&f){var b=_.style;b.lineWidth=c,b.stroke=f,b.strokeOpacity=retrieve2(n.strokeOpacity,1),b.lineDash=n.borderDash,b.lineDashOffset=n.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var M=(_||x).style;M.shadowBlur=n.shadowBlur||0,M.shadowColor=n.shadowColor||"transparent",M.shadowOffsetX=n.shadowOffsetX||0,M.shadowOffsetY=n.shadowOffsetY||0,M.opacity=retrieve3(n.opacity,i.opacity,1)},t.makeFont=function(n){var i="";return hasSeparateFont(n)&&(i=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),i&&trim(i)||n.textFont||n.font},t})(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,t){for(var n=0;n<FONT_PARTS.length;n++){var i=FONT_PARTS[n],a=t[i];a!=null&&(r[i]=a)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$4(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||VALID_TEXT_ALIGN[t]?t:"left";var n=r.verticalAlign;n==="center"&&(n="middle"),r.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var i=r.padding;i&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,t,n){return t==="right"?r-n[1]:t==="center"?r+n[3]/2-n[1]/2:r+n[3]}function getStyleText(r){var t=r.text;return t!=null&&(t+=""),t}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var getECData=makeInner(),setCommonECData=function(r,t,n,i){if(i){var a=getECData(i);a.dataIndex=n,a.dataType=t,a.seriesIndex=r,a.ssrType="chart",i.type==="group"&&i.traverse(function(o){var s=getECData(o);s.seriesIndex=r,s.dataIndex=n,s.dataType=t,s.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect",SELECT_CHANGED_EVENT_TYPE="selectchanged";function hasFillOrStroke(r){return r!=null&&r!=="none"}function doChangeHoverState(r,t,n){r.onHoverStateChange&&(r.hoverState||0)!==n&&r.onHoverStateChange(t),r.hoverState=n}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,t,n){t(r,n)}function traverseUpdateState(r,t,n){updateElementState(r,t,n),r.isGroup&&r.traverse(function(i){updateElementState(i,t,n)})}function setStatesFlag(r,t){switch(t){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,t,n,i){for(var a=r.style,o={},s=0;s<t.length;s++){var l=t[s],u=a[l];o[l]=u??(i&&i[l])}for(var s=0;s<r.animators.length;s++){var c=r.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName==="style"&&c.saveTo(o,t)}return o}function createEmphasisDefaultState(r,t,n,i){var a=n&&indexOf(n,"select")>=0,o=!1;if(r instanceof Path){var s=getSavedStates(r),l=a&&s.selectFill||s.normalFill,u=a&&s.selectStroke||s.normalStroke;if(hasFillOrStroke(l)||hasFillOrStroke(u)){i=i||{};var c=i.style||{};c.fill==="inherit"?(o=!0,i=extend({},i),c=extend({},c),c.fill=l):!hasFillOrStroke(c.fill)&&hasFillOrStroke(l)?(o=!0,i=extend({},i),c=extend({},c),c.fill=liftColor(l)):!hasFillOrStroke(c.stroke)&&hasFillOrStroke(u)&&(o||(i=extend({},i),c=extend({},c)),c.stroke=liftColor(u)),i.style=c}}if(i&&i.z2==null){o||(i=extend({},i));var f=r.z2EmphasisLift;i.z2=r.z2+(f??Z2_EMPHASIS_LIFT)}return i}function createSelectDefaultState(r,t,n){if(n&&n.z2==null){n=extend({},n);var i=r.z2SelectLift;n.z2=r.z2+(i??Z2_SELECT_LIFT)}return n}function createBlurDefaultState(r,t,n){var i=indexOf(r.currentStates,t)>=0,a=r.style.opacity,o=i?null:getFromStateStyle(r,["opacity"],t,{opacity:1});n=n||{};var s=n.style||{};return s.opacity==null&&(n=extend({},n),s=extend({opacity:i?a:o.opacity*.1},s),n.style=s),n}function elementStateProxy(r,t){var n=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,t,n);if(r==="blur")return createBlurDefaultState(this,r,n);if(r==="select")return createSelectDefaultState(this,r,n)}return n}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var t=r.getTextContent(),n=r.getTextGuideLine();t&&(t.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,t){r.__highByOuter|=1<<(t||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function allLeaveBlur(r){var t=r.getModel(),n=[],i=[];t.eachComponent(function(a,o){var s=getComponentStates(o),l=a==="series",u=l?r.getViewOfSeriesModel(o):r.getViewOfComponentModel(o);!l&&i.push(u),s.isBlured&&(u.group.traverse(function(c){singleLeaveBlur(c)}),l&&n.push(o)),s.isBlured=!1}),each$4(i,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,t)})}function blurSeries(r,t,n,i){var a=i.getModel();n=n||"coordinateSystem";function o(c,f){for(var d=0;d<f.length;d++){var g=c.getItemGraphicEl(f[d]);g&&leaveBlur(g)}}if(r!=null&&!(!t||t==="none")){var s=a.getSeriesByIndex(r),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];a.eachSeries(function(c){var f=s===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var g=d&&l?d===l:f;if(!(n==="series"&&!f||n==="coordinateSystem"&&!g||t==="series"&&f)){var v=i.getViewOfSeriesModel(c);if(v.group.traverse(function(x){x.__highByOuter&&f&&t==="self"||singleEnterBlur(x)}),isArrayLike(t))o(c.getData(),t);else if(isObject$2(t))for(var y=keys(t),_=0;_<y.length;_++)o(c.getData(y[_]),t[y[_]]);u.push(c),getComponentStates(c).isBlured=!0}}),a.eachComponent(function(c,f){if(c!=="series"){var d=i.getViewOfComponentModel(f);d&&d.toggleBlurSeries&&d.toggleBlurSeries(u,!0,a)}})}}function blurComponent(r,t,n){if(!(r==null||t==null)){var i=n.getModel().getComponent(r,t);if(i){getComponentStates(i).isBlured=!0;var a=n.getViewOfComponentModel(i);!a||!a.focusBlurEnabled||a.group.traverse(function(o){singleEnterBlur(o)})}}}function blurSeriesFromHighlightPayload(r,t,n){var i=r.seriesIndex,a=r.getData(t.dataType);if(a){var o=queryDataIndex(a,t);o=(isArray(o)?o[0]:o)||0;var s=a.getItemGraphicEl(o);if(!s)for(var l=a.count(),u=0;!s&&u<l;)s=a.getItemGraphicEl(u++);if(s){var c=getECData(s);blurSeries(i,c.focus,c.blurScope,n)}else{var f=r.get(["emphasis","focus"]),d=r.get(["emphasis","blurScope"]);f!=null&&blurSeries(i,f,d,n)}}}function findComponentHighDownDispatchers(r,t,n,i){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||n==null)return a;var o=i.getModel().getComponent(r,t);if(!o)return a;var s=i.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return a;for(var l=s.findHighDownDispatchers(n),u,c=0;c<l.length;c++)if(getECData(l[c]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:l}}function handleGlobalMouseOverForHighDown(r,t,n){var i=getECData(r),a=findComponentHighDownDispatchers(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=a.dispatchers,s=a.focusSelf;o?(s&&blurComponent(i.componentMainType,i.componentIndex,n),each$4(o,function(l){return enterEmphasisWhenMouseOver(l,t)})):(blurSeries(i.seriesIndex,i.focus,i.blurScope,n),i.focus==="self"&&blurComponent(i.componentMainType,i.componentIndex,n),enterEmphasisWhenMouseOver(r,t))}function handleGlobalMouseOutForHighDown(r,t,n){allLeaveBlur(n);var i=getECData(r),a=findComponentHighDownDispatchers(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;a?each$4(a,function(o){return leaveEmphasisWhenMouseOut(o,t)}):leaveEmphasisWhenMouseOut(r,t)}function toggleSelectionFromPayload(r,t,n){if(isSelectChangePayload(t)){var i=t.dataType,a=r.getData(i),o=queryDataIndex(a,t);isArray(o)||(o=[o]),r[t.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":t.type===SELECT_ACTION_TYPE?"select":"unselect"](o,i)}}function updateSeriesElementSelection(r){var t=r.getAllData();each$4(t,function(n){var i=n.data,a=n.type;i.eachItemGraphicEl(function(o,s){r.isSelected(s,a)?enterSelect(o):leaveSelect(o)})})}function getAllSelectedIndices(r){var t=[];return r.eachSeries(function(n){var i=n.getAllData();each$4(i,function(a){a.data;var o=a.type,s=n.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:n.seriesIndex};o!=null&&(l.dataType=o),t.push(l)}})}),t}function enableHoverEmphasis(r,t,n){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,t,n)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,t,n,i){i?disableHoverEmphasis(r):enableHoverEmphasis(r,t,n)}function enableHoverFocus(r,t,n){var i=getECData(r);t!=null?(i.focus=t,i.blurScope=n):i.focus&&(i.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,t,n,i){n=n||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var o=OTHER_STATES[a],s=t.getModel([o,n]),l=r.ensureState(o);l.style=s[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(r,t){var n=t===!1,i=r;r.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!n||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function getHighlightDigit(r){var t=_highlightKeyMap[r];return t==null&&_highlightNextDigit<=32&&(t=_highlightKeyMap[r]=_highlightNextDigit++),t}function isSelectChangePayload(r){var t=r.type;return t===SELECT_ACTION_TYPE||t===UNSELECT_ACTION_TYPE||t===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var t=r.type;return t===HIGHLIGHT_ACTION_TYPE||t===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var t=getSavedStates(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var n=r.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var CMD=PathProxy.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,t){if(t){var n=r.data,i=r.len(),a,o,s,l,u,c,f=CMD.M,d=CMD.C,g=CMD.L,v=CMD.R,y=CMD.A,_=CMD.Q;for(s=0,l=0;s<i;){switch(a=n[s++],l=s,o=0,a){case f:o=1;break;case g:o=1;break;case d:o=3;break;case _:o=2;break;case y:var x=t[4],S=t[5],b=mathSqrt$2(t[0]*t[0]+t[1]*t[1]),E=mathSqrt$2(t[2]*t[2]+t[3]*t[3]),M=mathAtan2(-t[1]/E,t[0]/b);n[s]*=b,n[s++]+=x,n[s]*=E,n[s++]+=S,n[s++]*=b,n[s++]*=E,n[s++]+=M,n[s++]+=M,s+=2,l=s;break;case v:c[0]=n[s++],c[1]=n[s++],applyTransform$1(c,c,t),n[l++]=c[0],n[l++]=c[1],c[0]+=n[s++],c[1]+=n[s++],applyTransform$1(c,c,t),n[l++]=c[0],n[l++]=c[1]}for(u=0;u<o;u++){var D=points[u];D[0]=n[s++],D[1]=n[s++],applyTransform$1(D,D,t),n[l++]=D[0],n[l++]=D[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$1=Math.sin,mathCos$1=Math.cos,PI$3=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,t){return(r[0]*t[0]+r[1]*t[1])/(vMag(r)*vMag(t))}function vAngle(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(vRatio(r,t))}function processArc(r,t,n,i,a,o,s,l,u,c,f){var d=u*(PI$3/180),g=mathCos$1(d)*(r-n)/2+mathSin$1(d)*(t-i)/2,v=-1*mathSin$1(d)*(r-n)/2+mathCos$1(d)*(t-i)/2,y=g*g/(s*s)+v*v/(l*l);y>1&&(s*=mathSqrt$1(y),l*=mathSqrt$1(y));var _=(a===o?-1:1)*mathSqrt$1((s*s*(l*l)-s*s*(v*v)-l*l*(g*g))/(s*s*(v*v)+l*l*(g*g)))||0,x=_*s*v/l,S=_*-l*g/s,b=(r+n)/2+mathCos$1(d)*x-mathSin$1(d)*S,E=(t+i)/2+mathSin$1(d)*x+mathCos$1(d)*S,M=vAngle([1,0],[(g-x)/s,(v-S)/l]),D=[(g-x)/s,(v-S)/l],w=[(-1*g-x)/s,(-1*v-S)/l],I=vAngle(D,w);if(vRatio(D,w)<=-1&&(I=PI$3),vRatio(D,w)>=1&&(I=0),I<0){var R=Math.round(I/PI$3*1e6)/1e6;I=PI$3*2+R%2*PI$3}f.addData(c,b,E,s,l,M,I,d,o)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var t=new PathProxy;if(!r)return t;var n=0,i=0,a=n,o=i,s,l=PathProxy.CMD,u=r.match(commandReg);if(!u)return t;for(var c=0;c<u.length;c++){for(var f=u[c],d=f.charAt(0),g=void 0,v=f.match(numberReg)||[],y=v.length,_=0;_<y;_++)v[_]=parseFloat(v[_]);for(var x=0;x<y;){var S=void 0,b=void 0,E=void 0,M=void 0,D=void 0,w=void 0,I=void 0,R=n,P=i,O=void 0,L=void 0;switch(d){case"l":n+=v[x++],i+=v[x++],g=l.L,t.addData(g,n,i);break;case"L":n=v[x++],i=v[x++],g=l.L,t.addData(g,n,i);break;case"m":n+=v[x++],i+=v[x++],g=l.M,t.addData(g,n,i),a=n,o=i,d="l";break;case"M":n=v[x++],i=v[x++],g=l.M,t.addData(g,n,i),a=n,o=i,d="L";break;case"h":n+=v[x++],g=l.L,t.addData(g,n,i);break;case"H":n=v[x++],g=l.L,t.addData(g,n,i);break;case"v":i+=v[x++],g=l.L,t.addData(g,n,i);break;case"V":i=v[x++],g=l.L,t.addData(g,n,i);break;case"C":g=l.C,t.addData(g,v[x++],v[x++],v[x++],v[x++],v[x++],v[x++]),n=v[x-2],i=v[x-1];break;case"c":g=l.C,t.addData(g,v[x++]+n,v[x++]+i,v[x++]+n,v[x++]+i,v[x++]+n,v[x++]+i),n+=v[x-2],i+=v[x-1];break;case"S":S=n,b=i,O=t.len(),L=t.data,s===l.C&&(S+=n-L[O-4],b+=i-L[O-3]),g=l.C,R=v[x++],P=v[x++],n=v[x++],i=v[x++],t.addData(g,S,b,R,P,n,i);break;case"s":S=n,b=i,O=t.len(),L=t.data,s===l.C&&(S+=n-L[O-4],b+=i-L[O-3]),g=l.C,R=n+v[x++],P=i+v[x++],n+=v[x++],i+=v[x++],t.addData(g,S,b,R,P,n,i);break;case"Q":R=v[x++],P=v[x++],n=v[x++],i=v[x++],g=l.Q,t.addData(g,R,P,n,i);break;case"q":R=v[x++]+n,P=v[x++]+i,n+=v[x++],i+=v[x++],g=l.Q,t.addData(g,R,P,n,i);break;case"T":S=n,b=i,O=t.len(),L=t.data,s===l.Q&&(S+=n-L[O-4],b+=i-L[O-3]),n=v[x++],i=v[x++],g=l.Q,t.addData(g,S,b,n,i);break;case"t":S=n,b=i,O=t.len(),L=t.data,s===l.Q&&(S+=n-L[O-4],b+=i-L[O-3]),n+=v[x++],i+=v[x++],g=l.Q,t.addData(g,S,b,n,i);break;case"A":E=v[x++],M=v[x++],D=v[x++],w=v[x++],I=v[x++],R=n,P=i,n=v[x++],i=v[x++],g=l.A,processArc(R,P,n,i,w,I,E,M,D,g,t);break;case"a":E=v[x++],M=v[x++],D=v[x++],w=v[x++],I=v[x++],R=n,P=i,n+=v[x++],i+=v[x++],g=l.A,processArc(R,P,n,i,w,I,E,M,D,g,t);break}}(d==="z"||d==="Z")&&(g=l.Z,t.addData(g),n=a,i=o),s=g}return t.toStatic(),t}var SVGPath=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t})(Path);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,t){var n=createPathProxyFromString(r),i=extend({},t);return i.buildPath=function(a){var o=isPathProxy(a);if(o&&a.canSave()){a.appendPath(n);var s=a.getContext();s&&a.rebuildPath(s,1)}else{var s=o?a.getContext():a;s&&n.rebuildPath(s,1)}},i.applyTransform=function(a){transformPath(n,a),this.dirtyShape()},i}function createFromString(r,t){return new SVGPath(createPathOptions(r,t))}function extendFromString(r,t){var n=createPathOptions(r,t),i=(function(a){__extends(o,a);function o(s){var l=a.call(this,s)||this;return l.applyTransform=n.applyTransform,l.buildPath=n.buildPath,l}return o})(SVGPath);return i}function mergePath$1(r,t){for(var n=[],i=r.length,a=0;a<i;a++){var o=r[a];n.push(o.getUpdatedPathProxy(!0))}var s=new Path(t);return s.createPathProxy(),s.buildPath=function(l){if(isPathProxy(l)){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u,1)}},s}var CircleShape=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),Circle=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new CircleShape},t.prototype.buildPath=function(n,i){n.moveTo(i.cx+i.r,i.cy),n.arc(i.cx,i.cy,i.r,0,Math.PI*2)},t})(Path);Circle.prototype.type="circle";var EllipseShape=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),Ellipse=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new EllipseShape},t.prototype.buildPath=function(n,i){var a=.5522848,o=i.cx,s=i.cy,l=i.rx,u=i.ry,c=l*a,f=u*a;n.moveTo(o-l,s),n.bezierCurveTo(o-l,s-f,o-c,s-u,o,s-u),n.bezierCurveTo(o+c,s-u,o+l,s-f,o+l,s),n.bezierCurveTo(o+l,s+f,o+c,s+u,o,s+u),n.bezierCurveTo(o-c,s+u,o-l,s+f,o-l,s),n.closePath()},t})(Path);Ellipse.prototype.type="ellipse";var PI$2=Math.PI,PI2=PI$2*2,mathSin=Math.sin,mathCos=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$3=Math.max,mathMin$3=Math.min,e=1e-4;function intersect(r,t,n,i,a,o,s,l){var u=n-r,c=i-t,f=s-a,d=l-o,g=d*u-f*c;if(!(g*g<e))return g=(f*(t-o)-d*(r-a))/g,[r+g*u,t+g*c]}function computeCornerTangents(r,t,n,i,a,o,s){var l=r-n,u=t-i,c=(s?o:-o)/mathSqrt(l*l+u*u),f=c*u,d=-c*l,g=r+f,v=t+d,y=n+f,_=i+d,x=(g+y)/2,S=(v+_)/2,b=y-g,E=_-v,M=b*b+E*E,D=a-o,w=g*_-y*v,I=(E<0?-1:1)*mathSqrt(mathMax$3(0,D*D*M-w*w)),R=(w*E-b*I)/M,P=(-w*b-E*I)/M,O=(w*E+b*I)/M,L=(-w*b+E*I)/M,$=R-x,N=P-S,F=O-x,Y=L-S;return $*$+N*N>F*F+Y*Y&&(R=O,P=L),{cx:R,cy:P,x0:-f,y0:-d,x1:R*(a/D-1),y1:P*(a/D-1)}}function normalizeCornerRadius(r){var t;if(isArray(r)){var n=r.length;if(!n)return r;n===1?t=[r[0],r[0],0,0]:n===2?t=[r[0],r[0],r[1],r[1]]:n===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function buildPath$1(r,t){var n,i=mathMax$3(t.r,0),a=mathMax$3(t.r0||0,0),o=i>0,s=a>0;if(!(!o&&!s)){if(o||(i=a,a=0),a>i){var l=i;i=a,a=l}var u=t.startAngle,c=t.endAngle;if(!(isNaN(u)||isNaN(c))){var f=t.cx,d=t.cy,g=!!t.clockwise,v=mathAbs$1(c-u),y=v>PI2&&v%PI2;if(y>e&&(v=y),!(i>e))r.moveTo(f,d);else if(v>PI2-e)r.moveTo(f+i*mathCos(u),d+i*mathSin(u)),r.arc(f,d,i,u,c,!g),a>e&&(r.moveTo(f+a*mathCos(c),d+a*mathSin(c)),r.arc(f,d,a,c,u,g));else{var _=void 0,x=void 0,S=void 0,b=void 0,E=void 0,M=void 0,D=void 0,w=void 0,I=void 0,R=void 0,P=void 0,O=void 0,L=void 0,$=void 0,N=void 0,F=void 0,Y=i*mathCos(u),G=i*mathSin(u),W=a*mathCos(c),U=a*mathSin(c),j=v>e;if(j){var ee=t.cornerRadius;ee&&(n=normalizeCornerRadius(ee),_=n[0],x=n[1],S=n[2],b=n[3]);var re=mathAbs$1(i-a)/2;if(E=mathMin$3(re,S),M=mathMin$3(re,b),D=mathMin$3(re,_),w=mathMin$3(re,x),P=I=mathMax$3(E,M),O=R=mathMax$3(D,w),(I>e||R>e)&&(L=i*mathCos(c),$=i*mathSin(c),N=a*mathCos(u),F=a*mathSin(u),v<PI$2)){var q=intersect(Y,G,N,F,L,$,W,U);if(q){var Q=Y-q[0],fe=G-q[1],de=L-q[0],le=$-q[1],ce=1/mathSin(mathACos((Q*de+fe*le)/(mathSqrt(Q*Q+fe*fe)*mathSqrt(de*de+le*le)))/2),me=mathSqrt(q[0]*q[0]+q[1]*q[1]);P=mathMin$3(I,(i-me)/(ce+1)),O=mathMin$3(R,(a-me)/(ce-1))}}}if(!j)r.moveTo(f+Y,d+G);else if(P>e){var ge=mathMin$3(S,P),ve=mathMin$3(b,P),oe=computeCornerTangents(N,F,Y,G,i,ge,g),V=computeCornerTangents(L,$,W,U,i,ve,g);r.moveTo(f+oe.cx+oe.x0,d+oe.cy+oe.y0),P<I&&ge===ve?r.arc(f+oe.cx,d+oe.cy,P,mathATan2(oe.y0,oe.x0),mathATan2(V.y0,V.x0),!g):(ge>0&&r.arc(f+oe.cx,d+oe.cy,ge,mathATan2(oe.y0,oe.x0),mathATan2(oe.y1,oe.x1),!g),r.arc(f,d,i,mathATan2(oe.cy+oe.y1,oe.cx+oe.x1),mathATan2(V.cy+V.y1,V.cx+V.x1),!g),ve>0&&r.arc(f+V.cx,d+V.cy,ve,mathATan2(V.y1,V.x1),mathATan2(V.y0,V.x0),!g))}else r.moveTo(f+Y,d+G),r.arc(f,d,i,u,c,!g);if(!(a>e)||!j)r.lineTo(f+W,d+U);else if(O>e){var ge=mathMin$3(_,O),ve=mathMin$3(x,O),oe=computeCornerTangents(W,U,L,$,a,-ve,g),V=computeCornerTangents(Y,G,N,F,a,-ge,g);r.lineTo(f+oe.cx+oe.x0,d+oe.cy+oe.y0),O<R&&ge===ve?r.arc(f+oe.cx,d+oe.cy,O,mathATan2(oe.y0,oe.x0),mathATan2(V.y0,V.x0),!g):(ve>0&&r.arc(f+oe.cx,d+oe.cy,ve,mathATan2(oe.y0,oe.x0),mathATan2(oe.y1,oe.x1),!g),r.arc(f,d,a,mathATan2(oe.cy+oe.y1,oe.cx+oe.x1),mathATan2(V.cy+V.y1,V.cx+V.x1),g),ge>0&&r.arc(f+V.cx,d+V.cy,ge,mathATan2(V.y1,V.x1),mathATan2(V.y0,V.x0),!g))}else r.lineTo(f+W,d+U),r.arc(f,d,a,c,u,g)}r.closePath()}}}var SectorShape=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),Sector=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SectorShape},t.prototype.buildPath=function(n,i){buildPath$1(n,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(Path);Sector.prototype.type="sector";var RingShape=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),Ring=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RingShape},t.prototype.buildPath=function(n,i){var a=i.cx,o=i.cy,s=Math.PI*2;n.moveTo(a+i.r,o),n.arc(a,o,i.r,0,s,!1),n.moveTo(a+i.r0,o),n.arc(a,o,i.r0,0,s,!0)},t})(Path);Ring.prototype.type="ring";function smoothBezier(r,t,n,i){var a=[],o=[],s=[],l=[],u,c,f,d;if(i){f=[1/0,1/0],d=[-1/0,-1/0];for(var g=0,v=r.length;g<v;g++)min$1(f,f,r[g]),max$1(d,d,r[g]);min$1(f,f,i[0]),max$1(d,d,i[1])}for(var g=0,v=r.length;g<v;g++){var y=r[g];if(n)u=r[g?g-1:v-1],c=r[(g+1)%v];else if(g===0||g===v-1){a.push(clone$1(r[g]));continue}else u=r[g-1],c=r[g+1];sub(o,c,u),scale$2(o,o,t);var _=distance(y,u),x=distance(y,c),S=_+x;S!==0&&(_/=S,x/=S),scale$2(s,o,-_),scale$2(l,o,x);var b=add([],y,s),E=add([],y,l);i&&(max$1(b,b,f),min$1(b,b,d),max$1(E,E,f),min$1(E,E,d)),a.push(b),a.push(E)}return n&&a.push(a.shift()),a}function buildPath(r,t,n){var i=t.smooth,a=t.points;if(a&&a.length>=2){if(i){var o=smoothBezier(a,i,n,t.smoothConstraint);r.moveTo(a[0][0],a[0][1]);for(var s=a.length,l=0;l<(n?s:s-1);l++){var u=o[l*2],c=o[l*2+1],f=a[(l+1)%s];r.bezierCurveTo(u[0],u[1],c[0],c[1],f[0],f[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var l=1,d=a.length;l<d;l++)r.lineTo(a[l][0],a[l][1])}n&&r.closePath()}}var PolygonShape=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),Polygon=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new PolygonShape},t.prototype.buildPath=function(n,i){buildPath(n,i,!0)},t})(Path);Polygon.prototype.type="polygon";var PolylineShape=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),Polyline=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PolylineShape},t.prototype.buildPath=function(n,i){buildPath(n,i,!1)},t})(Path);Polyline.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),Line=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LineShape},t.prototype.buildPath=function(n,i){var a,o,s,l;if(this.subPixelOptimize){var u=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,i,this.style);a=u.x1,o=u.y1,s=u.x2,l=u.y2}else a=i.x1,o=i.y1,s=i.x2,l=i.y2;var c=i.percent;c!==0&&(n.moveTo(a,o),c<1&&(s=a*(1-c)+s*c,l=o*(1-c)+l*c),n.lineTo(s,l))},t.prototype.pointAt=function(n){var i=this.shape;return[i.x1*(1-n)+i.x2*n,i.y1*(1-n)+i.y2*n]},t})(Path);Line.prototype.type="line";var out=[],BezierCurveShape=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function someVectorAt(r,t,n){var i=r.cpx2,a=r.cpy2;return i!=null||a!=null?[(n?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,t),(n?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(n?quadraticDerivativeAt:quadraticAt)(r.x1,r.cpx1,r.x2,t),(n?quadraticDerivativeAt:quadraticAt)(r.y1,r.cpy1,r.y2,t)]}var BezierCurve=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BezierCurveShape},t.prototype.buildPath=function(n,i){var a=i.x1,o=i.y1,s=i.x2,l=i.y2,u=i.cpx1,c=i.cpy1,f=i.cpx2,d=i.cpy2,g=i.percent;g!==0&&(n.moveTo(a,o),f==null||d==null?(g<1&&(quadraticSubdivide(a,u,s,g,out),u=out[1],s=out[2],quadraticSubdivide(o,c,l,g,out),c=out[1],l=out[2]),n.quadraticCurveTo(u,c,s,l)):(g<1&&(cubicSubdivide(a,u,f,s,g,out),u=out[1],f=out[2],s=out[3],cubicSubdivide(o,c,d,l,g,out),c=out[1],d=out[2],l=out[3]),n.bezierCurveTo(u,c,f,d,s,l)))},t.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},t.prototype.tangentAt=function(n){var i=someVectorAt(this.shape,n,!0);return normalize$1(i,i)},t})(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),Arc=(function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ArcShape},t.prototype.buildPath=function(n,i){var a=i.cx,o=i.cy,s=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,c=i.clockwise,f=Math.cos(l),d=Math.sin(l);n.moveTo(f*s+a,d*s+o),n.arc(a,o,s,l,u,!c)},t})(Path);Arc.prototype.type="arc";var CompoundPath=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,i=this.shapeChanged(),a=0;a<n.length;a++)i=i||n[a].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],i=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(i[0],i[1],n[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,i){for(var a=i.paths||[],o=0;o<a.length;o++)a[o].buildPath(n,a[o].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],i=0;i<n.length;i++)n[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},t})(Path),Gradient=(function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},r})(),LinearGradient=(function(r){__extends(t,r);function t(n,i,a,o,s,l){var u=r.call(this,s)||this;return u.x=n??0,u.y=i??0,u.x2=a??1,u.y2=o??0,u.type="linear",u.global=l||!1,u}return t})(Gradient),RadialGradient=(function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this,o)||this;return l.x=n??.5,l.y=i??.5,l.r=a??.5,l.type="radial",l.global=s||!1,l}return t})(Gradient),mathMin$2=Math.min,mathMax$2=Math.max,mathAbs=Math.abs,_extent=[0,0],_extent2=[0,0],_intersectCtx=createIntersectContext(),_minTv=_intersectCtx.minTv,_maxTv=_intersectCtx.maxTv,OrientedBoundingRect=(function(){function r(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Point;for(var i=0;i<2;i++)this._axes[i]=new Point;t&&this.fromBoundingRect(t,n)}return r.prototype.fromBoundingRect=function(t,n){var i=this._corners,a=this._axes,o=t.x,s=t.y,l=o+t.width,u=s+t.height;if(i[0].set(o,s),i[1].set(l,s),i[2].set(l,u),i[3].set(o,u),n)for(var c=0;c<4;c++)i[c].transform(n);Point.sub(a[0],i[1],i[0]),Point.sub(a[1],i[3],i[0]),a[0].normalize(),a[1].normalize();for(var c=0;c<2;c++)this._origin[c]=a[c].dot(i[0])},r.prototype.intersect=function(t,n,i){var a=!0,o=!n;return n&&Point.set(n,0,0),_intersectCtx.reset(i,!o),!this._intersectCheckOneSide(this,t,o,1)&&(a=!1,o)||!this._intersectCheckOneSide(t,this,o,-1)&&(a=!1,o)||!o&&!_intersectCtx.negativeSize&&Point.copy(n,a?_intersectCtx.useDir?_intersectCtx.dirMinTv:_minTv:_maxTv),a},r.prototype._intersectCheckOneSide=function(t,n,i,a){for(var o=!0,s=0;s<2;s++){var l=t._axes[s];if(t._getProjMinMaxOnAxis(s,t._corners,_extent),t._getProjMinMaxOnAxis(s,n._corners,_extent2),_intersectCtx.negativeSize||_extent[1]<_extent2[0]||_extent[0]>_extent2[1]){if(o=!1,_intersectCtx.negativeSize||i)return o;var u=mathAbs(_extent2[0]-_extent[1]),c=mathAbs(_extent[0]-_extent2[1]);mathMin$2(u,c)>_maxTv.len()&&(u<c?Point.scale(_maxTv,l,-u*a):Point.scale(_maxTv,l,c*a))}else if(!i){var u=mathAbs(_extent2[0]-_extent[1]),c=mathAbs(_extent[0]-_extent2[1]);(_intersectCtx.useDir||mathMin$2(u,c)<_minTv.len())&&((u<c||!_intersectCtx.bidirectional)&&(Point.scale(_minTv,l,u*a),_intersectCtx.useDir&&_intersectCtx.calcDirMTV()),(u>=c||!_intersectCtx.bidirectional)&&(Point.scale(_minTv,l,-c*a),_intersectCtx.useDir&&_intersectCtx.calcDirMTV()))}}return o},r.prototype._getProjMinMaxOnAxis=function(t,n,i){for(var a=this._axes[t],o=this._origin,s=n[0].dot(a)+o[t],l=s,u=s,c=1;c<n.length;c++){var f=n[c].dot(a)+o[t];l=mathMin$2(f,l),u=mathMax$2(f,u)}i[0]=l+_intersectCtx.touchThreshold,i[1]=u-_intersectCtx.touchThreshold,_intersectCtx.negativeSize=i[1]<i[0]},r})(),m=[],IncrementalDisplayable=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,i){n.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,i){i?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,i){i=i||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var i=this._cursor;i<this._displayables.length;i++)n&&n(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)n&&n(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var i=this._displayables[n];i.parent=this,i.update(),i.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var a=this._displayables[i],o=a.getBoundingRect().clone();a.needLocalTransform()&&o.applyTransform(a.getLocalTransform(m)),n.union(o)}this._rect=n}return this._rect},t.prototype.contain=function(n,i){var a=this.transformCoordToLocal(n,i),o=this.getBoundingRect();if(o.contain(a[0],a[1]))for(var s=0;s<this._displayables.length;s++){var l=this._displayables[s];if(l.contain(n,i))return!0}return!1},t})(Displayable),transitionStore=makeInner();function getAnimationConfig(r,t,n,i,a){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var l=t&&t.isAnimationEnabled(),u=r==="update";if(l){var c=void 0,f=void 0,d=void 0;i?(c=retrieve2(i.duration,200),f=retrieve2(i.easing,"cubicOut"),d=0):(c=t.getShallow(u?"animationDurationUpdate":"animationDuration"),f=t.getShallow(u?"animationEasingUpdate":"animationEasing"),d=t.getShallow(u?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(f=o.easing),o.delay!=null&&(d=o.delay)),isFunction(d)&&(d=d(n,a)),isFunction(c)&&(c=c(n));var g={duration:c||0,delay:d,easing:f};return g}else return null}function animateOrSetProps(r,t,n,i,a,o,s){var l=!1,u;isFunction(a)?(s=o,o=a,a=null):isObject$2(a)&&(o=a.cb,s=a.during,l=a.isFrom,u=a.removeOpt,a=a.dataIndex);var c=r==="leave";c||t.stopAnimation("leave");var f=getAnimationConfig(r,i,a,c?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,a):null);if(f&&f.duration>0){var d=f.duration,g=f.delay,v=f.easing,y={duration:d,delay:g||0,easing:v,done:o,force:!!o||!!s,setToFinal:!c,scope:r,during:s};l?t.animateFrom(n,y):t.animateTo(n,y)}else t.stopAnimation(),!l&&t.attr(n),s&&s(1),o&&o()}function updateProps$1(r,t,n,i,a,o){animateOrSetProps("update",r,t,n,i,a,o)}function initProps(r,t,n,i,a,o){animateOrSetProps("enter",r,t,n,i,a,o)}function isElementRemoved(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var n=r.animators[t];if(n.scope==="leave")return!0}return!1}function removeElement(r,t,n,i,a,o){isElementRemoved(r)||animateOrSetProps("leave",r,t,n,i,a,o)}function fadeOutDisplayable(r,t,n,i){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},t,n,i)}function removeElementWithFadeOut(r,t,n){function i(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(a){a.isGroup||fadeOutDisplayable(a,t,n,i)}):fadeOutDisplayable(r,t,n,i)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}var _customShapeMap={},XY$1=["x","y"],WH$1=["width","height"];function extendShape(r){return Path.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,t){return extendPathFromString(r,t)}function registerShape(r,t){_customShapeMap[r]=t}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,t,n,i){var a=createFromString(r,t);return n&&(i==="center"&&(n=centerGraphic(n,a.getBoundingRect())),resizePath(a,n)),a}function makeImage(r,t,n){var i=new ZRImage({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var o={width:a.width,height:a.height};i.setStyle(centerGraphic(t,o))}}});return i}function centerGraphic(r,t){var n=t.width/t.height,i=r.height*n,a;i<=r.width?a=r.height:(i=r.width,a=i/n);var o=r.x+r.width/2,s=r.y+r.height/2;return{x:o-i/2,y:s-a/2,width:i,height:a}}var mergePath=mergePath$1;function resizePath(r,t){if(r.applyTransform){var n=r.getBoundingRect(),i=n.calculateTransform(t);r.applyTransform(i)}}function subPixelOptimizeLine(r,t){return subPixelOptimizeLine$1(r,r,{lineWidth:t}),r}function subPixelOptimizeRect(r,t){return subPixelOptimizeRect$1(r,r,t),r}var subPixelOptimize=subPixelOptimize$1;function getTransform(r,t){for(var n=identity([]);r&&r!==t;)mul(n,r.getLocalTransform(),n),r=r.parent;return n}function applyTransform(r,t,n){return t&&!isArrayLike(t)&&(t=Transformable.getLocalTransform(t)),n&&(t=invert([],t)),applyTransform$1([],r,t)}function transformDirection(r,t,n){var i=t[4]===0||t[5]===0||t[0]===0?1:mathAbs$3(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:mathAbs$3(2*t[4]/t[2]),o=[r==="left"?-i:r==="right"?i:0,r==="top"?-a:r==="bottom"?a:0];return o=applyTransform(o,t,n),mathAbs$3(o[0])>mathAbs$3(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath(r){return r.shape!=null}function groupTransition(r,t,n){if(!r||!t)return;function i(s){var l={};return s.traverse(function(u){isNotGroup(u)&&u.anid&&(l[u.anid]=u)}),l}function a(s){var l={x:s.x,y:s.y,rotation:s.rotation};return isPath(s)&&(l.shape=clone$2(s.shape)),l}var o=i(r);t.traverse(function(s){if(isNotGroup(s)&&s.anid){var l=o[s.anid];if(l){var u=a(s);s.attr(a(l)),updateProps$1(s,u,n,getECData(s).dataIndex)}}})}function clipPointsByRect(r,t){return map$1(r,function(n){var i=n[0];i=mathMax$6(i,t.x),i=mathMin$6(i,t.x+t.width);var a=n[1];return a=mathMax$6(a,t.y),a=mathMin$6(a,t.y+t.height),[i,a]})}function clipRectByRect(r,t){var n=mathMax$6(r.x,t.x),i=mathMin$6(r.x+r.width,t.x+t.width),a=mathMax$6(r.y,t.y),o=mathMin$6(r.y+r.height,t.y+t.height);if(i>=n&&o>=a)return{x:n,y:a,width:i-n,height:o-a}}function createIcon(r,t,n){var i=extend({rectHover:!0},t),a=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(a.image=r.slice(8),defaults(a,n),new ZRImage(i)):makePath(r.replace("path://",""),i,n,"center")}function linePolygonIntersect(r,t,n,i,a){for(var o=0,s=a[a.length-1];o<a.length;o++){var l=a[o];if(lineLineIntersect(r,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function lineLineIntersect(r,t,n,i,a,o,s,l){var u=n-r,c=i-t,f=s-a,d=l-o,g=crossProduct2d(f,d,u,c);if(nearZero(g))return!1;var v=r-a,y=t-o,_=crossProduct2d(v,y,u,c)/g;if(_<0||_>1)return!1;var x=crossProduct2d(v,y,f,d)/g;return!(x<0||x>1)}function crossProduct2d(r,t,n,i){return r*i-n*t}function nearZero(r){return r<=1e-6&&r>=-1e-6}function expandOrShrinkRect(r,t,n,i,a){return t==null||(isNumber(t)?_tmpExpandRectDelta[0]=_tmpExpandRectDelta[1]=_tmpExpandRectDelta[2]=_tmpExpandRectDelta[3]=t:(_tmpExpandRectDelta[0]=t[0],_tmpExpandRectDelta[1]=t[1],_tmpExpandRectDelta[2]=t[2],_tmpExpandRectDelta[3]=t[3]),i&&(_tmpExpandRectDelta[0]=mathMax$6(0,_tmpExpandRectDelta[0]),_tmpExpandRectDelta[1]=mathMax$6(0,_tmpExpandRectDelta[1]),_tmpExpandRectDelta[2]=mathMax$6(0,_tmpExpandRectDelta[2]),_tmpExpandRectDelta[3]=mathMax$6(0,_tmpExpandRectDelta[3])),n&&(_tmpExpandRectDelta[0]=-_tmpExpandRectDelta[0],_tmpExpandRectDelta[1]=-_tmpExpandRectDelta[1],_tmpExpandRectDelta[2]=-_tmpExpandRectDelta[2],_tmpExpandRectDelta[3]=-_tmpExpandRectDelta[3]),expandRectOnOneDimension(r,_tmpExpandRectDelta,"x","width",3,1,a&&a[0]||0),expandRectOnOneDimension(r,_tmpExpandRectDelta,"y","height",0,2,a&&a[1]||0)),r}var _tmpExpandRectDelta=[0,0,0,0];function expandRectOnOneDimension(r,t,n,i,a,o,s){var l=t[o]+t[a],u=r[i];r[i]+=l,s=mathMax$6(0,mathMin$6(s,u)),r[i]<s?(r[i]=s,r[n]+=t[a]>=0?-t[a]:t[o]>=0?u+t[o]:mathAbs$3(l)>1e-8?(u-s)*t[a]/l:0):r[n]-=t[a]}function setTooltipConfig(r){var t=r.itemTooltipOption,n=r.componentModel,i=r.itemName,a=isString(t)?{formatter:t}:t,o=n.mainType,s=n.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=s;var u=r.formatterParamsExtra;u&&each$4(keys(u),function(f){hasOwn(l,f)||(l[f]=u[f],l.$vars.push(f))});var c=getECData(r.el);c.componentMainType=o,c.componentIndex=s,c.tooltipConfig={name:i,option:defaults({content:i,encodeHTMLContent:!0,formatterParams:l},a)}}function traverseElement(r,t){var n;r.isGroup&&(n=t(r)),n||r.traverse(t)}function traverseElements(r,t){if(r)if(isArray(r))for(var n=0;n<r.length;n++)traverseElement(r[n],t);else traverseElement(r,t)}function isBoundingRectAxisAligned(r){return!r||mathAbs$3(r[1])<AXIS_ALIGN_EPSILON&&mathAbs$3(r[2])<AXIS_ALIGN_EPSILON||mathAbs$3(r[0])<AXIS_ALIGN_EPSILON&&mathAbs$3(r[3])<AXIS_ALIGN_EPSILON}var AXIS_ALIGN_EPSILON=1e-5;function ensureCopyRect(r,t){return r?BoundingRect.copy(r,t):t.clone()}function ensureCopyTransform(r,t){return t?copy(r||create(),t):void 0}function retrieveZInfo(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function calcZ2Range(r){var t=-1/0,n=1/0;traverseElement(r,function(o){i(o),i(o.getTextContent()),i(o.getTextGuideLine())});function i(o){if(!(!o||o.isGroup)){var s=o.currentStates;if(s.length)for(var l=0;l<s.length;l++)a(o.states[s[l]]);a(o)}}function a(o){if(o){var s=o.z2;s>t&&(t=s),s<n&&(n=s)}}return n>t&&(n=t=0),{min:n,max:t}}function traverseUpdateZ(r,t,n){doUpdateZ(r,t,n,-1/0)}function doUpdateZ(r,t,n,i){if(r.ignoreModelZ)return i;var a=r.getTextContent(),o=r.getTextGuideLine(),s=r.isGroup;if(s)for(var l=r.childrenRef(),u=0;u<l.length;u++)i=mathMax$6(doUpdateZ(l[u],t,n,i),i);else r.z=t,r.zlevel=n,i=mathMax$6(r.z2||0,i);if(a&&(a.z=t,a.zlevel=n,isFinite(i)&&(a.z2=i+2)),o){var c=r.textGuideLineConfig;o.z=t,o.zlevel=n,isFinite(i)&&(o.z2=i+(c&&c.showAbove?1:-1))}return i}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline);registerShape("rect",Rect);registerShape("line",Line);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$2,Image:ZRImage,IncrementalDisplayable,Line,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline,RadialGradient,Rect,Ring,Sector,Text:ZRText,WH:WH$1,XY:XY$1,applyTransform,calcZ2Range,clipPointsByRect,clipRectByRect,createIcon,ensureCopyRect,ensureCopyTransform,expandOrShrinkRect,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isBoundingRectAxisAligned,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,retrieveZInfo,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,traverseUpdateZ,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,t){for(var n=0;n<SPECIAL_STATES.length;n++){var i=SPECIAL_STATES[n],a=t[i],o=r.ensureState(i);o.style=o.style||{},o.style.text=a}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(s,!0)}function getLabelText(r,t,n){var i=r.labelFetcher,a=r.labelDataIndex,o=r.labelDimIndex,s=t.normal,l;i&&(l=i.getFormattedLabel(a,"normal",null,o,s&&s.get("formatter"),n!=null?{interpolatedValue:n}:null)),l==null&&(l=isFunction(r.defaultText)?r.defaultText(a,r,n):r.defaultText);for(var u={normal:l},c=0;c<SPECIAL_STATES.length;c++){var f=SPECIAL_STATES[c],d=t[f];u[f]=retrieve2(i?i.getFormattedLabel(a,f,null,o,d&&d.get("formatter")):null,l)}return u}function setLabelStyle(r,t,n,i){n=n||EMPTY_OBJ;for(var a=r instanceof ZRText,o=!1,s=0;s<DISPLAY_STATES.length;s++){var l=t[DISPLAY_STATES[s]];if(l&&l.getShallow("show")){o=!0;break}}var u=a?r:r.getTextContent();if(o){a||(u||(u=new ZRText,r.setTextContent(u)),r.stateProxy&&(u.stateProxy=r.stateProxy));var c=getLabelText(n,t),f=t.normal,d=!!f.getShallow("show"),g=createTextStyle(f,i&&i.normal,n,!1,!a);g.text=c.normal,a||r.setTextConfig(createTextConfig(f,n,!1));for(var s=0;s<SPECIAL_STATES.length;s++){var v=SPECIAL_STATES[s],l=t[v];if(l){var y=u.ensureState(v),_=!!retrieve2(l.getShallow("show"),d);if(_!==d&&(y.ignore=!_),y.style=createTextStyle(l,i&&i[v],n,!0,!a),y.style.text=c[v],!a){var x=r.ensureState(v);x.textConfig=createTextConfig(l,n,!0)}}}u.silent=!!f.getShallow("silent"),u.style.x!=null&&(g.x=u.style.x),u.style.y!=null&&(g.y=u.style.y),u.ignore=!d,u.useStyle(g),u.dirty(),n.enableTextSetter&&(labelInner(u).setLabelText=function(S){var b=getLabelText(n,t,S);setLabelText(u,b)})}else u&&(u.ignore=!0);r.dirty()}function getLabelStatesModels(r,t){t=t||"label";for(var n={normal:r.getModel(t)},i=0;i<SPECIAL_STATES.length;i++){var a=SPECIAL_STATES[i];n[a]=r.getModel([a,t])}return n}function createTextStyle(r,t,n,i,a){var o={};return setTextStyleCommon(o,r,n,i,a),t&&extend(o,t),o}function createTextConfig(r,t,n){t=t||{};var i={},a,o=r.getShallow("rotate"),s=retrieve2(r.getShallow("distance"),n?null:5),l=r.getShallow("offset");return a=r.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(i.position=a),l!=null&&(i.offset=l),o!=null&&(o*=Math.PI/180,i.rotation=o),s!=null&&(i.distance=s),i.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(i.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(i.layoutRect=t.layoutRect),i}function setTextStyleCommon(r,t,n,i,a){n=n||EMPTY_OBJ;var o=t.ecModel,s=o&&o.option.textStyle,l=getRichItemNames(t),u;if(l){u={};var c="richInheritPlainLabel",f=retrieve2(t.get(c),o?o.get(c):void 0);for(var d in l)if(l.hasOwnProperty(d)){var g=t.getModel(["rich",d]);setTokenTextStyle(u[d]={},g,s,t,f,n,i,a,!1,!0)}}u&&(r.rich=u);var v=t.get("overflow");v&&(r.overflow=v);var y=t.get("lineOverflow");y&&(r.lineOverflow=y);var _=r,x=t.get("minMargin");if(x!=null)x=isNumber(x)?x/2:0,_.margin=[x,x,x,x],_.__marginType=LabelMarginType.minMargin;else{var S=t.get("textMargin");S!=null&&(_.margin=normalizeCssArray$1(S),_.__marginType=LabelMarginType.textMargin)}setTokenTextStyle(r,t,s,null,null,n,i,a,!0,!1)}function getRichItemNames(r){for(var t;r&&r!==r.ecModel;){var n=(r.option||EMPTY_OBJ).rich;if(n){t=t||{};for(var i=keys(n),a=0;a<i.length;a++){var o=i[a];t[o]=1}}r=r.parentModel}return t}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,t,n,i,a,o,s,l,u,c){n=!s&&n||EMPTY_OBJ;var f=o&&o.inheritColor,d=t.getShallow("color"),g=t.getShallow("textBorderColor"),v=retrieve2(t.getShallow("opacity"),n.opacity);(d==="inherit"||d==="auto")&&(f?d=f:d=null),(g==="inherit"||g==="auto")&&(f?g=f:g=null),l||(d=d||n.color,g=g||n.textBorderColor),d!=null&&(r.fill=d),g!=null&&(r.stroke=g);var y=retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth);y!=null&&(r.lineWidth=y);var _=retrieve2(t.getShallow("textBorderType"),n.textBorderType);_!=null&&(r.lineDash=_);var x=retrieve2(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);x!=null&&(r.lineDashOffset=x),!s&&v==null&&!c&&(v=o&&o.defaultOpacity),v!=null&&(r.opacity=v),!s&&!l&&r.fill==null&&o.inheritColor&&(r.fill=o.inheritColor);for(var S=0;S<TEXT_PROPS_WITH_GLOBAL.length;S++){var b=TEXT_PROPS_WITH_GLOBAL[S],E=a!==!1&&i?retrieve3(t.getShallow(b),i.getShallow(b),n[b]):retrieve2(t.getShallow(b),n[b]);E!=null&&(r[b]=E)}for(var S=0;S<TEXT_PROPS_SELF.length;S++){var b=TEXT_PROPS_SELF[S],E=t.getShallow(b);E!=null&&(r[b]=E)}if(r.verticalAlign==null){var M=t.getShallow("baseline");M!=null&&(r.verticalAlign=M)}if(!u||!o.disableBox){for(var S=0;S<TEXT_PROPS_BOX.length;S++){var b=TEXT_PROPS_BOX[S],E=t.getShallow(b);E!=null&&(r[b]=E)}var D=t.getShallow("borderType");D!=null&&(r.borderDash=D),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&f&&(r.backgroundColor=f),(r.borderColor==="auto"||r.borderColor==="inherit")&&f&&(r.borderColor=f)}}function getFont(r,t){var n=t&&t.getModel("textStyle");return trim([r.fontStyle||n&&n.getShallow("fontStyle")||"",r.fontWeight||n&&n.getShallow("fontWeight")||"",(r.fontSize||n&&n.getShallow("fontSize")||12)+"px",r.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(r,t,n,i){if(r){var a=labelInner(r);a.prevValue=a.value,a.value=n;var o=t.normal;a.valueAnimation=o.get("valueAnimation"),a.valueAnimation&&(a.precision=o.get("precision"),a.defaultInterpolatedText=i,a.statesModels=t)}}var LabelMarginType={minMargin:1,textMargin:2},PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=(function(){function r(){}return r.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<textStyleParams.length;i++)n[textStyleParams[i]]=this.getShallow(textStyleParams[i]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},r})(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=(function(){function r(){}return r.prototype.getLineStyle=function(t){return getLineStyle(this,t)},r})(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=(function(){function r(){}return r.prototype.getItemStyle=function(t,n){return getItemStyle(this,t,n)},r})(),Model=(function(){function r(t,n,i){this.parentModel=n,this.ecModel=i,this.option=t}return r.prototype.init=function(t,n,i){},r.prototype.mergeOption=function(t,n){merge(this.option,t,!0)},r.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},r.prototype.getShallow=function(t,n){var i=this.option,a=i==null?i:i[t];if(a==null&&!n){var o=this.parentModel;o&&(a=o.getShallow(t))}return a},r.prototype.getModel=function(t,n){var i=t!=null,a=i?this.parsePath(t):null,o=i?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(o,n,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(clone$2(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,n){var i=this.option;if(!t)return i;for(var a=0;a<t.length&&!(t[a]&&(i=i&&typeof i=="object"?i[t[a]]:null,i==null));a++);return i==null&&n&&(i=n._doGet(this.resolveParentPath(t),n.parentModel)),i},r})();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var t={};r.registerSubTypeDefaulter=function(n,i){var a=parseClassType(n);t[a.main]=i},r.determineSubType=function(n,i){var a=i.type;if(!a){var o=parseClassType(n).main;r.hasSubTypes(n)&&t[o]&&(a=t[o](i))}return a}}function enableTopologicalTravel(r,t){r.topologicalTravel=function(o,s,l,u){if(!o.length)return;var c=n(s),f=c.graph,d=c.noEntryList,g={};for(each$4(o,function(b){g[b]=!0});d.length;){var v=d.pop(),y=f[v],_=!!g[v];_&&(l.call(u,v,y.originalDeps.slice()),delete g[v]),each$4(y.successor,_?S:x)}each$4(g,function(){var b="";throw new Error(b)});function x(b){f[b].entryCount--,f[b].entryCount===0&&d.push(b)}function S(b){g[b]=!0,x(b)}};function n(o){var s={},l=[];return each$4(o,function(u){var c=i(s,u),f=c.originalDeps=t(u),d=a(f,o);c.entryCount=d.length,c.entryCount===0&&l.push(u),each$4(d,function(g){indexOf(c.predecessor,g)<0&&c.predecessor.push(g);var v=i(s,g);indexOf(v.successor,g)<0&&v.successor.push(u)})}),{graph:s,noEntryList:l}}function i(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function a(o,s){var l=[];return each$4(o,function(u){indexOf(s,u)>=0&&l.push(u)}),l}}function inheritDefaultOption(r,t){return merge(merge({},r,!0),t,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE})():DEFAULT_LOCALE;function registerLocale(r,t){r=r.toUpperCase(),localeModels[r]=new Model(t),localeStorage[r]=t}function createLocaleObject(r){if(isString(r)){var t=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$2(t):merge(clone$2(t),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(r),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var _impl$1=null;function getScaleBreakHelper(){return _impl$1}var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,primaryTimeUnitFormatterMatchers={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},defaultFormatterSeed={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},defaultFullFormatter="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultFormatterSeed.hour,minute:fullDayFormatter+" "+defaultFormatterSeed.minute,second:fullDayFormatter+" "+defaultFormatterSeed.second,millisecond:defaultFullFormatter},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function parseTimeAxisLabelFormatter(r){return!isString(r)&&!isFunction(r)?parseTimeAxisLabelFormatterDictionary(r):r}function parseTimeAxisLabelFormatterDictionary(r){r=r||{};var t={},n=!0;return each$4(primaryTimeUnits,function(i){n&&(n=r[i]==null)}),each$4(primaryTimeUnits,function(i,a){var o=r[i];t[i]={};for(var s=null,l=a;l>=0;l--){var u=primaryTimeUnits[l],c=isObject$2(o)&&!isArray(o)?o[u]:o,f=void 0;isArray(c)?(f=c.slice(),s=f[0]||""):isString(c)?(s=c,f=[s]):(s==null?s=defaultFormatterSeed[i]:primaryTimeUnitFormatterMatchers[u].test(s)||(s=t[u][u][0]+" "+s),f=[s],n&&(f[1]="{primary|"+s+"}")),t[i][u]=f}}),t}function pad(r,t){return r+="","0000".substr(0,t-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(r,t,n,i){var a=parseDate(r),o=a[fullYearGetterName(n)](),s=a[monthGetterName(n)]()+1,l=Math.floor((s-1)/3)+1,u=a[dateGetterName(n)](),c=a["get"+(n?"UTC":"")+"Day"](),f=a[hoursGetterName(n)](),d=(f-1)%12+1,g=a[minutesGetterName(n)](),v=a[secondsGetterName(n)](),y=a[millisecondsGetterName(n)](),_=f>=12?"pm":"am",x=_.toUpperCase(),S=i instanceof Model?i:getLocaleModel(i||SYSTEM_LANG)||getDefaultLocaleModel(),b=S.getModel("time"),E=b.get("month"),M=b.get("monthAbbr"),D=b.get("dayOfWeek"),w=b.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,_+"").replace(/{A}/g,x+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,pad(o%100+"",2)).replace(/{Q}/g,l+"").replace(/{MMMM}/g,E[s-1]).replace(/{MMM}/g,M[s-1]).replace(/{MM}/g,pad(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,pad(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,D[c]).replace(/{ee}/g,w[c]).replace(/{e}/g,c+"").replace(/{HH}/g,pad(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,pad(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,pad(g,2)).replace(/{m}/g,g+"").replace(/{ss}/g,pad(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,pad(y,3)).replace(/{S}/g,y+"")}function leveledFormat(r,t,n,i,a){var o=null;if(isString(n))o=n;else if(isFunction(n)){var s={time:r.time,level:r.time.level},l=getScaleBreakHelper();l&&l.makeAxisLabelFormatterParamBreak(s,r.break),o=n(r.value,t,s)}else{var u=r.time;if(u){var c=n[u.lowerTimeUnit][u.upperTimeUnit];o=c[Math.min(u.level,c.length-1)]||""}else{var f=getUnitFromValue(r.value,a);o=n[f][f][0]}}return format(new Date(r.value),o,a,i)}function getUnitFromValue(r,t){var n=parseDate(r),i=n[monthGetterName(t)]()+1,a=n[dateGetterName(t)](),o=n[hoursGetterName(t)](),s=n[minutesGetterName(t)](),l=n[secondsGetterName(t)](),u=n[millisecondsGetterName(t)](),c=u===0,f=c&&l===0,d=f&&s===0,g=d&&o===0,v=g&&a===1,y=v&&i===1;return y?"year":v?"month":g?"day":d?"hour":f?"minute":c?"second":"millisecond"}function roundTime(r,t,n){switch(t){case"year":r[monthSetterName(n)](0);case"month":r[dateSetterName(n)](1);case"day":r[hoursSetterName(n)](0);case"hour":r[minutesSetterName(n)](0);case"minute":r[secondsSetterName(n)](0);case"second":r[millisecondsSetterName(n)](0)}return r}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function toCamelCase(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,t,n){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(f){return f&&trim(f)?f:"-"}function o(f){return!!(f!=null&&!isNaN(f)&&isFinite(f))}var s=t==="time",l=r instanceof Date;if(s||l){var u=s?parseDate(r):r;if(isNaN(+u)){if(l)return"-"}else return format(u,i,n)}if(t==="ordinal")return isStringSafe(r)?a(r):isNumber(r)&&o(r)?r+"":"-";var c=numericToNumber(r);return o(c)?addCommas(c):isStringSafe(r)?a(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,t){return"{"+r+(t??"")+"}"};function formatTpl(r,t,n){isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var a=t[0].$vars||[],o=0;o<a.length;o++){var s=TPL_VAR_ALIAS[o];r=r.replace(wrapVar(s),wrapVar(s,0))}for(var l=0;l<i;l++)for(var u=0;u<a.length;u++){var c=t[l][a[u]];r=r.replace(wrapVar(TPL_VAR_ALIAS[u],l),n?encodeHTML(c):c)}return r}function getTooltipMarker(r,t){var n=isString(r)?{color:r,extraCssText:t}:r||{},i=n.color,a=n.type;t=n.extraCssText;var o=n.renderMode||"html";if(!i)return"";if(o==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(i)+";"+(t||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function convertToColorString(r,t){return t=t||"transparent",isString(r)?r:isObject$2(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}var nonSeriesBoxCoordSysCreators={},normalCoordSysCreators={},CoordinateSystemManager=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(t,n){this._nonSeriesBoxMasterList=i(nonSeriesBoxCoordSysCreators),this._normalMasterList=i(normalCoordSysCreators);function i(a,o){var s=[];return each$4(a,function(l,u){var c=l.create(t,n);s=s.concat(c||[])}),s}},r.prototype.update=function(t,n){each$4(this._normalMasterList,function(i){i.update&&i.update(t,n)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(t,n){if(t==="matrix"||t==="calendar"){nonSeriesBoxCoordSysCreators[t]=n;return}normalCoordSysCreators[t]=n},r.get=function(t){return normalCoordSysCreators[t]||nonSeriesBoxCoordSysCreators[t]},r})();function canBeNonSeriesBoxCoordSys(r){return!!nonSeriesBoxCoordSysCreators[r]}var BoxCoordinateSystemCoordFrom={coord:1,coord2:2},coordSysUseMap=createHashMap();function getCoordForBoxCoordSys(r){var t=r.getShallow("coord",!0),n=BoxCoordinateSystemCoordFrom.coord;if(t==null){var i=coordSysUseMap.get(r.type);i&&i.getCoord2&&(n=BoxCoordinateSystemCoordFrom.coord2,t=i.getCoord2(r))}return{coord:t,from:n}}var CoordinateSystemUsageKind={none:0,dataCoordSys:1,boxCoordSys:2};function decideCoordSysUsageKind(r,t){var n=r.getShallow("coordinateSystem"),i=r.getShallow("coordinateSystemUsage",!0),a=CoordinateSystemUsageKind.none;if(n){var o=r.mainType==="series";i==null&&(i=o?"data":"box"),i==="data"?(a=CoordinateSystemUsageKind.dataCoordSys,o||(a=CoordinateSystemUsageKind.none)):i==="box"&&(a=CoordinateSystemUsageKind.boxCoordSys,!o&&!canBeNonSeriesBoxCoordSys(n)&&(a=CoordinateSystemUsageKind.none))}return{coordSysType:n,kind:a}}function injectCoordSysByOption(r){var t=r.targetModel,n=r.coordSysType,i=r.coordSysProvider,a=r.isDefaultDataCoordSys,o=decideCoordSysUsageKind(t),s=o.kind,l=o.coordSysType;if(a&&s!==CoordinateSystemUsageKind.dataCoordSys&&(s=CoordinateSystemUsageKind.dataCoordSys,l=n),s===CoordinateSystemUsageKind.none||l!==n)return!1;var u=i(n,t);return u?(s===CoordinateSystemUsageKind.dataCoordSys?t.coordinateSystem=u:t.boxCoordinateSystem=u,!0):!1}var each$3=each$4,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,t,n,i,a){var o=0,s=0;i==null&&(i=1/0),a==null&&(a=1/0);var l=0;t.eachChild(function(u,c){var f=u.getBoundingRect(),d=t.childAt(c+1),g=d&&d.getBoundingRect(),v,y;if(r==="horizontal"){var _=f.width+(g?-g.x+f.x:0);v=o+_,v>i||u.newline?(o=0,v=_,s+=l+n,l=f.height):l=Math.max(l,f.height)}else{var x=f.height+(g?-g.y+f.y:0);y=s+x,y>a||u.newline?(o+=l+n,s=0,y=x,l=f.width):l=Math.max(l,f.width)}u.newline||(u.x=o,u.y=s,u.markRedraw(),r==="horizontal"?o=v+n:s=y+n)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getBoxLayoutParams(r,t){return{left:r.getShallow("left",t),top:r.getShallow("top",t),right:r.getShallow("right",t),bottom:r.getShallow("bottom",t),width:r.getShallow("width",t),height:r.getShallow("height",t)}}function getLayoutRect(r,t,n){n=normalizeCssArray(n||0);var i=t.width,a=t.height,o=parsePercent(r.left,i),s=parsePercent(r.top,a),l=parsePercent(r.right,i),u=parsePercent(r.bottom,a),c=parsePercent(r.width,i),f=parsePercent(r.height,a),d=n[2]+n[0],g=n[1]+n[3],v=r.aspect;switch(isNaN(c)&&(c=i-l-g-o),isNaN(f)&&(f=a-u-d-s),v!=null&&(isNaN(c)&&isNaN(f)&&(v>i/a?c=i*.8:f=a*.8),isNaN(c)&&(c=v*f),isNaN(f)&&(f=c/v)),isNaN(o)&&(o=i-l-c-g),isNaN(s)&&(s=a-u-f-d),r.left||r.right){case"center":o=i/2-c/2-n[3];break;case"right":o=i-c-g;break}switch(r.top||r.bottom){case"middle":case"center":s=a/2-f/2-n[0];break;case"bottom":s=a-f-d;break}o=o||0,s=s||0,isNaN(c)&&(c=i-g-o-(l||0)),isNaN(f)&&(f=a-d-s-(u||0));var y=new BoundingRect((t.x||0)+o+n[3],(t.y||0)+s+n[0],c,f);return y.margin=n,y}var BoxLayoutReferenceType={rect:1};function createBoxLayoutReference(r,t,n){var i,a,o,s=r.boxCoordinateSystem,l;if(s){var u=getCoordForBoxCoordSys(r),c=u.coord,f=u.from;if(s.dataToLayout){o=BoxLayoutReferenceType.rect,l=f;var d=s.dataToLayout(c);i=d.contentRect||d.rect}}return o==null&&(o=BoxLayoutReferenceType.rect),o===BoxLayoutReferenceType.rect&&(i||(i={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),a=[i.x+i.width/2,i.y+i.height/2]),{type:o,refContainer:i,refPoint:a,boxCoordFrom:l}}function fetchLayoutMode(r){var t=r.layoutMode||r.constructor.layoutMode;return isObject$2(t)?t:t?{type:t}:null}function mergeLayoutParam(r,t,n){var i=n&&n.ignoreSize;!isArray(i)&&(i=[i,i]);var a=s(HV_NAMES[0],0),o=s(HV_NAMES[1],1);u(HV_NAMES[0],r,a),u(HV_NAMES[1],r,o);function s(c,f){var d={},g=0,v={},y=0,_=2;if(each$3(c,function(b){v[b]=r[b]}),each$3(c,function(b){hasOwn(t,b)&&(d[b]=v[b]=t[b]),l(d,b)&&g++,l(v,b)&&y++}),i[f])return l(t,c[1])?v[c[2]]=null:l(t,c[2])&&(v[c[1]]=null),v;if(y===_||!g)return v;if(g>=_)return d;for(var x=0;x<c.length;x++){var S=c[x];if(!hasOwn(d,S)&&hasOwn(r,S)){d[S]=r[S];break}}return d}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){each$3(c,function(g){f[g]=d[g]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,t){return t&&r&&each$3(LOCATION_PARAMS,function(n){hasOwn(t,n)&&(r[n]=t[n])}),r}var inner$8=makeInner(),ComponentModel=(function(r){__extends(t,r);function t(n,i,a){var o=r.call(this,n,i,a)||this;return o.uid=getUID("ec_cpt_model"),o}return t.prototype.init=function(n,i,a){this.mergeDefaultAndTheme(n,a)},t.prototype.mergeDefaultAndTheme=function(n,i){var a=fetchLayoutMode(this),o=a?getLayoutParams(n):{},s=i.getTheme();merge(n,s.get(this.mainType)),merge(n,this.getDefaultOption()),a&&mergeLayoutParam(n,o,a)},t.prototype.mergeOption=function(n,i){merge(this.option,n,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a)},t.prototype.optionUpdated=function(n,i){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var i=inner$8(this);if(!i.defaultOption){for(var a=[],o=n;o;){var s=o.prototype.defaultOption;s&&a.push(s),o=o.superClass}for(var l={},u=a.length-1;u>=0;u--)l=merge(l,a[u],!0);i.defaultOption=l}return i.defaultOption},t.prototype.getReferringComponents=function(n,i){var a=n+"Index",o=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(a,!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){return getBoxLayoutParams(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=(function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0})(),t})(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var t=[];return each$4(ComponentModel.getClassesByMainType(r),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=map$1(t,function(n){return parseClassType(n).main}),r!=="dataset"&&indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}var tokens={color:{},darkColor:{},size:{}},color$1=tokens.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};extend(color$1,{primary:color$1.neutral80,secondary:color$1.neutral70,tertiary:color$1.neutral60,quaternary:color$1.neutral50,disabled:color$1.neutral20,border:color$1.neutral30,borderTint:color$1.neutral20,borderShade:color$1.neutral40,background:color$1.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:color$1.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:color$1.neutral70,axisLineTint:color$1.neutral40,axisTick:color$1.neutral70,axisTickMinor:color$1.neutral60,axisLabel:color$1.neutral70,axisSplitLine:color$1.neutral15,axisMinorSplitLine:color$1.neutral05});for(var key in color$1)if(color$1.hasOwnProperty(key)){var hex=color$1[key];key==="theme"?tokens.darkColor.theme=color$1.theme.slice():key==="highlight"?tokens.darkColor.highlight="rgba(255,231,130,0.4)":key.indexOf("accent")===0?tokens.darkColor[key]=modifyHSL(hex,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):tokens.darkColor[key]=modifyHSL(hex,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}tokens.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",themeColor=tokens.color.theme[0],lightThemeColor=modifyHSL(themeColor,null,null,.9);const globalDefault={darkMode:"auto",colorBy:"series",color:tokens.color.theme,gradientColor:[lightThemeColor,themeColor],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,t,n){var i={},a=querySeriesUpstreamDatasetModel(t);if(!a||!r)return i;var o=[],s=[],l=t.ecModel,u=innerGlobalModel(l).datasetMap,c=a.uid+"_"+n.seriesLayoutBy,f,d;r=r.slice(),each$4(r,function(_,x){var S=isObject$2(_)?_:r[x]={name:_};S.type==="ordinal"&&f==null&&(f=x,d=y(S)),i[S.name]=[]});var g=u.get(c)||u.set(c,{categoryWayDim:d,valueWayDim:0});each$4(r,function(_,x){var S=_.name,b=y(_);if(f==null){var E=g.valueWayDim;v(i[S],E,b),v(s,E,b),g.valueWayDim+=b}else if(f===x)v(i[S],0,b),v(o,0,b);else{var E=g.categoryWayDim;v(i[S],E,b),v(s,E,b),g.categoryWayDim+=b}});function v(_,x,S){for(var b=0;b<S;b++)_.push(x+b)}function y(_){var x=_.dimsDef;return x?x.length:1}return o.length&&(i.itemName=o),s.length&&(i.seriesName=s),i}function querySeriesUpstreamDatasetModel(r){var t=r.get("data",!0);if(!t)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,t){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function doGuessOrdinal(r,t,n,i,a,o){var s,l=5;if(isTypedArray(r))return BE_ORDINAL.Not;var u,c;if(i){var f=i[o];isObject$2(f)?(u=f.name,c=f.type):isString(f)&&(u=f)}if(c!=null)return c==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(t===SOURCE_FORMAT_ARRAY_ROWS){var d=r;if(n===SERIES_LAYOUT_BY_ROW){for(var g=d[o],v=0;v<(g||[]).length&&v<l;v++)if((s=M(g[a+v]))!=null)return s}else for(var v=0;v<d.length&&v<l;v++){var y=d[a+v];if(y&&(s=M(y[o]))!=null)return s}}else if(t===SOURCE_FORMAT_OBJECT_ROWS){var _=r;if(!u)return BE_ORDINAL.Not;for(var v=0;v<_.length&&v<l;v++){var x=_[v];if(x&&(s=M(x[u]))!=null)return s}}else if(t===SOURCE_FORMAT_KEYED_COLUMNS){var S=r;if(!u)return BE_ORDINAL.Not;var g=S[u];if(!g||isTypedArray(g))return BE_ORDINAL.Not;for(var v=0;v<g.length&&v<l;v++)if((s=M(g[v]))!=null)return s}else if(t===SOURCE_FORMAT_ORIGINAL)for(var b=r,v=0;v<b.length&&v<l;v++){var x=b[v],E=getDataItemValue(x);if(!isArray(E))return BE_ORDINAL.Not;if((s=M(E[o]))!=null)return s}function M(D){var w=isString(D);if(D!=null&&Number.isFinite(Number(D))&&D!=="")return w?BE_ORDINAL.Might:BE_ORDINAL.Not;if(w&&D!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(r,t,n){var i=internalOptionCreatorMap.get(t);if(!i)return n;var a=i(r);return a?n.concat(a):n}var innerColor=makeInner();makeInner();var PaletteMixin=(function(){function r(){}return r.prototype.getColorFromPalette=function(t,n,i){var a=normalizeToArray(this.get("color",!0)),o=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,o,t,n,i)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r})();function getNearestPalette(r,t){for(var n=r.length,i=0;i<n;i++)if(r[i].length>t)return r[i];return r[n-1]}function getFromPalette(r,t,n,i,a,o,s){o=o||r;var l=t(o),u=l.paletteIdx||0,c=l.paletteNameMap=l.paletteNameMap||{};if(c.hasOwnProperty(a))return c[a];var f=s==null||!i?n:getNearestPalette(i,s);if(f=f||n,!(!f||!f.length)){var d=f[u];return a&&(c[a]=d),l.paletteIdx=(u+1)%f.length,d}}function clearPalette(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(n,i,a,o,s,l){o=o||{},this.option=null,this._theme=new Model(o),this._locale=new Model(s),this._optionManager=l},t.prototype.setOption=function(n,i,a){var o=normalizeSetOptionInput(i);this._optionManager.setOption(n,a,o),this._resetOption(null,o)},t.prototype.resetOption=function(n,i){return this._resetOption(n,normalizeSetOptionInput(i))},t.prototype._resetOption=function(n,i){var a=!1,o=this._optionManager;if(!n||n==="recreate"){var s=o.mountOption(n==="recreate");!this.option||n==="recreate"?initBase(this,s):(this.restoreData(),this._mergeOption(s,i)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var l=o.getTimelineOption(this);l&&(a=!0,this._mergeOption(l,i))}if(!n||n==="recreate"||n==="media"){var u=o.getMediaOption(this);u.length&&each$4(u,function(c){a=!0,this._mergeOption(c,i)},this)}return a},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,i){var a=this.option,o=this._componentsMap,s=this._componentsCount,l=[],u=createHashMap(),c=i&&i.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$4(n,function(d,g){d!=null&&(ComponentModel.hasClass(g)?g&&(l.push(g),u.set(g,!0)):a[g]=a[g]==null?clone$2(d):merge(a[g],d,!0))}),c&&c.each(function(d,g){ComponentModel.hasClass(g)&&!u.get(g)&&(l.push(g),u.set(g,!0))}),ComponentModel.topologicalTravel(l,ComponentModel.getAllClassMainTypes(),f,this);function f(d){var g=concatInternalOptions(this,d,normalizeToArray(n[d])),v=o.get(d),y=v?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",_=mappingToExists(v,g,y);setComponentTypeToKeyInfo(_,d,ComponentModel),a[d]=null,o.set(d,null),s.set(d,0);var x=[],S=[],b=0,E;each$4(_,function(M,D){var w=M.existing,I=M.newOption;if(!I)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var R=d==="series",P=ComponentModel.getClass(d,M.keyInfo.subType,!R);if(!P)return;if(d==="tooltip"){if(E)return;E=!0}if(w&&w.constructor===P)w.name=M.keyInfo.name,w.mergeOption(I,this),w.optionUpdated(I,!1);else{var O=extend({componentIndex:D},M.keyInfo);w=new P(I,this,this,O),extend(w,O),M.brandNew&&(w.__requireNewView=!0),w.init(I,this,this),w.optionUpdated(null,!0)}}w?(x.push(w.option),S.push(w),b++):(x.push(void 0),S.push(void 0))},this),a[d]=x,o.set(d,S),s.set(d,b),d==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},t.prototype.getOption=function(){var n=clone$2(this.option);return each$4(n,function(i,a){if(ComponentModel.hasClass(a)){for(var o=normalizeToArray(i),s=o.length,l=!1,u=s-1;u>=0;u--)o[u]&&!isComponentIdInternal(o[u])?l=!0:(o[u]=null,!l&&s--);o.length=s,n[a]=o}}),delete n[OPTION_INNER_KEY],n},t.prototype.setTheme=function(n){this._theme=new Model(n),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,i){var a=this._componentsMap.get(n);if(a){var o=a[i||0];if(o)return o;if(i==null){for(var s=0;s<a.length;s++)if(a[s])return a[s]}}},t.prototype.queryComponents=function(n){var i=n.mainType;if(!i)return[];var a=n.index,o=n.id,s=n.name,l=this._componentsMap.get(i);if(!l||!l.length)return[];var u;return a!=null?(u=[],each$4(normalizeToArray(a),function(c){l[c]&&u.push(l[c])})):o!=null?u=queryByIdOrName("id",o,l):s!=null?u=queryByIdOrName("name",s,l):u=filter(l,function(c){return!!c}),filterBySubType(u,n)},t.prototype.findComponents=function(n){var i=n.query,a=n.mainType,o=l(i),s=o?this.queryComponents(o):filter(this._componentsMap.get(a),function(c){return!!c});return u(filterBySubType(s,n));function l(c){var f=a+"Index",d=a+"Id",g=a+"Name";return c&&(c[f]!=null||c[d]!=null||c[g]!=null)?{mainType:a,index:c[f],id:c[d],name:c[g]}:null}function u(c){return n.filter?filter(c,n.filter):c}},t.prototype.eachComponent=function(n,i,a){var o=this._componentsMap;if(isFunction(n)){var s=i,l=n;o.each(function(d,g){for(var v=0;d&&v<d.length;v++){var y=d[v];y&&l.call(s,g,y,y.componentIndex)}})}else for(var u=isString(n)?o.get(n):isObject$2(n)?this.findComponents(n):null,c=0;u&&c<u.length;c++){var f=u[c];f&&i.call(a,f,f.componentIndex)}},t.prototype.getSeriesByName=function(n){var i=convertOptionIdName(n,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&i!=null&&a.name===i})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return filter(this._componentsMap.get("series"),function(i){return!!i&&i.subType===n})},t.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,i){assertSeriesInitialized(this),each$4(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];n.call(i,o,a)},this)},t.prototype.eachRawSeries=function(n,i){each$4(this._componentsMap.get("series"),function(a){a&&n.call(i,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(n,i,a){assertSeriesInitialized(this),each$4(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===n&&i.call(a,s,o)},this)},t.prototype.eachRawSeriesByType=function(n,i,a){return each$4(this.getSeriesByType(n),i,a)},t.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,i){assertSeriesInitialized(this);var a=[];each$4(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];n.call(i,s,o)&&a.push(o)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},t.prototype.restoreData=function(n){reCreateSeriesIndices(this);var i=this._componentsMap,a=[];i.each(function(o,s){ComponentModel.hasClass(s)&&a.push(s)}),ComponentModel.topologicalTravel(a,ComponentModel.getAllClassMainTypes(),function(o){each$4(i.get(o),function(s){s&&(o!=="series"||!isNotTargetSeries(s,n))&&s.restoreData()})})},t.internalField=(function(){reCreateSeriesIndices=function(n){var i=n._seriesIndices=[];each$4(n._componentsMap.get("series"),function(a){a&&i.push(a.componentIndex)}),n._seriesIndicesMap=createHashMap(i)},assertSeriesInitialized=function(n){},initBase=function(n,i){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var a=i.aria;isObject$2(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(i,n._theme.option),merge(i,globalDefault,!1),n._mergeOption(i,null)}})(),t})(Model);function isNotTargetSeries(r,t){if(t){var n=t.seriesIndex,i=t.seriesId,a=t.seriesName;return n!=null&&r.componentIndex!==n||i!=null&&r.id!==i||a!=null&&r.name!==a}}function mergeTheme(r,t){var n=r.color&&!r.colorLayer;each$4(t,function(i,a){a==="colorLayer"&&n||a==="color"&&r.color||ComponentModel.hasClass(a)||(typeof i=="object"?r[a]=r[a]?merge(r[a],i,!1):clone$2(i):r[a]==null&&(r[a]=i))})}function queryByIdOrName(r,t,n){if(isArray(t)){var i=createHashMap();return each$4(t,function(o){if(o!=null){var s=convertOptionIdName(o,null);s!=null&&i.set(o,!0)}}),filter(n,function(o){return o&&i.get(o[r])})}else{var a=convertOptionIdName(t,null);return filter(n,function(o){return o&&a!=null&&o[r]===a})}}function filterBySubType(r,t){return t.hasOwnProperty("subType")?filter(r,function(n){return n&&n.subType===t.subType}):r}function normalizeSetOptionInput(r){var t=createHashMap();return r&&each$4(normalizeToArray(r.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=(function(){function r(t){each$4(availableMethods,function(n){this[n]=bind$1(t[n],t)},this)}return r})(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=(function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,n,i){t&&(each$4(normalizeToArray(t.series),function(s){s&&s.data&&isTypedArray(s.data)&&setAsPrimitive(s.data)}),each$4(normalizeToArray(t.dataset),function(s){s&&s.source&&isTypedArray(s.source)&&setAsPrimitive(s.source)})),t=clone$2(t);var a=this._optionBackup,o=parseRawOption(t,n,!a);this._newBaseOption=o.baseOption,a?(o.timelineOptions.length&&(a.timelineOptions=o.timelineOptions),o.mediaList.length&&(a.mediaList=o.mediaList),o.mediaDefault&&(a.mediaDefault=o.mediaDefault)):this._optionBackup=o},r.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$2(t?n.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var n,i=this._timelineOptions;if(i.length){var a=t.getComponent("timeline");a&&(n=clone$2(i[a.getCurrentIndex()]))}return n},r.prototype.getMediaOption=function(t){var n=this._api.getWidth(),i=this._api.getHeight(),a=this._mediaList,o=this._mediaDefault,s=[],l=[];if(!a.length&&!o)return l;for(var u=0,c=a.length;u<c;u++)applyMediaQuery(a[u].query,n,i)&&s.push(u);return!s.length&&o&&(s=[-1]),s.length&&!indicesEquals(s,this._currentMediaIndices)&&(l=map$1(s,function(f){return clone$2(f===-1?o.option:a[f].option)})),this._currentMediaIndices=s,l},r})();function parseRawOption(r,t,n){var i=[],a,o,s=r.baseOption,l=r.timeline,u=r.options,c=r.media,f=!!r.media,d=!!(u||l||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=l)):((d||f)&&(r.options=r.media=null),o=r),f&&isArray(c)&&each$4(c,function(v){v&&v.option&&(v.query?i.push(v):a||(a=v))}),g(o),each$4(u,function(v){return g(v)}),each$4(i,function(v){return g(v.option)});function g(v){each$4(t,function(y){y(v,n)})}return{baseOption:o,timelineOptions:u||[],mediaDefault:a,mediaList:i}}function applyMediaQuery(r,t,n){var i={width:t,height:n,aspectratio:t/n},a=!0;return each$4(r,function(o,s){var l=s.match(QUERY_REG);if(!(!l||!l[1]||!l[2])){var u=l[1],c=l[2].toLowerCase();compare(i[c],o,u)||(a=!1)}}),a}function compare(r,t,n){return n==="min"?r>=t:n==="max"?r<=t:r===t}function indicesEquals(r,t){return r.join(",")===t.join(",")}var each$2=each$4,isObject$1=isObject$2,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var t=r&&r.itemStyle;if(t)for(var n=0,i=POSSIBLE_STYLES.length;n<i;n++){var a=POSSIBLE_STYLES[n],o=t.normal,s=t.emphasis;o&&o[a]&&(r[a]=r[a]||{},r[a].normal?merge(r[a].normal,o[a]):r[a].normal=o[a],o[a]=null),s&&s[a]&&(r[a]=r[a]||{},r[a].emphasis?merge(r[a].emphasis,s[a]):r[a].emphasis=s[a],s[a]=null)}}function convertNormalEmphasis(r,t,n){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var i=r[t].normal,a=r[t].emphasis;i&&(n?(r[t].normal=r[t].emphasis=null,defaults(r[t],i)):r[t]=i),a&&(r.emphasis=r.emphasis||{},r.emphasis[t]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,t){var n=isObject$1(r)&&r[t],i=isObject$1(n)&&n.textStyle;if(i)for(var a=0,o=TEXT_STYLE_OPTIONS.length;a<o;a++){var s=TEXT_STYLE_OPTIONS[a];i.hasOwnProperty(s)&&(n[s]=i[s])}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$1(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(compatEC2ItemStyle(t),compatEC3CommonStyles(t));var n=r.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var i=r.markArea;i&&compatEC3CommonStyles(i);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var o=r.links||r.edges;if(o&&!isTypedArray(o))for(var s=0;s<o.length;s++)compatEC3CommonStyles(o[s]);each$4(r.categories,function(c){removeEC3NormalStatus(c)})}if(a&&!isTypedArray(a))for(var s=0;s<a.length;s++)compatEC3CommonStyles(a[s]);if(t=r.markPoint,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)compatEC3CommonStyles(l[s]);if(n=r.markLine,n&&n.data)for(var u=n.data,s=0;s<u.length;s++)isArray(u[s])?(compatEC3CommonStyles(u[s][0]),compatEC3CommonStyles(u[s][1])):compatEC3CommonStyles(u[s]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$4(r.levels,function(c){removeEC3NormalStatus(c)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray(r)?r:r?[r]:[]}function toObj(r){return(isArray(r)?r[0]:r)||{}}function globalCompatStyle(r,t){each$2(toArr(r.series),function(i){isObject$1(i)&&processSeries(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$2(n,function(i){each$2(toArr(r[i]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$2(toArr(r.parallel),function(i){var a=i&&i.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$2(toArr(r.calendar),function(i){convertNormalEmphasis(i,"itemStyle"),compatTextStyle(i,"dayLabel"),compatTextStyle(i,"monthLabel"),compatTextStyle(i,"yearLabel")}),each$2(toArr(r.radar),function(i){compatTextStyle(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),each$2(toArr(r.geo),function(i){isObject$1(i)&&(compatEC3CommonStyles(i),each$2(toArr(i.regions),function(a){compatEC3CommonStyles(a)}))}),each$2(toArr(r.timeline),function(i){compatEC3CommonStyles(i),convertNormalEmphasis(i,"label"),convertNormalEmphasis(i,"itemStyle"),convertNormalEmphasis(i,"controlStyle",!0);var a=i.data;isArray(a)&&each$4(a,function(o){isObject$2(o)&&(convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"))})}),each$2(toArr(r.toolbox),function(i){convertNormalEmphasis(i,"iconStyle"),each$2(i.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,t){for(var n=t.split(","),i=r,a=0;a<n.length&&(i=i&&i[n[a]],i!=null);a++);return i}function set(r,t,n,i){for(var a=t.split(","),o=r,s,l=0;l<a.length-1;l++)s=a[l],o[s]==null&&(o[s]={}),o=o[s];o[a[l]]==null&&(o[a[l]]=n)}function compatLayoutProperties(r){r&&each$4(LAYOUT_PROPERTIES,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var t=r&&r.itemStyle;if(t)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var i=BAR_ITEM_STYLE_MAP[n][1],a=BAR_ITEM_STYLE_MAP[n][0];t[i]!=null&&(t[a]=t[i])}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function traverseTree(r,t){if(r)for(var n=0;n<r.length;n++)t(r[n]),r[n]&&traverseTree(r[n].children,t)}function globalBackwardCompat(r,t){globalCompatStyle(r,t),r.series=normalizeToArray(r.series),each$4(r.series,function(n){if(isObject$2(n)){var i=n.type;if(i==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(i==="pie"||i==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),compatPieLabel(n.label);var a=n.data;if(a&&!isTypedArray(a))for(var o=0;o<a.length;o++)compatPieLabel(a[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(i==="gauge"){var s=get(n,"pointer.color");s!=null&&set(n,"itemStyle.color",s)}else if(i==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var a=n.data;if(a&&!isTypedArray(a))for(var o=0;o<a.length;o++)typeof a[o]=="object"&&(compatBarItemStyle(a[o]),compatBarItemStyle(a[o]&&a[o].emphasis))}else if(i==="sunburst"){var l=n.highlightPolicy;l&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=l)),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else i==="graph"||i==="sankey"?compatGraphFocus(n):i==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&defaults(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),r.dataRange&&(r.visualMap=r.dataRange),each$4(COMPATITABLE_COMPONENTS,function(n){var i=r[n];i&&(isArray(i)||(i=[i]),each$4(i,function(a){compatLayoutProperties(a)}))})}function dataStack(r){var t=createHashMap();r.eachSeries(function(n){var i=n.get("stack");if(i){var a=t.get(i)||t.set(i,[]),o=n.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;a.push(s)}}),t.each(function(n){if(n.length!==0){var i=n[0].seriesModel,a=i.get("stackOrder")||"seriesAsc";a==="seriesDesc"&&n.reverse(),each$4(n,function(o,s){o.data.setCalculationInfo("stackedOnSeries",s>0?n[s-1].seriesModel:null)}),calculateStack(n)}})}function calculateStack(r){each$4(r,function(t,n){var i=[],a=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,l=t.isStackedByIndex,u=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(c,f,d){var g=s.get(t.stackedDimension,d);if(isNaN(g))return a;var v,y;l?y=s.getRawIndex(d):v=s.get(t.stackedByDimension,d);for(var _=NaN,x=n-1;x>=0;x--){var S=r[x];if(l||(y=S.data.rawIndexOf(S.stackedByDimension,v)),y>=0){var b=S.data.getByRawIndex(S.stackResultDimension,y);if(u==="all"||u==="positive"&&b>0||u==="negative"&&b<0||u==="samesign"&&g>=0&&b>0||u==="samesign"&&g<=0&&b<0){g=addSafe(g,b),_=b;break}}}return i[0]=g,i[1]=_,i})})}var SourceImpl=(function(){function r(t){this.data=t.data||(t.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=t.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=t.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var i=0;i<n.length;i++){var a=n[i];a.type==null&&guessOrdinal(this,i)===BE_ORDINAL.Must&&(a.type="ordinal")}}return r})();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,t,n){n=n||detectSourceFormat(r);var i=t.seriesLayoutBy,a=determineSourceDimensions(r,n,i,t.sourceHeader,t.dimensions),o=new SourceImpl({data:r,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(t)});return o}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$2(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var t=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))t=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray(r)){r.length===0&&(t=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){if(isArray(a)||isTypedArray(a)){t=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$2(a)){t=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$2(r)){for(var o in r)if(hasOwn(r,o)&&isArrayLike(r[o])){t=SOURCE_FORMAT_KEYED_COLUMNS;break}}return t}function determineSourceDimensions(r,t,n,i,a){var o,s;if(!r)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:s,dimensionsDetectedCount:o};if(t===SOURCE_FORMAT_ARRAY_ROWS){var l=r;i==="auto"||i==null?arrayRowsTravelFirst(function(c){c!=null&&c!=="-"&&(isString(c)?s==null&&(s=1):s=0)},n,l,10):s=isNumber(i)?i:i?1:0,!a&&s===1&&(a=[],arrayRowsTravelFirst(function(c,f){a[f]=c!=null?c+"":""},n,l,1/0)),o=a?a.length:n===SERIES_LAYOUT_BY_ROW?l.length:l[0]?l[0].length:null}else if(t===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(r));else if(t===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$4(r,function(c,f){a.push(f)}));else if(t===SOURCE_FORMAT_ORIGINAL){var u=getDataItemValue(r[0]);o=isArray(u)&&u.length||1}return{startIndex:s,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:o}}function objectRowsCollectDimensions(r){for(var t=0,n;t<r.length&&!(n=r[t++]););if(n)return keys(n)}function normalizeDimensionsOption(r){if(r){var t=createHashMap();return map$1(r,function(n,i){n=isObject$2(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var o=t.get(a.name);return o?a.name+="-"+o.count++:t.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(r,t,n,i){if(t===SERIES_LAYOUT_BY_ROW)for(var a=0;a<n.length&&a<i;a++)r(n[a]?n[a][0]:null,a);else for(var o=n[0]||[],a=0;a<o.length&&a<i;a++)r(o[a],a)}function shouldRetrieveDataByName(r){var t=r.sourceFormat;return t===SOURCE_FORMAT_OBJECT_ROWS||t===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,_d,providerMethods,mountMethods,DefaultDataProvider=(function(){function r(t,n){var i=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=i;var a=this._data=i.data,o=i.sourceFormat;i.seriesLayoutBy,o===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=n,this._data=a),mountMethods(this,a,i)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,n){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=(function(){var t=r.prototype;t.pure=!1,t.persistent=!0})(),r.internalField=(function(){var t;mountMethods=function(s,l,u){var c=u.sourceFormat,f=u.seriesLayoutBy,d=u.startIndex,g=u.dimensionsDefine,v=providerMethods[getMethodMapKey(c,f)];if(extend(s,v),c===SOURCE_FORMAT_TYPED_ARRAY)s.getItem=n,s.count=a,s.fillStorage=i;else{var y=getRawSourceItemGetter(c,f);s.getItem=bind$1(y,null,l,d,g);var _=getRawSourceDataCounter(c,f);s.count=bind$1(_,null,l,d,g)}};var n=function(s,l){s=s-this._offset,l=l||[];for(var u=this._data,c=this._dimSize,f=c*s,d=0;d<c;d++)l[d]=u[f+d];return l},i=function(s,l,u,c){for(var f=this._data,d=this._dimSize,g=0;g<d;g++){for(var v=c[g],y=v[0]==null?1/0:v[0],_=v[1]==null?-1/0:v[1],x=l-s,S=u[g],b=0;b<x;b++){var E=f[b*d+g];S[s+b]=E,E<y&&(y=E),E>_&&(_=E)}v[0]=y,v[1]=_}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:o},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:o},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(s){var l=this._data;each$4(s,function(u,c){for(var f=l[c]||(l[c]=[]),d=0;d<(u||[]).length;d++)f.push(u[d])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:o},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}})(),r})(),validateSimply=function(r){isArray(r)||error("series.data or dataset.source must be an array.")};_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=validateSimply,_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=validateSimply,_a[SOURCE_FORMAT_OBJECT_ROWS]=validateSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t){for(var n=0;n<t.length;n++){var i=t[n].name;i==null&&error("dimension name must not be null/undefined.")}},_a[SOURCE_FORMAT_ORIGINAL]=validateSimply;var getItemSimply=function(r,t,n,i){return r[i]},rawSourceItemGetterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n,i){return r[i+t]},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n,i,a){i+=t;for(var o=a||[],s=r,l=0;l<s.length;l++){var u=s[l];o[l]=u?u[i]:null}return o},_b[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n,i,a){for(var o=a||[],s=0;s<n.length;s++){var l=n[s].name,u=l!=null?r[l]:null;o[s]=u?u[i]:null}return o},_b[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_b);function getRawSourceItemGetter(r,t){var n=rawSourceItemGetterMap[getMethodMapKey(r,t)];return n}var countSimply=function(r,t,n){return r.length},rawSourceDataCounterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n){return Math.max(0,r.length-t)},_c[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n){var i=r[0];return i?Math.max(0,i.length-t):0},_c[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_c[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n){var i=n[0].name,a=i!=null?r[i]:null;return a?a.length:0},_c[SOURCE_FORMAT_ORIGINAL]=countSimply,_c);function getRawSourceDataCounter(r,t){var n=rawSourceDataCounterMap[getMethodMapKey(r,t)];return n}var getRawValueSimply=function(r,t,n){return r[t]},rawSourceValueGetterMap=(_d={},_d[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_d[SOURCE_FORMAT_OBJECT_ROWS]=function(r,t,n){return r[n]},_d[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_d[SOURCE_FORMAT_ORIGINAL]=function(r,t,n){var i=getDataItemValue(r);return i instanceof Array?i[t]:i},_d[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_d);function getRawSourceValueGetter(r){var t=rawSourceValueGetterMap[r];return t}function getMethodMapKey(r,t){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+t:r}function retrieveRawValue(r,t,n){if(r){var i=r.getRawDataItem(t);if(i!=null){var a=r.getStore(),o=a.getSource().sourceFormat;if(n!=null){var s=r.getDimensionIndex(n),l=a.getDimensionProperty(s);return getRawSourceValueGetter(o)(i,s,l)}else{var u=i;return o===SOURCE_FORMAT_ORIGINAL&&(u=getDataItemValue(i)),u}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=(function(){function r(){}return r.prototype.getDataParams=function(t,n){var i=this.getData(n),a=this.getRawValue(t,n),o=i.getRawIndex(t),s=i.getName(t),l=i.getRawDataItem(t),u=i.getItemVisual(t,"style"),c=u&&u[i.getItemVisual(t,"drawType")||"fill"],f=u&&u.stroke,d=this.mainType,g=d==="series",v=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:s,dataIndex:o,data:l,dataType:n,value:a,color:c,borderColor:f,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,n,i,a,o,s){n=n||"normal";var l=this.getData(i),u=this.getDataParams(t,i);if(s&&(u.value=s.interpolatedValue),a!=null&&isArray(u.value)&&(u.value=u.value[a]),!o){var c=l.getItemModel(t);o=c.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction(o))return u.status=n,u.dimensionIndex=a,o(u);if(isString(o)){var f=formatTpl(o,u);return f.replace(DIMENSION_LABEL_REG,function(d,g){var v=g.length,y=g;y.charAt(0)==="["&&y.charAt(v-1)==="]"&&(y=+y.slice(1,v-1));var _=retrieveRawValue(l,t,y);if(s&&isArray(s.interpolatedValue)){var x=l.getDimensionIndex(y);x>=0&&(_=s.interpolatedValue[x])}return _!=null?_+"":""})}},r.prototype.getRawValue=function(t,n){return retrieveRawValue(this.getData(n),t)},r.prototype.formatTooltip=function(t,n,i){},r})();function normalizeTooltipFormatResult(r){var t,n;return isObject$2(r)?r.type&&(n=r):t=r,{text:t,frag:n}}function createTask(r){return new Task(r)}var Task=(function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var s=f(this._modBy),l=this._modDataCount||0,u=f(t&&t.modBy),c=t&&t.modDataCount||0;(s!==u||l!==c)&&(o="reset");function f(b){return!(b>=1)&&(b=1),b}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(i)),this._modBy=u,this._modDataCount=c;var g=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,y=Math.min(g!=null?this._dueIndex+g:1/0,this._dueEnd);if(!i&&(d||v<y)){var _=this._progress;if(isArray(_))for(var x=0;x<_.length;x++)this._doProgress(_[x],v,y,u,c);else this._doProgress(_,v,y,u,c)}this._dueIndex=y;var S=this._settedOutputEnd!=null?this._settedOutputEnd:y;this._outputDueEnd=S}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,n,i,a,o){iterator.reset(n,i,a,o),this._callingProgress=t,this._callingProgress({start:n,end:i,count:i-n,next:iterator.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,i;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(i=n.forceFirstProgress,n=n.progress),isArray(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),i},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r})(),iterator=(function(){var r,t,n,i,a,o={reset:function(u,c,f,d){t=u,r=c,n=f,i=d,a=Math.ceil(i/n),o.next=n>1&&i>0?l:s}};return o;function s(){return t<r?t++:null}function l(){var u=t%a*n+Math.ceil(t/a),c=t>=r?null:u<i?u:t;return t++,c}})();function parseDataValue(r,t){var n=t&&t.type;return n==="ordinal"?r:(n==="time"&&!isNumber(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:Number(r))}createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString(r)?trim(r):r}});var SortOrderComparator=(function(){function r(t,n){var i=t==="desc";this._resultLT=i?1:-1,n==null&&(n=i?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,n){var i=isNumber(t)?t:numericToNumber(t),a=isNumber(n)?n:numericToNumber(n),o=isNaN(i),s=isNaN(a);if(o&&(i=this._incomparable),s&&(a=this._incomparable),o&&s){var l=isString(t),u=isString(n);l&&(i=u?t:0),u&&(a=l?n:0)}return i<a?this._resultLT:i>a?-this._resultLT:0},r})(),ExternalSource=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,n){},r.prototype.retrieveValueFromItem=function(t,n){},r.prototype.convertValue=function(t,n){return parseDataValue(t,n)},r})();function createExternalSource(r,t){var n=new ExternalSource,i=r.data,a=n.sourceFormat=r.sourceFormat,o=r.startIndex,s="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(s);var l=[],u={},c=r.dimensionsDefine;if(c)each$4(c,function(_,x){var S=_.name,b={index:x,name:S,displayName:_.displayName};if(l.push(b),S!=null){var E="";hasOwn(u,S)&&throwError(E),u[S]=b}});else for(var f=0;f<r.dimensionsDetectedCount;f++)l.push({index:f});var d=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);t.__isBuiltIn&&(n.getRawDataItem=function(_){return d(i,o,l,_)},n.getRawData=bind$1(getRawData,null,r)),n.cloneRawData=bind$1(cloneRawData,null,r);var g=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(g,null,i,o,l);var v=getRawSourceValueGetter(a);n.retrieveValue=function(_,x){var S=d(i,o,l,_);return y(S,x)};var y=n.retrieveValueFromItem=function(_,x){if(_!=null){var S=l[x];if(S)return v(_,x,S.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,l,u),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,l),n}function getRawData(r){var t=r.sourceFormat;if(!isSupportedSourceFormat(t)){var n="";throwError(n)}return r.data}function cloneRawData(r){var t=r.sourceFormat,n=r.data;if(!isSupportedSourceFormat(t)){var i="";throwError(i)}if(t===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],o=0,s=n.length;o<s;o++)a.push(n[o].slice());return a}else if(t===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],o=0,s=n.length;o<s;o++)a.push(extend({},n[o]));return a}}function getDimensionInfo(r,t,n){if(n!=null){if(isNumber(n)||!isNaN(n)&&!hasOwn(t,n))return r[n];if(hasOwn(t,n))return t[n]}}function cloneAllDimensionInfo(r){return clone$2(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$2(r);var t=r.type,n="";t||throwError(n);var i=t.split(":");i.length!==2&&throwError(n);var a=!1;i[0]==="echarts"&&(t=i[1],a=!0),r.__isBuiltIn=a,externalTransformMap.set(t,r)}function applyDataTransform(r,t,n){var i=normalizeToArray(r),a=i.length,o="";a||throwError(o);for(var s=0,l=a;s<l;s++){var u=i[s];t=applySingleDataTransform(u,t),s!==l-1&&(t.length=Math.max(t.length,1))}return t}function applySingleDataTransform(r,t,n,i){var a="";t.length||throwError(a),isObject$2(r)||throwError(a);var o=r.type,s=externalTransformMap.get(o);s||throwError(a);var l=map$1(t,function(c){return createExternalSource(c,s)}),u=normalizeToArray(s.transform({upstream:l[0],upstreamList:l,config:clone$2(r.config)}));return map$1(u,function(c,f){var d="";isObject$2(c)||throwError(d),c.data||throwError(d);var g=detectSourceFormat(c.data);isSupportedSourceFormat(g)||throwError(d);var v,y=t[0];if(y&&f===0&&!c.dimensions){var _=y.startIndex;_&&(c.data=y.data.slice(0,_).concat(c.data)),v={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:_,dimensions:y.metaRawOption.dimensions}}else v={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:c.dimensions};return createSource(c.data,v,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function prepareStore(r,t,n,i,a){var o=dataCtors[n||"float"];if(a){var s=r[t],l=s&&s.length;if(l!==i){for(var u=new o(i),c=0;c<l;c++)u[c]=s[c];r[t]=u}}else r[t]=new o(i)}var DataStore=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(t,n,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),o=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],shouldRetrieveDataByName(a),this._dimensions=map$1(n,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,n){var i=this._calcDimNameToIdx,a=this._dimensions,o=i.get(t);if(o!=null){if(a[o].type===n)return o}else o=a.length;return a[o]={type:n},i.set(t,o),this._chunks[o]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[o]=getInitialExtent(),o},r.prototype.collectOrdinalMeta=function(t,n){var i=this._chunks[t],a=this._dimensions[t],o=this._rawExtent,s=a.ordinalOffset||0,l=i.length;s===0&&(o[t]=getInitialExtent());for(var u=o[t],c=s;c<l;c++){var f=i[c]=n.parseAndCollect(i[c]);isNaN(f)||(u[0]=Math.min(f,u[0]),u[1]=Math.max(f,u[1]))}a.ordinalMeta=n,a.ordinalOffset=l,a.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],i=n.ordinalMeta;return i},r.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},r.prototype.appendData=function(t){var n=this._provider,i=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=i),i<a&&this._initDataFromProvider(i,a,!0),[i,a]},r.prototype.appendValues=function(t,n){for(var i=this._chunks,a=this._dimensions,o=a.length,s=this._rawExtent,l=this.count(),u=l+Math.max(t.length,n||0),c=0;c<o;c++){var f=a[c];prepareStore(i,c,f.type,u,!0)}for(var d=[],g=l;g<u;g++)for(var v=g-l,y=0;y<o;y++){var f=a[y],_=defaultDimValueGetters.arrayRows.call(this,t[v]||d,f.property,v,y);i[y][g]=_;var x=s[y];_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}return this._rawCount=this._count=u,{start:l,end:u}},r.prototype._initDataFromProvider=function(t,n,i){for(var a=this._provider,o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,c=map$1(s,function(b){return b.property}),f=0;f<l;f++){var d=s[f];u[f]||(u[f]=getInitialExtent()),prepareStore(o,f,d.type,n,i)}if(a.fillStorage)a.fillStorage(t,n,o,u);else for(var g=[],v=t;v<n;v++){g=a.getItem(v,g);for(var y=0;y<l;y++){var _=o[y],x=this._dimValueGetter(g,c[y],v,y);_[v]=x;var S=u[y];x<S[0]&&(S[0]=x),x>S[1]&&(S[1]=x)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(n)]:NaN},r.prototype.getValues=function(t,n){var i=[],a=[];if(n==null){n=t,t=[];for(var o=0;o<this._dimensions.length;o++)a.push(o)}else a=t;for(var o=0,s=a.length;o<s;o++)i.push(this.get(a[o],n));return i},r.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var i=this._chunks[t];return i?i[n]:NaN},r.prototype.getSum=function(t){var n=this._chunks[t],i=0;if(n)for(var a=0,o=this.count();a<o;a++){var s=this.get(t,a);isNaN(s)||(i+=s)}return i},r.prototype.getMedian=function(t){var n=[];this.each([t],function(o){isNaN(o)||n.push(o)});var i=n.sort(function(o,s){return o-s}),a=this.count();return a===0?0:a%2===1?i[(a-1)/2]:(i[a/2]+i[a/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,i=n[t];if(i!=null&&i<this._count&&i===t)return t;for(var a=0,o=this._count-1;a<=o;){var s=(a+o)/2|0;if(n[s]<t)a=s+1;else if(n[s]>t)o=s-1;else return s}return-1},r.prototype.getIndices=function(){var t,n=this._indices;if(n){var i=n.constructor,a=this._count;if(i===Array){t=new i(a);for(var o=0;o<a;o++)t[o]=n[o]}else t=new i(n.buffer,0,a)}else{var i=getIndicesCtor(this._rawCount);t=new i(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},r.prototype.filter=function(t,n){if(!this._count)return this;for(var i=this.clone(),a=i.count(),o=getIndicesCtor(i._rawCount),s=new o(a),l=[],u=t.length,c=0,f=t[0],d=i._chunks,g=0;g<a;g++){var v=void 0,y=i.getRawIndex(g);if(u===0)v=n(g);else if(u===1){var _=d[f][y];v=n(_,g)}else{for(var x=0;x<u;x++)l[x]=d[t[x]][y];l[x]=g,v=n.apply(null,l)}v&&(s[c++]=y)}return c<a&&(i._indices=s),i._count=c,i._extent=[],i._updateGetRawIdx(),i},r.prototype.selectRange=function(t){var n=this.clone(),i=n._count;if(!i)return this;var a=keys(t),o=a.length;if(!o)return this;var s=n.count(),l=getIndicesCtor(n._rawCount),u=new l(s),c=0,f=a[0],d=t[f][0],g=t[f][1],v=n._chunks,y=!1;if(!n._indices){var _=0;if(o===1){for(var x=v[a[0]],S=0;S<i;S++){var b=x[S];(b>=d&&b<=g||isNaN(b))&&(u[c++]=_),_++}y=!0}else if(o===2){for(var x=v[a[0]],E=v[a[1]],M=t[a[1]][0],D=t[a[1]][1],S=0;S<i;S++){var b=x[S],w=E[S];(b>=d&&b<=g||isNaN(b))&&(w>=M&&w<=D||isNaN(w))&&(u[c++]=_),_++}y=!0}}if(!y)if(o===1)for(var S=0;S<s;S++){var I=n.getRawIndex(S),b=v[a[0]][I];(b>=d&&b<=g||isNaN(b))&&(u[c++]=I)}else for(var S=0;S<s;S++){for(var R=!0,I=n.getRawIndex(S),P=0;P<o;P++){var O=a[P],b=v[O][I];(b<t[O][0]||b>t[O][1])&&(R=!1)}R&&(u[c++]=n.getRawIndex(S))}return c<s&&(n._indices=u),n._count=c,n._extent=[],n._updateGetRawIdx(),n},r.prototype.map=function(t,n){var i=this.clone(t);return this._updateDims(i,t,n),i},r.prototype.modify=function(t,n){this._updateDims(this,t,n)},r.prototype._updateDims=function(t,n,i){for(var a=t._chunks,o=[],s=n.length,l=t.count(),u=[],c=t._rawExtent,f=0;f<n.length;f++)c[n[f]]=getInitialExtent();for(var d=0;d<l;d++){for(var g=t.getRawIndex(d),v=0;v<s;v++)u[v]=a[n[v]][g];u[s]=d;var y=i&&i.apply(null,u);if(y!=null){typeof y!="object"&&(o[0]=y,y=o);for(var f=0;f<y.length;f++){var _=n[f],x=y[f],S=c[_],b=a[_];b&&(b[g]=x),x<S[0]&&(S[0]=x),x>S[1]&&(S[1]=x)}}}},r.prototype.lttbDownSample=function(t,n){var i=this.clone([t],!0),a=i._chunks,o=a[t],s=this.count(),l=0,u=Math.floor(1/n),c=this.getRawIndex(0),f,d,g,v=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(s/u)+2)*2,s));v[l++]=c;for(var y=1;y<s-1;y+=u){for(var _=Math.min(y+u,s-1),x=Math.min(y+u*2,s),S=(x+_)/2,b=0,E=_;E<x;E++){var M=this.getRawIndex(E),D=o[M];isNaN(D)||(b+=D)}b/=x-_;var w=y,I=Math.min(y+u,s),R=y-1,P=o[c];f=-1,g=w;for(var O=-1,L=0,E=w;E<I;E++){var M=this.getRawIndex(E),D=o[M];if(isNaN(D)){L++,O<0&&(O=M);continue}d=Math.abs((R-S)*(D-P)-(R-E)*(b-P)),d>f&&(f=d,g=M)}L>0&&L<I-w&&(v[l++]=Math.min(O,g),g=Math.max(O,g)),v[l++]=g,c=g}return v[l++]=this.getRawIndex(s-1),i._count=l,i._indices=v,i.getRawIndex=this._getRawIdx,i},r.prototype.minmaxDownSample=function(t,n){for(var i=this.clone([t],!0),a=i._chunks,o=Math.floor(1/n),s=a[t],l=this.count(),u=new(getIndicesCtor(this._rawCount))(Math.ceil(l/o)*2),c=0,f=0;f<l;f+=o){var d=f,g=s[this.getRawIndex(d)],v=f,y=s[this.getRawIndex(v)],_=o;f+o>l&&(_=l-f);for(var x=0;x<_;x++){var S=this.getRawIndex(f+x),b=s[S];b<g&&(g=b,d=f+x),b>y&&(y=b,v=f+x)}var E=this.getRawIndex(d),M=this.getRawIndex(v);d<v?(u[c++]=E,u[c++]=M):(u[c++]=M,u[c++]=E)}return i._count=c,i._indices=u,i._updateGetRawIdx(),i},r.prototype.downSample=function(t,n,i,a){for(var o=this.clone([t],!0),s=o._chunks,l=[],u=Math.floor(1/n),c=s[t],f=this.count(),d=o._rawExtent[t]=getInitialExtent(),g=new(getIndicesCtor(this._rawCount))(Math.ceil(f/u)),v=0,y=0;y<f;y+=u){u>f-y&&(u=f-y,l.length=u);for(var _=0;_<u;_++){var x=this.getRawIndex(y+_);l[_]=c[x]}var S=i(l),b=this.getRawIndex(Math.min(y+a(l,S)||0,f-1));c[b]=S,S<d[0]&&(d[0]=S),S>d[1]&&(d[1]=S),g[v++]=b}return o._count=v,o._indices=g,o._updateGetRawIdx(),o},r.prototype.each=function(t,n){if(this._count)for(var i=t.length,a=this._chunks,o=0,s=this.count();o<s;o++){var l=this.getRawIndex(o);switch(i){case 0:n(o);break;case 1:n(a[t[0]][l],o);break;case 2:n(a[t[0]][l],a[t[1]][l],o);break;default:for(var u=0,c=[];u<i;u++)c[u]=a[t[u]][l];c[u]=o,n.apply(null,c)}}},r.prototype.getDataExtent=function(t){var n=this._chunks[t],i=getInitialExtent();if(!n)return i;var a=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=i;for(var l=s[0],u=s[1],c=0;c<a;c++){var f=this.getRawIndex(c),d=n[f];d<l&&(l=d),d>u&&(u=d)}return s=[l,u],this._extent[t]=s,s},r.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var i=[],a=this._chunks,o=0;o<a.length;o++)i.push(a[o][n]);return i},r.prototype.clone=function(t,n){var i=new r,a=this._chunks,o=t&&reduce(t,function(l,u){return l[u]=!0,l},{});if(o)for(var s=0;s<a.length;s++)i._chunks[s]=o[s]?cloneChunk(a[s]):a[s];else i._chunks=a;return this._copyCommonProps(i),n||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$2(this._extent),t._rawExtent=clone$2(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var i=this._indices.length;n=new t(i);for(var a=0;a<i;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function t(n,i,a,o){return parseDataValue(n[o],this._dimensions[o])}defaultDimValueGetters={arrayRows:t,objectRows:function(n,i,a,o){return parseDataValue(n[i],this._dimensions[o])},keyedColumns:t,original:function(n,i,a,o){var s=n&&(n.value==null?n:n.value);return parseDataValue(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(n,i,a,o){return n[o]}}})(),r})(),SourceManager=(function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),i=!!n.length,a,o;if(isSeries(t)){var s=t,l=void 0,u=void 0,c=void 0;if(i){var f=n[0];f.prepareSource(),c=f.getSource(),l=c.data,u=c.sourceFormat,o=[f._getVersionSign()]}else l=s.get("data",!0),u=isTypedArray(l)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,o=[];var d=this._getSourceMetaRawOption()||{},g=c&&c.metaRawOption||{},v=retrieve2(d.seriesLayoutBy,g.seriesLayoutBy)||null,y=retrieve2(d.sourceHeader,g.sourceHeader),_=retrieve2(d.dimensions,g.dimensions),x=v!==g.seriesLayoutBy||!!y!=!!g.sourceHeader||_;a=x?[createSource(l,{seriesLayoutBy:v,sourceHeader:y,dimensions:_},u)]:[]}else{var S=t;if(i){var b=this._applyTransform(n);a=b.sourceList,o=b.upstreamSignList}else{var E=S.get("source",!0);a=[createSource(E,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(a,o)},r.prototype._applyTransform=function(t){var n=this._sourceHost,i=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(a!=null){var o="";t.length!==1&&doThrow(o)}var s,l=[],u=[];return each$4(t,function(c){c.prepareSource();var f=c.getSource(a||0),d="";a!=null&&!f&&doThrow(d),l.push(f),u.push(c._getVersionSign())}),i?s=applyDataTransform(i,l,{datasetIndex:n.componentIndex}):a!=null&&(s=[cloneSourceShallow(l[0])]),{sourceList:s,upstreamSignList:u}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var i=t[n];if(i._isDirty()||this._upstreamSignList[n]!==i._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return n},r.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},r.prototype._innerGetDataStore=function(t,n,i){var a=0,o=this._storeList,s=o[a];s||(s=o[a]={});var l=s[i];if(!l){var u=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&u?l=u._innerGetDataStore(t,n,i):(l=new DataStore,l.initData(new DefaultDataProvider(n,t.length),t)),s[i]=l}return l},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var n=querySeriesUpstreamDatasetModel(t);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(t),function(i){return i.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,i,a;if(isSeries(t))n=t.get("seriesLayoutBy",!0),i=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;n=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),a=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:i,dimensions:a}},r})();function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(r){var t=r.lineHeight;return t==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(t+"")+"px"}function getTooltipTextStyle(r,t){var n=r.color||tokens.color.tertiary,i=r.fontSize||12,a=r.fontWeight||"400",o=r.color||tokens.color.secondary,s=r.fontSize||14,l=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+encodeHTML(i+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(s+"")+"px;color:"+encodeHTML(o)+";font-weight:"+encodeHTML(l+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:a},valueStyle:{fontSize:s,fill:o,fontWeight:l}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,t){return t.type=r,t}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var t=0,n=r.blocks.length,i=n>1||n>0&&!r.noHeader;return each$4(r.blocks,function(a){var o=getBlockGapLevel(a);o>=t&&(t=o+ +(i&&(!o||isSectionFragment(a)&&!a.noHeader)))}),t}return 0}function buildSection(r,t,n,i){var a=t.noHeader,o=getGap(getBlockGapLevel(t)),s=[],l=t.blocks||[];assert(!l||isArray(l)),l=l||[];var u=r.orderMode;if(t.sortBlocks&&u){l=l.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(c,u)){var f=new SortOrderComparator(c[u],null);l.sort(function(_,x){return f.evaluate(_.sortParam,x.sortParam)})}else u==="seriesDesc"&&l.reverse()}each$4(l,function(_,x){var S=t.valueFormatter,b=getBuilder(_)(S?extend(extend({},r),{valueFormatter:S}):r,_,x>0?o.html:0,i);b!=null&&s.push(b)});var d=r.renderMode==="richText"?s.join(o.richText):wrapBlockHTML(i,s.join(""),a?n:o.html);if(a)return d;var g=makeValueReadable(t.header,"ordinal",r.useUTC),v=getTooltipTextStyle(i,r.renderMode).nameStyle,y=getTooltipLineHeight(i);return r.renderMode==="richText"?wrapInlineNameRichText(r,g,v)+o.richText+d:wrapBlockHTML(i,'<div style="'+v+";"+y+';">'+encodeHTML(g)+"</div>"+d,n)}function buildNameValue(r,t,n,i){var a=r.renderMode,o=t.noName,s=t.noValue,l=!t.markerType,u=t.name,c=r.useUTC,f=t.valueFormatter||r.valueFormatter||function(M){return M=isArray(M)?M:[M],map$1(M,function(D,w){return makeValueReadable(D,isArray(v)?v[w]:v,c)})};if(!(o&&s)){var d=l?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||tokens.color.secondary,a),g=o?"":makeValueReadable(u,"ordinal",c),v=t.valueType,y=s?[]:f(t.value,t.dataIndex),_=!l||!o,x=!l&&o,S=getTooltipTextStyle(i,a),b=S.nameStyle,E=S.valueStyle;return a==="richText"?(l?"":d)+(o?"":wrapInlineNameRichText(r,g,b))+(s?"":wrapInlineValueRichText(r,y,_,x,E)):wrapBlockHTML(i,(l?"":d)+(o?"":wrapInlineNameHTML(g,!l,b))+(s?"":wrapInlineValueHTML(y,_,x,E)),n)}}function buildTooltipMarkup(r,t,n,i,a,o){if(r){var s=getBuilder(r),l={useUTC:a,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:r.valueFormatter};return s(l,r,0,o)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,t,n){var i='<div style="clear:both"></div>',a="margin: "+n+"px 0 0",o=getTooltipLineHeight(r);return'<div style="'+a+";"+o+';">'+t+i+"</div>"}function wrapInlineNameHTML(r,t,n){var i=t?"margin-left:2px":"";return'<span style="'+n+";"+i+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,t,n,i){var a=n?"10px":"20px",o=t?"float:right;margin-left:"+a:"";return r=isArray(r)?r:[r],'<span style="'+o+";"+i+'">'+map$1(r,function(s){return encodeHTML(s)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,t,n){return r.markupStyleCreator.wrapRichTextStyle(t,n)}function wrapInlineValueRichText(r,t,n,i,a){var o=[a],s=i?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray(t)?t.join("  "):t,o)}function retrieveVisualColorForTooltipMarker(r,t){var n=r.getData().getItemVisual(t,"style"),i=n[r.visualDrawType];return convertToColorString(i)}function getPaddingFromTooltipModel(r,t){var n=r.get("padding");return n??(t==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,n,i){var a=i==="richText"?this._generateStyleName():null,o=getTooltipMarker({color:n,type:t,renderMode:i,markerId:a});return isString(o)?o:(this.richTextStyles[a]=o.style,o.content)},r.prototype.wrapRichTextStyle=function(t,n){var i={};isArray(n)?each$4(n,function(o){return extend(i,o)}):extend(i,n);var a=this._generateStyleName();return this.richTextStyles[a]=i,"{"+a+"|"+t+"}"},r})();function defaultSeriesFormatTooltip(r){var t=r.series,n=r.dataIndex,i=r.multipleSeries,a=t.getData(),o=a.mapDimensionsAll("defaultedTooltip"),s=o.length,l=t.getRawValue(n),u=isArray(l),c=retrieveVisualColorForTooltipMarker(t,n),f,d,g,v;if(s>1||u&&!s){var y=formatTooltipArrayValue(l,t,n,o,c);f=y.inlineValues,d=y.inlineValueTypes,g=y.blocks,v=y.inlineValues[0]}else if(s){var _=a.getDimensionInfo(o[0]);v=f=retrieveRawValue(a,n,o[0]),d=_.type}else v=f=u?l[0]:l;var x=isNameSpecified(t),S=x&&t.name||"",b=a.getName(n),E=i?S:b;return createTooltipMarkup("section",{header:S,noHeader:i||!x,sortParam:v,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:c,name:E,noName:!trim(E),value:f,valueType:d,dataIndex:n})].concat(g||[])})}function formatTooltipArrayValue(r,t,n,i,a){var o=t.getData(),s=reduce(r,function(d,g,v){var y=o.getDimensionInfo(v);return d=d||y&&y.tooltip!==!1&&y.displayName!=null},!1),l=[],u=[],c=[];i.length?each$4(i,function(d){f(retrieveRawValue(o,n,d),d)}):each$4(r,f);function f(d,g){var v=o.getDimensionInfo(g);!v||v.otherDims.tooltip===!1||(s?c.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:v.displayName,value:d,valueType:v.type})):(l.push(d),u.push(v.type)))}return{inlineValues:l,inlineValueTypes:u,blocks:c}}var inner$7=makeInner();function getSelectionKey(r,t){return r.getName(t)||r.getId(t)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,i,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var o=inner$7(this).sourceManager=new SourceManager(this);o.prepareSource();var s=this.getInitialData(n,a);wrapData(s,this),this.dataTask.context.data=s,inner$7(this).dataBeforeProcessed=s,autoSeriesName(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(n,i){var a=fetchLayoutMode(this),o=a?getLayoutParams(n):{},s=this.subType;ComponentModel.hasClass(s)&&(s+="Series"),merge(n,i.getTheme().get(this.subType)),merge(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&mergeLayoutParam(n,o,a)},t.prototype.mergeOption=function(n,i){n=merge(this.option,n,!0),this.fillDataTextStyle(n.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a);var o=inner$7(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(n,i);wrapData(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,inner$7(this).dataBeforeProcessed=s,autoSeriesName(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var i=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&defaultEmphasis(n[a],"label",i)},t.prototype.getInitialData=function(n,i){},t.prototype.appendData=function(n){var i=this.getRawData();i.appendData(n.data)},t.prototype.getData=function(n){var i=getCurrentTask(this);if(i){var a=i.context.data;return n==null||!a.getLinkedData?a:a.getLinkedData(n)}else return inner$7(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var i=getCurrentTask(this);if(i){var a=i.context;a.outputData=n,i!==this.dataTask&&(a.data=n)}inner$7(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},t.prototype.getSourceManager=function(){return inner$7(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return inner$7(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.indicesOfNearest=function(n,i,a,o){var s=this.getData(),l=this.coordinateSystem,u=l&&l.getAxis(n);if(!l||!u)return[];var c=u.dataToCoord(a);o==null&&(o=1/0);var f=[],d=1/0,g=-1,v=0;return s.each(i,function(y,_){var x=u.dataToCoord(y),S=c-x,b=Math.abs(S);b<=o&&((b<d||b===d&&S>=0&&g<0)&&(d=b,g=S,v=0),S===g&&(f[v++]=_))}),f.length=v,f},t.prototype.formatTooltip=function(n,i,a){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env.node&&!(n&&n.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,i,a){var o=this.ecModel,s=PaletteMixin.prototype.getColorFromPalette.call(this,n,i,a);return s||(s=o.getColorFromPalette(n,i,a)),s},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,i){this._innerSelect(this.getData(i),n)},t.prototype.unselect=function(n,i){var a=this.option.selectedMap;if(a){var o=this.option.selectedMode,s=this.getData(i);if(o==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var l=0;l<n.length;l++){var u=n[l],c=getSelectionKey(s,u);a[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(n,i){for(var a=[],o=0;o<n.length;o++)a[0]=n[o],this.isSelected(n[o],i)?this.unselect(a,i):this.select(a,i)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,i=keys(n),a=[],o=0;o<i.length;o++){var s=n[i[o]];s>=0&&a.push(s)}return a},t.prototype.isSelected=function(n,i){var a=this.option.selectedMap;if(!a)return!1;var o=this.getData(i);return(a==="all"||a[getSelectionKey(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,i){var a,o,s=this.option,l=s.selectedMode,u=i.length;if(!(!l||!u)){if(l==="series")s.selectedMap="all";else if(l==="multiple"){isObject$2(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,f=0;f<u;f++){var d=i[f],g=getSelectionKey(n,d);c[g]=!0,this._selectedDataIndicesMap[g]=n.getRawIndex(d)}}else if(l==="single"||l===!0){var v=i[u-1],g=getSelectionKey(n,v);s.selectedMap=(a={},a[g]=!0,a),this._selectedDataIndicesMap=(o={},o[g]=n.getRawIndex(v),o)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var i=[];n.hasItemOption&&n.each(function(a){var o=n.getRawDataItem(a);o&&o.selected&&i.push(a)}),i.length>0&&this._innerSelect(n,i)}},t.registerClass=function(n){return ComponentModel.registerClass(n)},t.protoInitialize=(function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"})(),t})(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(r){var t=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||t)}function getSeriesAutoName(r){var t=r.getRawData(),n=t.mapDimensionsAll("seriesName"),i=[];return each$4(n,function(a){var o=t.getDimensionInfo(a);o.displayName&&i.push(o.displayName)}),i.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wrapData(r,t){each$4(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(n){r.wrapMethod(n,curry$1(onDataChange,t))})}function onDataChange(r,t){var n=getCurrentTask(r);return n&&n.setOutputEnd((t||this).count()),t}function getCurrentTask(r){var t=(r.ecModel||{}).scheduler,n=t&&t.getPipeline(r.uid);if(n){var i=n.currentTask;if(i){var a=i.agentStubMap;a&&(i=a.get(r.uid))}return i}}var ComponentView=(function(){function r(){this.group=new Group$2,this.uid=getUID("viewComponent")}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,i,a){},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,i,a){},r.prototype.updateLayout=function(t,n,i,a){},r.prototype.updateVisual=function(t,n,i,a){},r.prototype.toggleBlurSeries=function(t,n,i){},r.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},r})();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var r=makeInner();return function(t){var n=r(t),i=t.pipelineContext,a=!!n.large,o=!!n.progressiveRender,s=n.large=!!(i&&i.large),l=n.progressiveRender=!!(i&&i.progressiveRender);return(a!==s||o!==l)&&"reset"}}var inner$6=makeInner(),renderPlanner=createRenderPlanner(),ChartView=(function(){function r(){this.group=new Group$2,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,i,a){},r.prototype.highlight=function(t,n,i,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,"emphasis")},r.prototype.downplay=function(t,n,i,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,"normal")},r.prototype.remove=function(t,n){this.group.removeAll()},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.updateLayout=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.updateVisual=function(t,n,i,a){this.render(t,n,i,a)},r.prototype.eachRendered=function(t){traverseElements(this.group,t)},r.markUpdateMethod=function(t,n){inner$6(t).updateMethod=n},r.protoInitialize=(function(){var t=r.prototype;t.type="chart"})(),r})();function elSetState(r,t,n){r&&isHighDownDispatcher(r)&&(t==="emphasis"?enterEmphasis:leaveEmphasis)(r,n)}function toggleHighlight(r,t,n){var i=queryDataIndex(r,t),a=t&&t.highlightKey!=null?getHighlightDigit(t.highlightKey):null;i!=null?each$4(normalizeToArray(i),function(o){elSetState(r.getItemGraphicEl(o),n,a)}):r.eachItemGraphicEl(function(o){elSetState(o,n,a)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var t=r.model,n=r.ecModel,i=r.api,a=r.payload,o=t.pipelineContext.progressiveRender,s=r.view,l=a&&inner$6(a).updateMethod,u=o?"incrementalPrepareRender":l&&s[l]?l:"render";return u!=="render"&&s[u](t,n,i,a),progressMethodMap[u]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,t,n){var i,a=0,o=0,s=null,l,u,c,f;t=t||0;function d(){o=new Date().getTime(),s=null,r.apply(u,c||[])}var g=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];i=new Date().getTime(),u=this,c=v;var _=f||t,x=f||n;f=null,l=i-(x?a:o)-_,clearTimeout(s),x?s=setTimeout(d,_):l>=0?d():s=setTimeout(d,-l),a=i};return g.clear=function(){s&&(clearTimeout(s),s=null)},g.debounceNextCall=function(v){f=v},g}function createOrUpdate(r,t,n,i){var a=r[t];if(a){var o=a[ORIGIN_METHOD]||a,s=a[THROTTLE_TYPE],l=a[RATE];if(l!==n||s!==i){if(n==null||!i)return r[t]=o;a=r[t]=throttle(o,n,i==="debounce"),a[ORIGIN_METHOD]=o,a[THROTTLE_TYPE]=i,a[RATE]=n}return a}}function clear(r,t){var n=r[t];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),r[t]=n[ORIGIN_METHOD])}var inner$5=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,t){var n=r.visualStyleMapper||defaultStyleMappers[t];return n||(console.warn("Unknown style type '"+t+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,t){var n=r.visualDrawType||defaultColorKey[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData(),i=r.visualStyleAccessPath||"itemStyle",a=r.getModel(i),o=getStyleMapper(r,i),s=o(a),l=a.getShallow("decal");l&&(n.setVisual("decal",l),l.dirty=!0);var u=getDefaultColorKey(r,i),c=s[u],f=isFunction(c)?c:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[u]||f||d){var g=r.getColorFromPalette(r.name,null,t.getSeriesCount());s[u]||(s[u]=g,n.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||isFunction(s.fill)?g:s.fill,s.stroke=s.stroke==="auto"||isFunction(s.stroke)?g:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",u),!t.isSeriesFiltered(r)&&f)return n.setVisual("colorFromPalette",!1),{dataEach:function(v,y){var _=r.getDataParams(y),x=extend({},s);x[u]=f(_),v.setItemVisual(y,"style",x)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var n=r.getData(),i=r.visualStyleAccessPath||"itemStyle",a=getStyleMapper(r,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[i]){sharedModel.option=u[i];var c=a(sharedModel),f=s.ensureUniqueItemVisual(l,"style");extend(f,c),sharedModel.option.decal&&(s.setItemVisual(l,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),o in c&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var t=createHashMap();r.eachSeries(function(n){var i=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+i,o=t.get(a);o||(o={},t.set(a,o)),inner$5(n).scope=o}}),r.eachSeries(function(n){if(!(n.isColorBySeries()||r.isSeriesFiltered(n))){var i=n.getRawData(),a={},o=n.getData(),s=inner$5(n).scope,l=n.visualStyleAccessPath||"itemStyle",u=getDefaultColorKey(n,l);o.each(function(c){var f=o.getRawIndex(c);a[f]=c}),i.each(function(c){var f=a[c],d=o.getItemVisual(f,"colorFromPalette");if(d){var g=o.ensureUniqueItemVisual(f,"style"),v=i.getName(c)||c+"",y=i.count();g[u]=n.getColorFromPalette(v,s,y)}})}})}},PI$1=Math.PI;function defaultLoading(r,t){t=t||{},defaults(t,{text:"loading",textColor:tokens.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:tokens.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$2,i=new Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var a=new ZRText({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Rect({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(o);var s;return t.showSpinner&&(s=new Arc({shape:{startAngle:-PI$1/2,endAngle:-PI$1/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:PI$1*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:PI$1*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var l=a.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,c=(r.getWidth()-u*2-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner&&l?0:5+l/2)+(t.showSpinner?0:l/2)+(l?0:u),f=r.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:f}),o.setShape({x:c-u,y:f-u,width:u*2,height:u*2}),i.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},n.resize(),n}var Scheduler=(function(){function r(t,n,i,a){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=n,i=this._dataProcessorHandlers=i.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=i.concat(a)}return r.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(i){var a=i.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),a=i.context,o=!n&&i.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>i.blockIndex,s=o?i.step:null,l=a&&a.modDataCount,u=l!=null?Math.ceil(l/s):null;return{step:s,modBy:u,modDataCount:l}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,n){var i=this._pipelineMap.get(t.uid),a=t.getData(),o=a.count(),s=i.progressiveEnabled&&n.incrementalPrepareRender&&o>=i.threshold,l=t.get("large")&&o>=t.get("largeThreshold"),u=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=i.context={progressiveRender:s,modDataCount:u,large:l}},r.prototype.restorePipelines=function(t){var n=this,i=n._pipelineMap=createHashMap();t.eachSeries(function(a){var o=a.getProgressive(),s=a.uid;i.set(s,{id:s,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:o&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),i=this.api;each$4(this._allHandlers,function(a){var o=t.get(a.uid)||t.set(a.uid,{}),s="";assert(!(a.reset&&a.overallReset),s),a.reset&&this._createSeriesStageTask(a,o,n,i),a.overallReset&&this._createOverallStageTask(a,o,n,i)},this)},r.prototype.prepareView=function(t,n,i,a){var o=t.renderTask,s=o.context;s.model=n,s.ecModel=i,s.api=a,o.__block=!t.incrementalPrepareRender,this._pipe(n,o)},r.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},r.prototype.performVisualTasks=function(t,n,i){this._performStageTasks(this._visualHandlers,t,n,i)},r.prototype._performStageTasks=function(t,n,i,a){a=a||{};var o=!1,s=this;each$4(t,function(u,c){if(!(a.visualType&&a.visualType!==u.visualType)){var f=s._stageTaskMap.get(u.uid),d=f.seriesTaskMap,g=f.overallTask;if(g){var v,y=g.agentStubMap;y.each(function(x){l(a,x)&&(x.dirty(),v=!0)}),v&&g.dirty(),s.updatePayload(g,i);var _=s.getPerformArgs(g,a.block);y.each(function(x){x.perform(_)}),g.perform(_)&&(o=!0)}else d&&d.each(function(x,S){l(a,x)&&x.dirty();var b=s.getPerformArgs(x,a.block);b.skip=!u.performRawSeries&&n.isSeriesFiltered(x.context.model),s.updatePayload(x,i),x.perform(b)&&(o=!0)})}});function l(u,c){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},r.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(i){n=i.dataTask.perform()||n}),this.unfinished=n||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},r.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},r.prototype._createSeriesStageTask=function(t,n,i,a){var o=this,s=n.seriesTaskMap,l=n.seriesTaskMap=createHashMap(),u=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(f):u?i.eachRawSeriesByType(u,f):c&&c(i,a).each(f);function f(d){var g=d.uid,v=l.set(g,s&&s.get(g)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));v.context={model:d,ecModel:i,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(d,v)}},r.prototype._createOverallStageTask=function(t,n,i,a){var o=this,s=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});s.context={ecModel:i,api:a,overallReset:t.overallReset,scheduler:o};var l=s.agentStubMap,u=s.agentStubMap=createHashMap(),c=t.seriesType,f=t.getTargetSeries,d=!0,g=!1,v="";assert(!t.createOnAllSeries,v),c?i.eachRawSeriesByType(c,y):f?f(i,a).each(y):(d=!1,each$4(i.getSeries(),y));function y(_){var x=_.uid,S=u.set(x,l&&l.get(x)||(g=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));S.context={model:_,overallProgress:d},S.agent=s,S.__block=d,o._pipe(_,S)}g&&s.dirty()},r.prototype._pipe=function(t,n){var i=t.uid,a=this._pipelineMap.get(i);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},r.wrapStageHandler=function(t,n){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID("stageHandler"),n&&(t.visualType=n),t},r})();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?map$1(t,function(n,i){return makeSeriesTaskProgress(i)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(t,n){var i=n.data,a=n.resetDefines[r];if(a&&a.dataEach)for(var o=t.start;o<t.end;o++)a.dataEach(i,o);else a&&a.progress&&a.progress(t,i)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r};ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,t){for(var n in t.prototype)r[n]=noop}var color=tokens.darkColor,backgroundColor=color.background,axisCommon=function(){return{axisLine:{lineStyle:{color:color.axisLine}},splitLine:{lineStyle:{color:color.axisSplitLine}},splitArea:{areaStyle:{color:[color.backgroundTint,color.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:color.axisMinorSplitLine}},axisLabel:{color:color.axisLabel},axisName:{}}},matrixAxis={label:{color:color.secondary},itemStyle:{borderColor:color.borderTint},dividerLineStyle:{color:color.border}},theme={darkMode:!0,color:color.theme,backgroundColor,axisPointer:{lineStyle:{color:color.border},crossStyle:{color:color.borderShade},label:{color:color.tertiary}},legend:{textStyle:{color:color.secondary},pageTextStyle:{color:color.tertiary}},textStyle:{color:color.secondary},title:{textStyle:{color:color.primary},subtextStyle:{color:color.quaternary}},toolbox:{iconStyle:{borderColor:color.accent50}},tooltip:{backgroundColor:color.neutral20,defaultBorderColor:color.border,textStyle:{color:color.tertiary}},dataZoom:{borderColor:color.accent10,textStyle:{color:color.tertiary},brushStyle:{color:color.backgroundTint},handleStyle:{color:color.neutral00,borderColor:color.accent20},moveHandleStyle:{color:color.accent40},emphasis:{handleStyle:{borderColor:color.accent50}},dataBackground:{lineStyle:{color:color.accent30},areaStyle:{color:color.accent20}},selectedDataBackground:{lineStyle:{color:color.accent50},areaStyle:{color:color.accent30}}},visualMap:{textStyle:{color:color.secondary},handleStyle:{borderColor:color.neutral30}},timeline:{lineStyle:{color:color.accent10},label:{color:color.tertiary},controlStyle:{color:color.accent30,borderColor:color.accent30}},calendar:{itemStyle:{color:color.neutral00,borderColor:color.neutral20},dayLabel:{color:color.tertiary},monthLabel:{color:color.secondary},yearLabel:{color:color.secondary}},matrix:{x:matrixAxis,y:matrixAxis,backgroundColor:{borderColor:color.axisLine},body:{itemStyle:{borderColor:color.borderTint}}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:color.theme},gauge:{title:{color:color.secondary},axisLine:{lineStyle:{color:[[1,color.neutral05]]}},axisLabel:{color:color.axisLabel},detail:{color:color.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:color.background}},radar:(function(){var r=axisCommon();return r.axisName={color:color.axisLabel},r.axisLine.lineStyle.color=color.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:color.neutral20,textStyle:{color:color.secondary}},emphasis:{itemStyle:{color:color.neutral30}}}},sunburst:{itemStyle:{borderColor:color.background}},map:{itemStyle:{borderColor:color.border,areaColor:color.neutral10},label:{color:color.tertiary},emphasis:{label:{color:color.primary},itemStyle:{areaColor:color.highlight}},select:{label:{color:color.primary},itemStyle:{areaColor:color.highlight}}},geo:{itemStyle:{borderColor:color.border,areaColor:color.neutral10},emphasis:{label:{color:color.primary},itemStyle:{areaColor:color.highlight}},select:{label:{color:color.primary},itemStyle:{color:color.highlight}}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=(function(){function r(){}return r.prototype.normalizeQuery=function(t){var n={},i={},a={};if(isString(t)){var o=parseClassType(t);n.mainType=o.main||null,n.subType=o.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};each$4(t,function(u,c){for(var f=!1,d=0;d<s.length;d++){var g=s[d],v=c.lastIndexOf(g);if(v>0&&v===c.length-g.length){var y=c.slice(0,v);y!=="data"&&(n.mainType=y,n[g.toLowerCase()]=u,f=!0)}}l.hasOwnProperty(c)&&(i[c]=u,f=!0),f||(a[c]=u)})}return{cptQuery:n,dataQuery:i,otherQuery:a}},r.prototype.filter=function(t,n){var i=this.eventInfo;if(!i)return!0;var a=i.targetEl,o=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=n.cptQuery,c=n.dataQuery;return f(u,s,"mainType")&&f(u,s,"subType")&&f(u,s,"index","componentIndex")&&f(u,s,"name")&&f(u,s,"id")&&f(c,o,"name")&&f(c,o,"dataIndex")&&f(c,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,n.otherQuery,a,o));function f(d,g,v,y){return d[v]==null||g[y||v]===d[v]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData();if(r.legendIcon&&n.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var i={},a={},o=!1,s=0;s<SYMBOL_PROPS_WITH_CB.length;s++){var l=SYMBOL_PROPS_WITH_CB[s],u=r.get(l);isFunction(u)?(o=!0,a[l]=u):i[l]=u}if(i.symbol=i.symbol||r.defaultSymbol,n.setVisual(extend({legendIcon:r.legendIcon||i.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},i)),t.isSeriesFiltered(r))return;var c=keys(a);function f(d,g){for(var v=r.getRawValue(g),y=r.getDataParams(g),_=0;_<c.length;_++){var x=c[_];d.setItemVisual(g,x,a[x](v,y))}}return{dataEach:o?f:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var n=r.getData();function i(a,o){for(var s=a.getItemModel(o),l=0;l<SYMBOL_PROPS.length;l++){var u=SYMBOL_PROPS[l],c=s.getShallow(u,!0);c!=null&&a.setItemVisual(o,u,c)}}return{dataEach:n.hasItemOption?i:null}}};function getItemVisualFromData(r,t,n){switch(n){case"color":var i=r.getItemVisual(t,"style");return i[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,n)}}function getVisualFromData(r,t){switch(t){case"color":var n=r.getVisual("style");return n[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function handleSeriesLegacySelectEvents(r,t,n,i,a){var o=r+t;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,u=s.option.selectedMap,c=a.selected,f=0;f<c.length;f++)if(c[f].seriesIndex===l){var d=s.getData(),g=queryDataIndex(d,a.fromActionPayload);n.trigger(o,{type:o,seriesId:s.id,name:isArray(g)?d.getName(g[0]):d.getName(g),selected:isString(u)?u:extend({},u)})}})}function handleLegacySelectEvents(r,t,n){r.on("selectchanged",function(i){var a=n.getModel();i.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",t,a,i),handleSeriesLegacySelectEvents("pie","selectchanged",t,a,i)):i.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",t,a,i),handleSeriesLegacySelectEvents("pie","selected",t,a,i)):i.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",t,a,i),handleSeriesLegacySelectEvents("pie","unselected",t,a,i))})}function findEventDispatcher(r,t,n){for(var i;r&&!(t(r)&&(i=r,n));)r=r.__hostTarget||r.parent;return i}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=(function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,n){var i=this._guard(t);return supportDefineProperty?Object.defineProperty(i,this._id,{value:n,enumerable:!1,configurable:!0}):i[this._id]=n,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r})(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,i=t.cy,a=t.width/2,o=t.height/2;r.moveTo(n,i-o),r.lineTo(n+a,i+o),r.lineTo(n-a,i+o),r.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,i=t.cy,a=t.width/2,o=t.height/2;r.moveTo(n,i-o),r.lineTo(n+a,i),r.lineTo(n,i+o),r.lineTo(n-a,i),r.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.x,i=t.y,a=t.width/5*3,o=Math.max(a,t.height),s=a/2,l=s*s/(o-s),u=i-o+s+l,c=Math.asin(l/s),f=Math.cos(c)*s,d=Math.sin(c),g=Math.cos(c),v=s*.6,y=s*.7;r.moveTo(n-f,u+l),r.arc(n,u,s,Math.PI-c,Math.PI*2+c),r.bezierCurveTo(n+f-d*v,u+l+g*v,n,i-y,n,i),r.bezierCurveTo(n,i-y,n-f+d*v,u+l+g*v,n-f,u+l),r.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.height,i=t.width,a=t.x,o=t.y,s=i/3*2;r.moveTo(a,o),r.lineTo(a+s,o+n),r.lineTo(a,o+n/4*3),r.lineTo(a-s,o+n),r.lineTo(a,o),r.closePath()}}),symbolCtors={line:Line,rect:Rect,roundRect:Rect,square:Rect,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,t,n,i,a){a.x1=r,a.y1=t+i/2,a.x2=r+n,a.y2=t+i/2},rect:function(r,t,n,i,a){a.x=r,a.y=t,a.width=n,a.height=i},roundRect:function(r,t,n,i,a){a.x=r,a.y=t,a.width=n,a.height=i,a.r=Math.min(n,i)/4},square:function(r,t,n,i,a){var o=Math.min(n,i);a.x=r,a.y=t,a.width=o,a.height=o},circle:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.r=Math.min(n,i)/2},diamond:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.width=n,a.height=i},pin:function(r,t,n,i,a){a.x=r+n/2,a.y=t+i/2,a.width=n,a.height=i},arrow:function(r,t,n,i,a){a.x=r+n/2,a.y=t+i/2,a.width=n,a.height=i},triangle:function(r,t,n,i,a){a.cx=r+n/2,a.cy=t+i/2,a.width=n,a.height=i}},symbolBuildProxies={};each$4(symbolCtors,function(r,t){symbolBuildProxies[t]=new r});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,n){var i=calculateTextPosition(r,t,n),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(i.y=n.y+n.height*.4),i},buildPath:function(r,t,n){var i=t.symbolType;if(i!=="none"){var a=symbolBuildProxies[i];a||(i="rect",a=symbolBuildProxies[i]),symbolShapeMakers[i](t.x,t.y,t.width,t.height,a.shape),a.buildPath(r,a.shape,n)}}});function symbolPathSetColor(r,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=r,n.fill=t||tokens.color.neutral00,n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=r:n.fill=r,this.markRedraw()}}function createSymbol(r,t,n,i,a,o,s){var l=r.indexOf("empty")===0;l&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var u;return r.indexOf("image://")===0?u=makeImage(r.slice(8),new BoundingRect(t,n,i,a),s?"center":"cover"):r.indexOf("path://")===0?u=makePath(r.slice(7),{},new BoundingRect(t,n,i,a),s?"center":"cover"):u=new SymbolClz({shape:{symbolType:r,x:t,y:n,width:i,height:a}}),u.__isEmptyBrush=l,u.setColor=symbolPathSetColor,o&&u.setColor(o),u}function normalizeSymbolSize(r){return isArray(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,t){if(r!=null)return isArray(r)||(r=[r,r]),[parsePercent(r[0],t[0])||0,parsePercent(retrieve2(r[1],r[0]),t[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,t,n){var i=t.x==null?0:t.x,a=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(i=i*n.width+n.x,a=a*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),i=isSafeNum(i)?i:0,a=isSafeNum(a)?a:1,o=isSafeNum(o)?o:0,s=isSafeNum(s)?s:0;var l=r.createLinearGradient(i,o,a,s);return l}function createRadialGradient(r,t,n){var i=n.width,a=n.height,o=Math.min(i,a),s=t.x==null?.5:t.x,l=t.y==null?.5:t.y,u=t.r==null?.5:t.r;t.global||(s=s*i+n.x,l=l*a+n.y,u=u*o),s=isSafeNum(s)?s:.5,l=isSafeNum(l)?l:.5,u=u>=0&&isSafeNum(u)?u:.5;var c=r.createRadialGradient(s,l,0,s,l,u);return c}function getCanvasGradient(r,t,n){for(var i=t.type==="radial"?createRadialGradient(r,t,n):createLinearGradient(r,t,n),a=t.colorStops,o=0;o<a.length;o++)i.addColorStop(a[o].offset,a[o].color);return i}function isClipPathChanged(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n]!==t[n])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize(r,t,n){var i=["width","height"][t],a=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(n[i]!=null&&n[i]!=="auto")return parseFloat(n[i]);var l=document.defaultView.getComputedStyle(r);return(r[a]||parseInt10(l[i])||parseInt10(r.style[i]))-(parseInt10(l[o])||0)-(parseInt10(l[s])||0)|0}function normalizeLineDash(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:isNumber(r)?[r]:isArray(r)?r:null}function getLineDash(r){var t=r.style,n=t.lineDash&&t.lineWidth>0&&normalizeLineDash(t.lineDash,t.lineWidth),i=t.lineDashOffset;if(n){var a=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;a&&a!==1&&(n=map$1(n,function(o){return o/a}),i/=a)}return[n,i]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var t=r.fill;return t!=null&&t!=="none"}function doFillPath(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=n}else r.fill()}function doStrokePath(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=n}else r.stroke()}function createCanvasPattern(r,t,n){var i=createOrUpdateImage(t.image,t.__image,n);if(isImageReady(i)){var a=r.createPattern(i,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*RADIAN_TO_DEGREE),o.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(o)}return a}}function brushPath(r,t,n,i){var a,o=styleHasStroke(n),s=styleHasFill(n),l=n.strokePercent,u=l<1,c=!t.path;(!t.silent||u)&&c&&t.createPathProxy();var f=t.path||pathProxyForDraw,d=t.__dirty;if(!i){var g=n.fill,v=n.stroke,y=s&&!!g.colorStops,_=o&&!!v.colorStops,x=s&&!!g.image,S=o&&!!v.image,b=void 0,E=void 0,M=void 0,D=void 0,w=void 0;(y||_)&&(w=t.getBoundingRect()),y&&(b=d?getCanvasGradient(r,g,w):t.__canvasFillGradient,t.__canvasFillGradient=b),_&&(E=d?getCanvasGradient(r,v,w):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),x&&(M=d||!t.__canvasFillPattern?createCanvasPattern(r,g,t):t.__canvasFillPattern,t.__canvasFillPattern=M),S&&(D=d||!t.__canvasStrokePattern?createCanvasPattern(r,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=D),y?r.fillStyle=b:x&&(M?r.fillStyle=M:s=!1),_?r.strokeStyle=E:S&&(D?r.strokeStyle=D:o=!1)}var I=t.getGlobalScale();f.setScale(I[0],I[1],t.segmentIgnoreThreshold);var R,P;r.setLineDash&&n.lineDash&&(a=getLineDash(t),R=a[0],P=a[1]);var O=!0;(c||d&SHAPE_CHANGED_BIT)&&(f.setDPR(r.dpr),u?f.setContext(null):(f.setContext(r),O=!1),f.reset(),t.buildPath(f,t.shape,i),f.toStatic(),t.pathUpdated()),O&&f.rebuildPath(r,u?l:1),R&&(r.setLineDash(R),r.lineDashOffset=P),i||(n.strokeFirst?(o&&doStrokePath(r,n),s&&doFillPath(r,n)):(s&&doFillPath(r,n),o&&doStrokePath(r,n))),R&&r.setLineDash([])}function brushImage(r,t,n){var i=t.__image=createOrUpdateImage(n.image,t.__image,t,t.onload);if(!(!i||!isImageReady(i))){var a=n.x||0,o=n.y||0,s=t.getWidth(),l=t.getHeight(),u=i.width/i.height;if(s==null&&l!=null?s=l*u:l==null&&s!=null?l=s/u:s==null&&l==null&&(s=i.width,l=i.height),n.sWidth&&n.sHeight){var c=n.sx||0,f=n.sy||0;r.drawImage(i,c,f,n.sWidth,n.sHeight,a,o,s,l)}else if(n.sx&&n.sy){var c=n.sx,f=n.sy,d=s-c,g=l-f;r.drawImage(i,c,f,d,g,a,o,s,l)}else r.drawImage(i,a,o,s,l)}}function brushText(r,t,n){var i,a=n.text;if(a!=null&&(a+=""),a){r.font=n.font||DEFAULT_FONT,r.textAlign=n.textAlign,r.textBaseline=n.textBaseline;var o=void 0,s=void 0;r.setLineDash&&n.lineDash&&(i=getLineDash(t),o=i[0],s=i[1]),o&&(r.setLineDash(o),r.lineDashOffset=s),n.strokeFirst?(styleHasStroke(n)&&r.strokeText(a,n.x,n.y),styleHasFill(n)&&r.fillText(a,n.x,n.y)):(styleHasFill(n)&&r.fillText(a,n.x,n.y),styleHasStroke(n)&&r.strokeText(a,n.x,n.y)),o&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,t,n,i,a){var o=!1;if(!i&&(n=n||{},t===n))return!1;if(i||t.opacity!==n.opacity){flushPathDrawn(r,a),o=!0;var s=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(s)?DEFAULT_COMMON_STYLE.opacity:s}(i||t.blend!==n.blend)&&(o||(flushPathDrawn(r,a),o=!0),r.globalCompositeOperation=t.blend||DEFAULT_COMMON_STYLE.blend);for(var l=0;l<SHADOW_NUMBER_PROPS.length;l++){var u=SHADOW_NUMBER_PROPS[l];(i||t[u]!==n[u])&&(o||(flushPathDrawn(r,a),o=!0),r[u]=r.dpr*(t[u]||0))}return(i||t.shadowColor!==n.shadowColor)&&(o||(flushPathDrawn(r,a),o=!0),r.shadowColor=t.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),o}function bindPathAndTextCommonStyle(r,t,n,i,a){var o=getStyle(t,a.inHover),s=i?null:n&&getStyle(n,a.inHover)||{};if(o===s)return!1;var l=bindCommonProps(r,o,s,i,a);if((i||o.fill!==s.fill)&&(l||(flushPathDrawn(r,a),l=!0),isValidStrokeFillStyle(o.fill)&&(r.fillStyle=o.fill)),(i||o.stroke!==s.stroke)&&(l||(flushPathDrawn(r,a),l=!0),isValidStrokeFillStyle(o.stroke)&&(r.strokeStyle=o.stroke)),(i||o.opacity!==s.opacity)&&(l||(flushPathDrawn(r,a),l=!0),r.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var u=o.lineWidth,c=u/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==c&&(l||(flushPathDrawn(r,a),l=!0),r.lineWidth=c)}for(var f=0;f<STROKE_PROPS.length;f++){var d=STROKE_PROPS[f],g=d[0];(i||o[g]!==s[g])&&(l||(flushPathDrawn(r,a),l=!0),r[g]=o[g]||d[1])}return l}function bindImageStyle(r,t,n,i,a){return bindCommonProps(r,getStyle(t,a.inHover),n&&getStyle(n,a.inHover),i,a)}function setContextTransform(r,t){var n=t.transform,i=r.dpr||1;n?r.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):r.setTransform(i,0,0,i,0,0)}function updateClipStatus(r,t,n){for(var i=!1,a=0;a<r.length;a++){var o=r[a];i=i||o.isZeroArea(),setContextTransform(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=i}function isTransformChanged(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var t=styleHasFill(r),n=styleHasStroke(r);return!(r.lineDash||!(+t^+n)||t&&typeof r.fill!="string"||n&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function getStyle(r,t){return t&&r.__hoverStyle||r.style}function brushSingle(r,t){brush(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(r,t,n,i){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~REDRAW_BIT,t.__isRendered=!1;return}var o=t.__clipPaths,s=n.prevElClipPaths,l=!1,u=!1;if((!s||isClipPathChanged(o,s))&&(s&&s.length&&(flushPathDrawn(r,n),r.restore(),u=l=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(flushPathDrawn(r,n),r.save(),updateClipStatus(o,r,n),l=!0),n.prevElClipPaths=o),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=n.prevEl;c||(u=l=!0);var f=t instanceof Path&&t.autoBatch&&canPathBatch(t.style);l||isTransformChanged(a,c.transform)?(flushPathDrawn(r,n),setContextTransform(r,t)):f||flushPathDrawn(r,n);var d=getStyle(t,n.inHover);t instanceof Path?(n.lastDrawType!==DRAW_TYPE_PATH&&(u=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,t,c,u,n),(!f||!n.batchFill&&!n.batchStroke)&&r.beginPath(),brushPath(r,t,d,f),f&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):t instanceof TSpan?(n.lastDrawType!==DRAW_TYPE_TEXT&&(u=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,t,c,u,n),brushText(r,t,d)):t instanceof ZRImage?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(u=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,t,c,u,n),brushImage(r,t,d)):t.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(u=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,t,n)),f&&i&&flushPathDrawn(r,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function brushIncremental(r,t,n){var i=t.getDisplayables(),a=t.getTemporalDisplayables();r.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},s,l;for(s=t.getCursor(),l=i.length;s<l;s++){var u=i[s];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush(r,u,o,s===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}for(var c=0,f=a.length;c<f;c++){var u=a[c];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush(r,u,o,c===f-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,t){if(r==="none")return null;var n=t.getDevicePixelRatio(),i=t.getZr(),a=i.painter.type==="svg";r.dirty&&decalMap.delete(r);var o=decalMap.get(r);if(o)return o;var s=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var l={repeat:"repeat"};return u(l),l.rotation=s.rotation,l.scaleX=l.scaleY=a?1:1/n,decalMap.set(r,l),r.dirty=!1,l;function u(c){for(var f=[n],d=!0,g=0;g<decalKeys.length;++g){var v=s[decalKeys[g]];if(v!=null&&!isArray(v)&&!isString(v)&&!isNumber(v)&&typeof v!="boolean"){d=!1;break}f.push(v)}var y;if(d){y=f.join(",")+(a?"-svg":"");var _=decalCache.get(y);_&&(a?c.svgElement=_:c.image=_)}var x=normalizeDashArrayX(s.dashArrayX),S=normalizeDashArrayY(s.dashArrayY),b=normalizeSymbolArray(s.symbol),E=getLineBlockLengthX(x),M=getLineBlockLengthY(S),D=!a&&platformApi.createCanvas(),w=a&&{tag:"g",attrs:{},key:"dcl",children:[]},I=P(),R;D&&(D.width=I.width*n,D.height=I.height*n,R=D.getContext("2d")),O(),d&&decalCache.put(y,D||w),c.image=D,c.svgElement=w,c.svgWidth=I.width,c.svgHeight=I.height;function P(){for(var L=1,$=0,N=E.length;$<N;++$)L=getLeastCommonMultiple(L,E[$]);for(var F=1,$=0,N=b.length;$<N;++$)F=getLeastCommonMultiple(F,b[$].length);L*=F;var Y=M*E.length*b.length;return{width:Math.max(1,Math.min(L,s.maxTileWidth)),height:Math.max(1,Math.min(Y,s.maxTileHeight))}}function O(){R&&(R.clearRect(0,0,D.width,D.height),s.backgroundColor&&(R.fillStyle=s.backgroundColor,R.fillRect(0,0,D.width,D.height)));for(var L=0,$=0;$<S.length;++$)L+=S[$];if(L<=0)return;for(var N=-M,F=0,Y=0,G=0;N<I.height;){if(F%2===0){for(var W=Y/2%b.length,U=0,j=0,ee=0;U<I.width*2;){for(var re=0,$=0;$<x[G].length;++$)re+=x[G][$];if(re<=0)break;if(j%2===0){var q=(1-s.symbolSize)*.5,Q=U+x[G][j]*q,fe=N+S[F]*q,de=x[G][j]*s.symbolSize,le=S[F]*s.symbolSize,ce=ee/2%b[W].length;me(Q,fe,de,le,b[W][ce])}U+=x[G][j],++ee,++j,j===x[G].length&&(j=0)}++G,G===x.length&&(G=0)}N+=S[F],++Y,++F,F===S.length&&(F=0)}function me(ge,ve,oe,V,H){var z=a?1:n,Z=createSymbol(H,ge*z,ve*z,oe*z,V*z,s.color,s.symbolKeepAspect);if(a){var X=i.painter.renderOneToVNode(Z);X&&w.children.push(X)}else brushSingle(R,Z)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString(r))return[[r]];for(var t=!0,n=0;n<r.length;++n)if(!isString(r[n])){t=!1;break}if(t)return normalizeSymbolArray([r]);for(var i=[],n=0;n<r.length;++n)isString(r[n])?i.push([r[n]]):i.push(r[n]);return i}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber(r)){var t=Math.ceil(r);return[[t,t]]}for(var n=!0,i=0;i<r.length;++i)if(!isNumber(r[i])){n=!1;break}if(n)return normalizeDashArrayX([r]);for(var a=[],i=0;i<r.length;++i)if(isNumber(r[i])){var t=Math.ceil(r[i]);a.push([t,t])}else{var t=map$1(r[i],function(l){return Math.ceil(l)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber(r)){var t=Math.ceil(r);return[t,t]}var n=map$1(r,function(i){return Math.ceil(i)});return r.length%2?n.concat(n):n}function getLineBlockLengthX(r){return map$1(r,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(r){for(var t=0,n=0;n<r.length;++n)t+=r[n];return r.length%2===1?t*2:t}function decalVisual(r,t){r.eachRawSeries(function(n){if(!r.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each(function(s){var l=i.getItemVisual(s,"decal");if(l){var u=i.ensureUniqueItemVisual(s,"style");u.decal=createOrUpdatePatternFromDecal(l,t)}});var a=i.getVisual("decal");if(a){var o=i.getVisual("style");o.decal=createOrUpdatePatternFromDecal(a,t)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(r,t){implsStore[r]=t}function getImpl(r){return implsStore[r]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",MAIN_PROCESS_VERSION_KEY="__mainProcessVersion",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,r,t)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return toLowercaseNameAndCallEventful(this,r,t)}}function toLowercaseNameAndCallEventful(r,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful.prototype[t].apply(r,n)}var MessageCenter=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,updateMainProcessVersion,ECharts=(function(r){__extends(t,r);function t(n,i,a){var o=r.call(this,new ECEventProcessor)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],a=a||{},o._dom=n;var s="canvas",l="auto",u=!1;o[MAIN_PROCESS_VERSION_KEY]=1,a.ssr;var c=o._zr=init$1(n,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,u),useCoarsePointer:retrieve2(a.useCoarsePointer,l),pointerSize:a.pointerSize});o._ssr=a.ssr,o._throttledZrFlush=throttle(bind$1(c.flush,c),17),o._updateTheme(i),o._locale=createLocaleObject(a.locale||SYSTEM_LANG),o._coordSysMgr=new CoordinateSystemManager;var f=o._api=createExtensionAPI(o);function d(g,v){return g.__prio-v.__prio}return sort(visualFuncs,d),sort(dataProcessorFuncs,d),o._scheduler=new Scheduler(o,f,dataProcessorFuncs,visualFuncs),o._messageCenter=new MessageCenter,o._initEvents(),o.resize=bind$1(o.resize,o),c.animation.on("frame",o._onframe,o),bindRenderedEvent(c,o),bindMouseEvent(c,o),setAsPrimitive(o),o}return t.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var i=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0,updateMainProcessVersion(this);try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,u}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,i),triggerUpdatedEvent.call(this,i)}else if(n.unfinished){var a=TEST_FRAME_REMAIN_TIME,o=this._model,s=this._api;n.unfinished=!1;do{var l=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),updateStreamModes(this,o),n.performVisualTasks(o),renderSeries(this,this._model,s,"remain",{}),a-=+new Date-l}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,i,a){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var o,s,l;if(isObject$2(i)&&(a=i.lazyUpdate,o=i.silent,s=i.replaceMerge,l=i.transition,i=i.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,updateMainProcessVersion(this),!this._model||i){var u=new OptionManager(this._api),c=this._theme,f=this._model=new GlobalModel;f.scheduler=this._scheduler,f.ssr=this._ssr,f.init(null,null,null,c,this._locale,u)}this._model.setOption(n,{replaceMerge:s},optionPreprocessorFuncs);var d={seriesTransition:l,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:o,updateParams:d},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,d)}catch(g){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,g}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}}},t.prototype.setTheme=function(n,i){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var a=this._model;if(a){var o=i&&i.silent,s=null;this[PENDING_UPDATE]&&(o==null&&(o=this[PENDING_UPDATE].silent),s=this[PENDING_UPDATE].updateParams,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0,updateMainProcessVersion(this);try{this._updateTheme(n),a.setTheme(this._theme),prepare(this),updateMethods.update.call(this,{type:"setTheme"},s)}catch(l){throw this[IN_MAIN_PROCESS_KEY]=!1,l}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}}},t.prototype._updateTheme=function(n){isString(n)&&(n=themeStorage[n]),n&&(n=clone$2(n),n&&globalBackwardCompat(n,!0),this._theme=n)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var i=this._zr.painter;return i.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){var n=this._zr,i=n.storage.getDisplayList();return each$4(i,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var i=n.excludeComponents,a=this._model,o=[],s=this;each$4(i,function(u){a.eachComponent({mainType:u},function(c){var f=s._componentsMap[c.__viewId];f.group.ignore||(o.push(f),f.group.ignore=!0)})});var l=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$4(o,function(u){u.group.ignore=!1}),l},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var i=n.type==="svg",a=this.group,o=Math.min,s=Math.max,l=1/0;if(connectedGroups[a]){var u=l,c=l,f=-l,d=-l,g=[],v=n&&n.pixelRatio||this.getDevicePixelRatio();each$4(instances,function(E,M){if(E.group===a){var D=i?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(clone$2(n)),w=E.getDom().getBoundingClientRect();u=o(w.left,u),c=o(w.top,c),f=s(w.right,f),d=s(w.bottom,d),g.push({dom:D,left:w.left,top:w.top})}}),u*=v,c*=v,f*=v,d*=v;var y=f-u,_=d-c,x=platformApi.createCanvas(),S=init$1(x,{renderer:i?"svg":"canvas"});if(S.resize({width:y,height:_}),i){var b="";return each$4(g,function(E){var M=E.left-u,D=E.top-c;b+='<g transform="translate('+M+","+D+')">'+E.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=b,n.connectedBackgroundColor&&S.painter.setBackgroundColor(n.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}else return n.connectedBackgroundColor&&S.add(new Rect({shape:{x:0,y:0,width:y,height:_},style:{fill:n.connectedBackgroundColor}})),each$4(g,function(E){var M=new ZRImage({style:{x:E.left*v-u,y:E.top*v-c,image:E.dom}});S.add(M)}),S.refreshImmediately(),x.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,i,a){return doConvertPixel(this,"convertToPixel",n,i,a)},t.prototype.convertToLayout=function(n,i,a){return doConvertPixel(this,"convertToLayout",n,i,a)},t.prototype.convertFromPixel=function(n,i,a){return doConvertPixel(this,"convertFromPixel",n,i,a)},t.prototype.containPixel=function(n,i){if(this._disposed){this.id;return}var a=this._model,o,s=parseFinder(a,n);return each$4(s,function(l,u){u.indexOf("Models")>=0&&each$4(l,function(c){var f=c.coordinateSystem;if(f&&f.containPoint)o=o||!!f.containPoint(i);else if(u==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},t.prototype.getVisual=function(n,i){var a=this._model,o=parseFinder(a,n,{defaultMainType:"series"}),s=o.seriesModel,l=s.getData(),u=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?l.indexOfRawIndex(o.dataIndex):null;return u!=null?getItemVisualFromData(l,u,i):getVisualFromData(l,i)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;each$4(MOUSE_EVENT_NAMES,function(a){var o=function(s){var l=n.getModel(),u=s.target,c,f=a==="globalout";if(f?c={}:u&&findEventDispatcher(u,function(_){var x=getECData(_);if(x&&x.dataIndex!=null){var S=x.dataModel||l.getSeriesByIndex(x.seriesIndex);return c=S&&S.getDataParams(x.dataIndex,x.dataType,u)||{},!0}else if(x.eventData)return c=extend({},x.eventData),!0},!0),c){var d=c.componentType,g=c.componentIndex;(d==="markLine"||d==="markPoint"||d==="markArea")&&(d="series",g=c.seriesIndex);var v=d&&g!=null&&l.getComponent(d,g),y=v&&n[v.mainType==="series"?"_chartsMap":"_componentsMap"][v.__viewId];c.event=s,c.type=a,n._$eventProcessor.eventInfo={targetEl:u,packedEvent:c,model:v,view:y},n.trigger(a,c)}};o.zrEventfulCallAtLast=!0,n._zr.on(a,o,n)});var i=this._messageCenter;each$4(publicEventTypeMap,function(a,o){i.on(o,function(s){n.trigger(o,s)})}),handleLegacySelectEvents(i,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var i=this,a=i._api,o=i._model;each$4(i._componentsViews,function(s){s.dispose(o,a)}),each$4(i._chartsViews,function(s){s.dispose(o,a)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete instances[i.id]},t.prototype.resize=function(n){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(n);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var a=i.resetOption("media"),o=n&&n.silent;this[PENDING_UPDATE]&&(o==null&&(o=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0,updateMainProcessVersion(this);try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(s){throw this[IN_MAIN_PROCESS_KEY]=!1,s}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}}},t.prototype.showLoading=function(n,i){if(this._disposed){this.id;return}if(isObject$2(n)&&(i=n,n=""),n=n||"default",this.hideLoading(),!!loadingEffects[n]){var a=loadingEffects[n](this._api,i),o=this._zr;this._loadingFX=a,o.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var i=extend({},n);return i.type=connectionEventRevertMap[n.type],i},t.prototype.dispatchAction=function(n,i){if(this._disposed){this.id;return}if(isObject$2(i)||(i={silent:!!i}),!!actions[n.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var a=i.silent;doDispatchAction.call(this,n,a);var o=i.flush;o?this._zr.flush():o!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},t.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var i=n.seriesIndex,a=this.getModel(),o=a.getSeriesByIndex(i);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){prepare=function(d){var g=d._scheduler;g.restorePipelines(d._model),g.prepareStageTasks(),prepareView(d,!0),prepareView(d,!1),g.plan()},prepareView=function(d,g){for(var v=d._model,y=d._scheduler,_=g?d._componentsViews:d._chartsViews,x=g?d._componentsMap:d._chartsMap,S=d._zr,b=d._api,E=0;E<_.length;E++)_[E].__alive=!1;g?v.eachComponent(function(w,I){w!=="series"&&M(I)}):v.eachSeries(M);function M(w){var I=w.__requireNewView;w.__requireNewView=!1;var R="_ec_"+w.id+"_"+w.type,P=!I&&x[R];if(!P){var O=parseClassType(w.type),L=g?ComponentView.getClass(O.main,O.sub):ChartView.getClass(O.sub);P=new L,P.init(v,b),x[R]=P,_.push(P),S.add(P.group)}w.__viewId=P.__id=R,P.__alive=!0,P.__model=w,P.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!g&&y.prepareView(P,w,v,b)}for(var E=0;E<_.length;){var D=_[E];D.__alive?E++:(!g&&D.renderTask.dispose(),S.remove(D.group),D.dispose(v,b),_.splice(E,1),x[D.__id]===D&&delete x[D.__id],D.__id=D.group.__ecComponentInfo=null)}},updateDirectly=function(d,g,v,y,_){var x=d._model;if(x.setUpdatePayload(v),!y){each$4([].concat(d._componentsViews).concat(d._chartsViews),D);return}var S={};S[y+"Id"]=v[y+"Id"],S[y+"Index"]=v[y+"Index"],S[y+"Name"]=v[y+"Name"];var b={mainType:y,query:S};_&&(b.subType=_);var E=v.excludeSeriesId,M;E!=null&&(M=createHashMap(),each$4(normalizeToArray(E),function(w){var I=convertOptionIdName(w,null);I!=null&&M.set(I,!0)})),x&&x.eachComponent(b,function(w){var I=M&&M.get(w.id)!=null;if(!I)if(isHighDownPayload(v))if(w instanceof SeriesModel)v.type===HIGHLIGHT_ACTION_TYPE&&!v.notBlur&&!w.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(w,v,d._api);else{var R=findComponentHighDownDispatchers(w.mainType,w.componentIndex,v.name,d._api),P=R.focusSelf,O=R.dispatchers;v.type===HIGHLIGHT_ACTION_TYPE&&P&&!v.notBlur&&blurComponent(w.mainType,w.componentIndex,d._api),O&&each$4(O,function(L){v.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(L):leaveEmphasis(L)})}else isSelectChangePayload(v)&&w instanceof SeriesModel&&(toggleSelectionFromPayload(w,v,d._api),updateSeriesElementSelection(w),markStatusToUpdate(d))},d),x&&x.eachComponent(b,function(w){var I=M&&M.get(w.id)!=null;I||D(d[y==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},d);function D(w){w&&w.__alive&&w[g]&&w[g](w.__model,x,d._api,v)}},updateMethods={prepareAndUpdate:function(d){prepare(this),updateMethods.update.call(this,d,d&&{optionChanged:d.newOption!=null})},update:function(d,g){var v=this._model,y=this._api,_=this._zr,x=this._coordSysMgr,S=this._scheduler;if(v){v.setUpdatePayload(d),S.restoreData(v,d),S.performSeriesTasks(v),x.create(v,y),S.performDataProcessorTasks(v,d),updateStreamModes(this,v),x.update(v,y),i(v),S.performVisualTasks(v,d);var b=v.get("backgroundColor")||"transparent";_.setBackgroundColor(b);var E=v.get("darkMode");E!=null&&E!=="auto"&&_.setDarkMode(E),render(this,v,y,d,g),lifecycle.trigger("afterupdate",v,y)}},updateTransform:function(d){var g=this,v=this._model,y=this._api;if(v){v.setUpdatePayload(d);var _=[];v.eachComponent(function(S,b){if(S!=="series"){var E=g.getViewOfComponentModel(b);if(E&&E.__alive)if(E.updateTransform){var M=E.updateTransform(b,v,y,d);M&&M.update&&_.push(E)}else _.push(E)}});var x=createHashMap();v.eachSeries(function(S){var b=g._chartsMap[S.__viewId];if(b.updateTransform){var E=b.updateTransform(S,v,y,d);E&&E.update&&x.set(S.uid,1)}else x.set(S.uid,1)}),i(v),this._scheduler.performVisualTasks(v,d,{setDirty:!0,dirtyMap:x}),renderSeries(this,v,y,d,{},x),lifecycle.trigger("afterupdate",v,y)}},updateView:function(d){var g=this._model;g&&(g.setUpdatePayload(d),ChartView.markUpdateMethod(d,"updateView"),i(g),this._scheduler.performVisualTasks(g,d,{setDirty:!0}),render(this,g,this._api,d,{}),lifecycle.trigger("afterupdate",g,this._api))},updateVisual:function(d){var g=this,v=this._model;v&&(v.setUpdatePayload(d),v.eachSeries(function(y){y.getData().clearAllVisual()}),ChartView.markUpdateMethod(d,"updateVisual"),i(v),this._scheduler.performVisualTasks(v,d,{visualType:"visual",setDirty:!0}),v.eachComponent(function(y,_){if(y!=="series"){var x=g.getViewOfComponentModel(_);x&&x.__alive&&x.updateVisual(_,v,g._api,d)}}),v.eachSeries(function(y){var _=g._chartsMap[y.__viewId];_.updateVisual(y,v,g._api,d)}),lifecycle.trigger("afterupdate",v,this._api))},updateLayout:function(d){updateMethods.update.call(this,d)}};function n(d,g,v,y,_){if(d._disposed){d.id;return}for(var x=d._model,S=d._coordSysMgr.getCoordinateSystems(),b,E=parseFinder(x,v),M=0;M<S.length;M++){var D=S[M];if(D[g]&&(b=D[g](x,E,y,_))!=null)return b}}doConvertPixel=n,updateStreamModes=function(d,g){var v=d._chartsMap,y=d._scheduler;g.eachSeries(function(_){y.updateStreamModes(_,v[_.__viewId])})},doDispatchAction=function(d,g){var v=this,y=this.getModel(),_=d.type,x=d.escapeConnect,S=actions[_],b=(S.update||"update").split(":"),E=b.pop(),M=b[0]!=null&&parseClassType(b[0]);this[IN_MAIN_PROCESS_KEY]=!0,updateMainProcessVersion(this);var D=[d],w=!1;d.batch&&(w=!0,D=map$1(d.batch,function(G){return G=defaults(extend({},G),d),G.batch=null,G}));var I=[],R,P=[],O=S.nonRefinedEventType,L=isSelectChangePayload(d),$=isHighDownPayload(d);if($&&allLeaveBlur(this._api),each$4(D,function(G){var W=S.action(G,y,v._api);if(S.refineEvent?P.push(W):R=W,R=R||extend({},G),R.type=O,I.push(R),$){var U=preParseFinder(d),j=U.queryOptionMap,ee=U.mainTypeSpecified,re=ee?j.keys()[0]:"series";updateDirectly(v,E,G,re),markStatusToUpdate(v)}else L?(updateDirectly(v,E,G,"series"),markStatusToUpdate(v)):M&&updateDirectly(v,E,G,M.main,M.sub)}),E!=="none"&&!$&&!L&&!M)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,d),this[PENDING_UPDATE]=null):updateMethods[E].call(this,d)}catch(G){throw this[IN_MAIN_PROCESS_KEY]=!1,G}if(w?R={type:O,escapeConnect:x,batch:I}:R=I[0],this[IN_MAIN_PROCESS_KEY]=!1,!g){var N=void 0;if(S.refineEvent){var F=S.refineEvent(P,d,y,this._api).eventContent;assert(isObject$2(F)),N=defaults({type:S.refinedEventType},F),N.fromAction=d.type,N.fromActionPayload=d,N.escapeConnect=!0}var Y=this._messageCenter;Y.trigger(R.type,R),N&&Y.trigger(N.type,N)}},flushPendingActions=function(d){for(var g=this._pendingActions;g.length;){var v=g.shift();doDispatchAction.call(this,v,d)}},triggerUpdatedEvent=function(d){!d&&this.trigger("updated")},bindRenderedEvent=function(d,g){d.on("rendered",function(v){g.trigger("rendered",v),d.animation.isFinished()&&!g[PENDING_UPDATE]&&!g._scheduler.unfinished&&!g._pendingActions.length&&g.trigger("finished")})},bindMouseEvent=function(d,g){d.on("mouseover",function(v){var y=v.target,_=findEventDispatcher(y,isHighDownDispatcher);_&&(handleGlobalMouseOverForHighDown(_,v,g._api),markStatusToUpdate(g))}).on("mouseout",function(v){var y=v.target,_=findEventDispatcher(y,isHighDownDispatcher);_&&(handleGlobalMouseOutForHighDown(_,v,g._api),markStatusToUpdate(g))}).on("click",function(v){var y=v.target,_=findEventDispatcher(y,function(b){return getECData(b).dataIndex!=null},!0);if(_){var x=_.selected?"unselect":"select",S=getECData(_);g._api.dispatchAction({type:x,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})};function i(d){d.clearColorPalette(),d.eachSeries(function(g){g.clearColorPalette()})}function a(d){var g=[],v=[],y=!1;if(d.eachComponent(function(b,E){var M=E.get("zlevel")||0,D=E.get("z")||0,w=E.getZLevelKey();y=y||!!w,(b==="series"?v:g).push({zlevel:M,z:D,idx:E.componentIndex,type:b,key:w})}),y){var _=g.concat(v),x,S;sort(_,function(b,E){return b.zlevel===E.zlevel?b.z-E.z:b.zlevel-E.zlevel}),each$4(_,function(b){var E=d.getComponent(b.type,b.idx),M=b.zlevel,D=b.key;x!=null&&(M=Math.max(x,M)),D?(M===x&&D!==S&&M++,S=D):S&&(M===x&&M++,S=""),x=M,E.setZLevel(M)})}}render=function(d,g,v,y,_){a(g),renderComponents(d,g,v,y,_),each$4(d._chartsViews,function(x){x.__alive=!1}),renderSeries(d,g,v,y,_),each$4(d._chartsViews,function(x){x.__alive||x.remove(g,v)})},renderComponents=function(d,g,v,y,_,x){each$4(x||d._componentsViews,function(S){var b=S.__model;c(b,S),S.render(b,g,v,y),u(b,S),f(b,S)})},renderSeries=function(d,g,v,y,_,x){var S=d._scheduler;_=extend(_||{},{updatedSeries:g.getSeries()}),lifecycle.trigger("series:beforeupdate",g,v,_);var b=!1;g.eachSeries(function(E){var M=d._chartsMap[E.__viewId];M.__alive=!0;var D=M.renderTask;S.updatePayload(D,y),c(E,M),x&&x.get(E.uid)&&D.dirty(),D.perform(S.getPerformArgs(D))&&(b=!0),M.group.silent=!!E.get("silent"),l(E,M),updateSeriesElementSelection(E)}),S.unfinished=b||S.unfinished,lifecycle.trigger("series:layoutlabels",g,v,_),lifecycle.trigger("series:transition",g,v,_),g.eachSeries(function(E){var M=d._chartsMap[E.__viewId];u(E,M),f(E,M)}),s(d,g),lifecycle.trigger("series:afterupdate",g,v,_)},markStatusToUpdate=function(d){d[STATUS_NEEDS_UPDATE_KEY]=!0,d.getZr().wakeUp()},updateMainProcessVersion=function(d){d[MAIN_PROCESS_VERSION_KEY]=(d[MAIN_PROCESS_VERSION_KEY]+1)%1e3},applyChangedStates=function(d){d[STATUS_NEEDS_UPDATE_KEY]&&(d.getZr().storage.traverse(function(g){isElementRemoved(g)||o(g)}),d[STATUS_NEEDS_UPDATE_KEY]=!1)};function o(d){for(var g=[],v=d.currentStates,y=0;y<v.length;y++){var _=v[y];_==="emphasis"||_==="blur"||_==="select"||g.push(_)}d.selected&&d.states.select&&g.push("select"),d.hoverState===HOVER_STATE_EMPHASIS&&d.states.emphasis?g.push("emphasis"):d.hoverState===HOVER_STATE_BLUR&&d.states.blur&&g.push("blur"),d.useStates(g)}function s(d,g){var v=d._zr,y=v.storage,_=0;y.traverse(function(x){x.isGroup||_++}),_>g.get("hoverLayerThreshold")&&!env.node&&!env.worker&&g.eachSeries(function(x){if(!x.preventUsingHoverLayer){var S=d._chartsMap[x.__viewId];S.__alive&&S.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function l(d,g){var v=d.get("blendMode")||null;g.eachRendered(function(y){y.isGroup||(y.style.blend=v)})}function u(d,g){if(!d.preventAutoZ){var v=retrieveZInfo(d);g.eachRendered(function(y){return traverseUpdateZ(y,v.z,v.zlevel),!0})}}function c(d,g){g.eachRendered(function(v){if(!isElementRemoved(v)){var y=v.getTextContent(),_=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function f(d,g){var v=d.getModel("stateAnimation"),y=d.isAnimationEnabled(),_=v.get("duration"),x=_>0?{duration:_,delay:v.get("delay"),easing:v.get("easing")}:null;g.eachRendered(function(S){if(S.states&&S.states.emphasis){if(isElementRemoved(S))return;if(S instanceof Path&&savePathStates(S),S.__dirty){var b=S.prevStates;b&&S.useStates(b)}if(y){S.stateTransition=x;var E=S.getTextContent(),M=S.getTextGuideLine();E&&(E.stateTransition=x),M&&(M.stateTransition=x)}S.__dirty&&o(S)}})}createExtensionAPI=function(d){return new((function(g){__extends(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(y){for(;y;){var _=y.__ecComponentInfo;if(_!=null)return d._model.getComponent(_.mainType,_.index);y=y.parent}},v.prototype.enterEmphasis=function(y,_){enterEmphasis(y,_),markStatusToUpdate(d)},v.prototype.leaveEmphasis=function(y,_){leaveEmphasis(y,_),markStatusToUpdate(d)},v.prototype.enterBlur=function(y){enterBlur(y),markStatusToUpdate(d)},v.prototype.leaveBlur=function(y){leaveBlur(y),markStatusToUpdate(d)},v.prototype.enterSelect=function(y){enterSelect(y),markStatusToUpdate(d)},v.prototype.leaveSelect=function(y){leaveSelect(y),markStatusToUpdate(d)},v.prototype.getModel=function(){return d.getModel()},v.prototype.getViewOfComponentModel=function(y){return d.getViewOfComponentModel(y)},v.prototype.getViewOfSeriesModel=function(y){return d.getViewOfSeriesModel(y)},v.prototype.getMainProcessVersion=function(){return d[MAIN_PROCESS_VERSION_KEY]},v})(ExtensionAPI))(d)},enableConnect=function(d){function g(v,y){for(var _=0;_<v.length;_++){var x=v[_];x[CONNECT_STATUS_KEY]=y}}each$4(connectionEventRevertMap,function(v,y){d._messageCenter.on(y,function(_){if(connectedGroups[d.group]&&d[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(_&&_.escapeConnect)return;var x=d.makeActionFromEvent(_),S=[];each$4(instances,function(b){b!==d&&b.group===d.group&&S.push(b)}),g(S,CONNECT_STATUS_PENDING),each$4(S,function(b){b[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&b.dispatchAction(x)}),g(S,CONNECT_STATUS_UPDATED)}})})}})(),t})(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(r,t,n){var i=this;function a(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),i.off(r,a)}this.on.call(this,r,a,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){}var actions={},connectionEventRevertMap={},publicEventTypeMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init(r,t,n){var i=!(n&&n.ssr);if(i){var a=getInstanceByDom(r);if(a)return a}var o=new ECharts(r,t,n);return o.id="ec_"+idBase++,instances[o.id]=o,i&&setAttribute(r,DOM_ATTRIBUTE_KEY,o.id),enableConnect(o),lifecycle.trigger("afterinit",o),o}function getInstanceByDom(r){return instances[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function registerTheme(r,t){themeStorage[r]=t}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,t){normalizeRegister(dataProcessorFuncs,r,t,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,t){lifecycle.on(r,t)}function registerAction(r,t,n){var i,a,o,s,l;isFunction(t)&&(n=t,t=""),isObject$2(r)?(i=r.type,a=r.event,s=r.update,l=r.publishNonRefinedEvent,n||(n=r.action),o=r.refineEvent):(i=r,a=t);function u(f){return f.toLowerCase()}a=u(a||i);var c=o?u(i):a;actions[i]||(assert(ACTION_REG.test(i)&&ACTION_REG.test(a)),o&&assert(a!==i),actions[i]={actionType:i,refinedEventType:a,nonRefinedEventType:c,update:s,action:n,refineEvent:o},publicEventTypeMap[a]=1,o&&l&&(publicEventTypeMap[c]=1),connectionEventRevertMap[c]=i)}function registerCoordinateSystem(r,t){CoordinateSystemManager.register(r,t)}function registerLayout(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,t,n,i,a){if((isFunction(t)||isObject$2(t))&&(n=t,t=i),!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var o=Scheduler.wrapStageHandler(n,a);o.__prio=t,o.__raw=n,r.push(o)}}function registerLoading(r,t){loadingEffects[r]=t}function registerMap(r,t,n){var i=getImpl("registerMap");i&&i(r,t,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_CHANGED_EVENT_TYPE,update:SELECT_ACTION_TYPE,action:noop,refineEvent:makeSelectChangedEvent,publishNonRefinedEvent:!0});registerAction({type:UNSELECT_ACTION_TYPE,event:SELECT_CHANGED_EVENT_TYPE,update:UNSELECT_ACTION_TYPE,action:noop,refineEvent:makeSelectChangedEvent,publishNonRefinedEvent:!0});registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:SELECT_CHANGED_EVENT_TYPE,update:TOGGLE_SELECT_ACTION_TYPE,action:noop,refineEvent:makeSelectChangedEvent,publishNonRefinedEvent:!0});function makeSelectChangedEvent(r,t,n,i){return{eventContent:{selected:getAllSelectedIndices(n),isFromClick:t.isFromClick||!1}}}registerTheme("default",{});registerTheme("dark",theme);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=(function(){function r(t,n,i,a,o,s){this._old=t,this._new=n,this._oldKeyGetter=i||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=o,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,n=this._new,i={},a=new Array(t.length),o=new Array(n.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var l=a[s],u=i[l],c=dataIndexMapValueLength(u);if(c>1){var f=u.shift();u.length===1&&(i[l]=u[0]),this._update&&this._update(f,s)}else c===1?(i[l]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(o,i)},r.prototype._executeMultiple=function(){var t=this._old,n=this._new,i={},a={},o=[],s=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(n,a,s,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],c=i[u],f=a[u],d=dataIndexMapValueLength(c),g=dataIndexMapValueLength(f);if(d>1&&g===1)this._updateManyToOne&&this._updateManyToOne(f,c),a[u]=null;else if(d===1&&g>1)this._updateOneToMany&&this._updateOneToMany(f,c),a[u]=null;else if(d===1&&g===1)this._update&&this._update(f,c),a[u]=null;else if(d>1&&g>1)this._updateManyToMany&&this._updateManyToMany(f,c),a[u]=null;else if(d>1)for(var v=0;v<d;v++)this._remove&&this._remove(c[v]);else this._remove&&this._remove(c)}this._performRestAdd(s,a)},r.prototype._performRestAdd=function(t,n){for(var i=0;i<t.length;i++){var a=t[i],o=n[a],s=dataIndexMapValueLength(o);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(o[l]);else s===1&&this._add&&this._add(o);n[a]=null}},r.prototype._initIndexMap=function(t,n,i,a){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var l="_ec_"+this[a](t[s],s);if(o||(i[s]=l),!!n){var u=n[l],c=dataIndexMapValueLength(u);c===0?(n[l]=s,o&&i.push(l)):c===1?n[l]=[u,s]:u.push(s)}}},r})(),DimensionUserOuput=(function(){function r(t,n){this._encode=t,this._schema=n}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function summarizeDimensions(r,t){var n={},i=n.encode={},a=createHashMap(),o=[],s=[],l={};each$4(r.dimensions,function(g){var v=r.getDimensionInfo(g),y=v.coordDim;if(y){var _=v.coordDimIndex;getOrCreateEncodeArr(i,y)[_]=g,v.isExtraCoord||(a.set(y,1),mayLabelDimType(v.type)&&(o[0]=g),getOrCreateEncodeArr(l,y)[_]=r.getDimensionIndex(v.name)),v.defaultTooltip&&s.push(g)}VISUAL_DIMENSIONS.each(function(x,S){var b=getOrCreateEncodeArr(i,S),E=v.otherDims[S];E!=null&&E!==!1&&(b[E]=v.name)})});var u=[],c={};a.each(function(g,v){var y=i[v];c[v]=y[0],u=u.concat(y)}),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=map$1(u,function(g){return r.getDimensionInfo(g).storeDimIndex}),n.encodeFirstDimNotExtra=c;var f=i.label;f&&f.length&&(o=f.slice());var d=i.tooltip;return d&&d.length?s=d.slice():s.length||(s=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=s,n.userOutput=new DimensionUserOuput(l,t),n}function getOrCreateEncodeArr(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=(function(){function r(t){this.otherDims={},t!=null&&extend(this,t)}return r})(),inner$4=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=(function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=shouldRetrieveDataByName(this.source),i=!shouldOmitUnusedDimensions(t),a="",o=[],s=0,l=0;s<t;s++){var u=void 0,c=void 0,f=void 0,d=this.dimensions[l];if(d&&d.storeDimIndex===s)u=n?d.name:null,c=d.type,f=d.ordinalMeta,l++;else{var g=this.getSourceDimension(s);g&&(u=n?g.name:null,c=g.type)}o.push({property:u,type:c,ordinalMeta:f}),n&&u!=null&&(!d||!d.isCalculationCoord)&&(a+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),a+="$",a+=dimTypeShort[c]||"f",f&&(a+=f.uid),a+="$"}var v=this.source,y=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:o,hash:y}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,i=0;n<this._fullDimCount;n++){var a=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(a=o.name),i++;else{var s=this.getSourceDimension(n);s&&(a=s.name)}t.push(a)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var t=createHashMap(),n=0;n<(r||[]).length;n++){var i=r[n],a=isObject$2(i)?i.name:i;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function ensureSourceDimNameMap(r){var t=inner$4(r);return t.dimNameMap||(t.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject=isObject$2,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=(function(){function r(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,a=!1;isSeriesDataSchema(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,i=t),i=i||["x","y"];for(var o={},s=[],l={},u=!1,c={},f=0;f<i.length;f++){var d=i[f],g=isString(d)?new SeriesDimensionDefine({name:d}):d instanceof SeriesDimensionDefine?d:new SeriesDimensionDefine(d),v=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=v,g.coordDimIndex=0);var y=g.otherDims=g.otherDims||{};s.push(v),o[v]=g,c[v]!=null&&(u=!0),g.createInvertedIndices&&(l[v]=[]);var _=f;isNumber(g.storeDimIndex)&&(_=g.storeDimIndex),y.itemName===0&&(this._nameDimIdx=_),y.itemId===0&&(this._idDimIdx=_),a&&(g.storeDimIndex=f)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=n,this._invertedIndicesMap=l,this._dimOmitted){var x=this._dimIdxToName=createHashMap();each$4(s,function(S){x.set(o[S].storeDimIndex,S)})}}return r.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var i=this._dimIdxToName.get(n);if(i!=null)return i;var a=this._schema.getSourceDimension(n);if(a)return a.name},r.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(i){return n.hasOwnProperty(i)?n[i]:void 0}:function(i){return n[i]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,n){var i=this._dimSummary;if(n==null)return i.encodeFirstDimNotExtra[t];var a=i.encode[t];return a?a[n]:null},r.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,i=n.encode[t];return(i||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,n,i){var a=this,o;if(t instanceof DataStore&&(o=t),!o){var s=this.dimensions,l=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,s.length):t;o=new DataStore;var u=map(s,function(c){return{type:a._dimInfos[c].type,property:c}});o.initData(l,u,i)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},r.prototype.appendValues=function(t,n){var i=this._store.appendValues(t,n&&n.length),a=i.start,o=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var l=a;l<o;l++){var u=l-a;this._nameList[l]=n[u],s&&makeIdFromName(this,l)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,i=0;i<n.length;i++){var a=this._dimInfos[n[i]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!t.fillStorage},r.prototype._doInit=function(t,n){if(!(t>=n)){var i=this._store,a=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,l=a.getSource().sourceFormat,u=l===SOURCE_FORMAT_ORIGINAL;if(u&&!a.pure)for(var c=[],f=t;f<n;f++){var d=a.getItem(f,c);if(!this.hasItemOption&&isDataItemOption(d)&&(this.hasItemOption=!0),d){var g=d.name;o[f]==null&&g!=null&&(o[f]=convertOptionIdName(g,null));var v=d.id;s[f]==null&&v!=null&&(s[f]=convertOptionIdName(v,null))}}if(this._shouldMakeIdFromName())for(var f=t;f<n;f++)makeIdFromName(this,f);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,n){isObject(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=n},r.prototype.getName=function(t){var n=this.getRawIndex(t),i=this._nameList[n];return i==null&&this._nameDimIdx!=null&&(i=getIdNameFromStore(this,this._nameDimIdx,n)),i==null&&(i=""),i},r.prototype._getCategory=function(t,n){var i=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[i]:i},r.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,n){var i=this._store,a=this._dimInfos[t];if(a)return i.get(a.storeDimIndex,n)},r.prototype.getByRawIndex=function(t,n){var i=this._store,a=this._dimInfos[t];if(a)return i.getByRawIndex(a.storeDimIndex,n)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,n){var i=this,a=this._store;return isArray(t)?a.getValues(map(t,function(o){return i._getStoreDimIndex(o)}),n):a.getValues(t)},r.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,i=0,a=n.length;i<a;i++)if(isNaN(this._store.get(n[i],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var n=0,i=this._store.count();n<i;n++)if(this.getName(n)===t)return n;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,n){var i=t&&this._invertedIndicesMap[t],a=i&&i[n];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},r.prototype.each=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]);var a=i||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(o,a?bind$1(n,a):n)},r.prototype.filterSelf=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]);var a=i||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,a?bind$1(n,a):n),this},r.prototype.selectRange=function(t){var n=this,i={},a=keys(t);return each$4(a,function(o){var s=n._getStoreDimIndex(o);i[s]=t[o]}),this._store=this._store.selectRange(i),this},r.prototype.mapArray=function(t,n,i){isFunction(t)&&(i=n,n=t,t=[]),i=i||this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},i),a},r.prototype.map=function(t,n,i,a){var o=i||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this),l=cloneListForMapAndSample(this);return l._store=this._store.map(s,o?bind$1(n,o):n),l},r.prototype.modify=function(t,n,i,a){var o=i||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(s,o?bind$1(n,o):n)},r.prototype.downSample=function(t,n,i,a){var o=cloneListForMapAndSample(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),n,i,a),o},r.prototype.minmaxDownSample=function(t,n){var i=cloneListForMapAndSample(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),i},r.prototype.lttbDownSample=function(t,n){var i=cloneListForMapAndSample(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),i},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var n=this.hostModel,i=this.getRawDataItem(t);return new Model(i,n,n&&n.ecModel)},r.prototype.diff=function(t){var n=this;return new DataDiffer(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return getId(t,i)},function(i){return getId(n,i)})},r.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},r.prototype.setVisual=function(t,n){this._visual=this._visual||{},isObject(t)?extend(this._visual,t):this._visual[t]=n},r.prototype.getItemVisual=function(t,n){var i=this._itemVisuals[t],a=i&&i[n];return a??this.getVisual(n)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,n){var i=this._itemVisuals,a=i[t];a||(a=i[t]={});var o=a[n];return o==null&&(o=this.getVisual(n),isArray(o)?o=o.slice():isObject(o)&&(o=extend({},o)),a[n]=o),o},r.prototype.setItemVisual=function(t,n,i){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,isObject(n)?extend(a,n):a[n]=i},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,n){isObject(t)?extend(this._layout,t):this._layout[t]=n},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,n,i){this._itemLayouts[t]=i?extend(this._itemLayouts[t]||{},n):n},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,n){var i=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(i,this.dataType,t,n),this._graphicEls[t]=n},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,n){each$4(this._graphicEls,function(i,a){i&&t&&t.call(n,i,a)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,n){var i=this[t];isFunction(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=i.apply(this,arguments);return n.apply(this,[a].concat(slice(arguments)))})},r.internalField=(function(){prepareInvertedIndex=function(t){var n=t._invertedIndicesMap;each$4(n,function(i,a){var o=t._dimInfos[a],s=o.ordinalMeta,l=t._store;if(s){i=n[a]=new CtorInt32Array(s.categories.length);for(var u=0;u<i.length;u++)i[u]=INDEX_NOT_FOUND;for(var u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},getIdNameFromStore=function(t,n,i){return convertOptionIdName(t._getCategory(n,i),null)},getId=function(t,n){var i=t._idList[n];return i==null&&t._idDimIdx!=null&&(i=getIdNameFromStore(t,t._idDimIdx,n)),i==null&&(i=ID_PREFIX+n),i},normalizeDimensions=function(t){return isArray(t)||(t=t!=null?[t]:[]),t},cloneListForMapAndSample=function(t){var n=new r(t._schema?t._schema:map(t.dimensions,t._getDimInfo,t),t.hostModel);return transferProperties(n,t),n},transferProperties=function(t,n){each$4(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t.__wrappedMethods=n.__wrappedMethods,each$4(CLONE_PROPERTIES,function(i){t[i]=clone$2(n[i])}),t._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(t,n){var i=t._nameList,a=t._idList,o=t._nameDimIdx,s=t._idDimIdx,l=i[n],u=a[n];if(l==null&&o!=null&&(i[n]=l=getIdNameFromStore(t,o,n)),u==null&&s!=null&&(a[n]=u=getIdNameFromStore(t,s,n)),u==null&&l!=null){var c=t._nameRepeatCount,f=c[l]=(c[l]||0)+1;u=l,f>1&&(u+="__ec__"+f),a[n]=u}}})(),r})();function prepareSeriesDataSchema(r,t){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),t=t||{};var n=t.coordDimensions||[],i=t.dimensionsDefine||r.dimensionsDefine||[],a=createHashMap(),o=[],s=getDimCount(r,n,i,t.dimensionsCount),l=t.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(s),u=i===r.dimensionsDefine,c=u?ensureSourceDimNameMap(r):createDimNameMap(i),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(r,s));for(var d=createHashMap(f),g=new CtorInt32Array$1(s),v=0;v<g.length;v++)g[v]=-1;function y(P){var O=g[P];if(O<0){var L=i[P],$=isObject$2(L)?L:{name:L},N=new SeriesDimensionDefine,F=$.name;F!=null&&c.get(F)!=null&&(N.name=N.displayName=F),$.type!=null&&(N.type=$.type),$.displayName!=null&&(N.displayName=$.displayName);var Y=o.length;return g[P]=Y,N.storeDimIndex=P,o.push(N),N}return o[O]}if(!l)for(var v=0;v<s;v++)y(v);d.each(function(P,O){var L=normalizeToArray(P).slice();if(L.length===1&&!isString(L[0])&&L[0]<0){d.set(O,!1);return}var $=d.set(O,[]);each$4(L,function(N,F){var Y=isString(N)?c.get(N):N;Y!=null&&Y<s&&($[F]=Y,x(y(Y),O,F))})});var _=0;each$4(n,function(P){var O,L,$,N;if(isString(P))O=P,N={};else{N=P,O=N.name;var F=N.ordinalMeta;N.ordinalMeta=null,N=extend({},N),N.ordinalMeta=F,L=N.dimsDef,$=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var Y=d.get(O);if(Y!==!1){if(Y=normalizeToArray(Y),!Y.length)for(var G=0;G<(L&&L.length||1);G++){for(;_<s&&y(_).coordDim!=null;)_++;_<s&&Y.push(_++)}each$4(Y,function(W,U){var j=y(W);if(u&&N.type!=null&&(j.type=N.type),x(defaults(j,N),O,U),j.name==null&&L){var ee=L[U];!isObject$2(ee)&&(ee={name:ee}),j.name=j.displayName=ee.name,j.defaultTooltip=ee.defaultTooltip}$&&defaults(j.otherDims,$)})}});function x(P,O,L){VISUAL_DIMENSIONS.get(O)!=null?P.otherDims[O]=L:(P.coordDim=O,P.coordDimIndex=L,a.set(O,!0))}var S=t.generateCoord,b=t.generateCoordCount,E=b!=null;b=S?b||1:0;var M=S||"value";function D(P){P.name==null&&(P.name=P.coordDim)}if(l)each$4(o,function(P){D(P)}),o.sort(function(P,O){return P.storeDimIndex-O.storeDimIndex});else for(var w=0;w<s;w++){var I=y(w),R=I.coordDim;R==null&&(I.coordDim=genCoordDimName(M,a,E),I.coordDimIndex=0,(!S||b<=0)&&(I.isExtraCoord=!0),b--),D(I),I.type==null&&(guessOrdinal(r,w)===BE_ORDINAL.Must||I.isExtraCoord&&(I.otherDims.itemName!=null||I.otherDims.seriesName!=null))&&(I.type="ordinal")}return removeDuplication(o),new SeriesDataSchema({source:r,dimensions:o,fullDimensionCount:s,dimensionOmitted:l})}function removeDuplication(r){for(var t=createHashMap(),n=0;n<r.length;n++){var i=r[n],a=i.name,o=t.get(a)||0;o>0&&(i.name=a+(o-1)),o++,t.set(a,o)}}function getDimCount(r,t,n,i){var a=Math.max(r.dimensionsDetectedCount||1,t.length,n.length,i||0);return each$4(t,function(o){var s;isObject$2(o)&&(s=o.dimsDef)&&(a=Math.max(a,s.length))}),a}function genCoordDimName(r,t,n){if(n||t.hasKey(r)){for(var i=0;t.hasKey(r+i);)i++;r+=i}return t.set(r,!0),r}var CoordSysInfo=(function(){function r(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return r})();function getCoordSysInfoBySeries(r){var t=r.get("coordinateSystem"),n=new CoordSysInfo(t),i=fetchers[t];if(i)return i(r,n,n.axisMap,n.categoryAxisMap),n}var fetchers={cartesian2d:function(r,t,n,i){var a=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],o=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"],n.set("x",a),n.set("y",o),isCategory(a)&&(i.set("x",a),t.firstCategoryDimIndex=0),isCategory(o)&&(i.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,n,i){var a=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["single"],n.set("single",a),isCategory(a)&&(i.set("single",a),t.firstCategoryDimIndex=0)},polar:function(r,t,n,i){var a=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],o=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),isCategory(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),isCategory(s)&&(i.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(r,t,n,i){var a=r.ecModel,o=a.getComponent("parallel",r.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();each$4(o.parallelAxisIndex,function(l,u){var c=a.getComponent("parallelAxis",l),f=s[u];n.set(f,c),isCategory(c)&&(i.set(f,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})},matrix:function(r,t,n,i){var a=r.getReferringComponents("matrix",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"];var o=a.getDimensionModel("x"),s=a.getDimensionModel("y");n.set("x",o),n.set("y",s),i.set("x",o),i.set("y",s)}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,t,n){n=n||{};var i=n.byIndex,a=n.stackedCoordDimension,o,s,l;isLegacyDimensionsInput(t)?o=t:(s=t.schema,o=s.dimensions,l=t.store);var u=!!(r&&r.get("stack")),c,f,d,g;if(each$4(o,function(b,E){isString(b)&&(o[E]=b={name:b}),u&&!b.isExtraCoord&&(!i&&!c&&b.ordinalMeta&&(c=b),!f&&b.type!=="ordinal"&&b.type!=="time"&&(!a||a===b.coordDim)&&(f=b))}),f&&!i&&!c&&(i=!0),f){d="__\0ecstackresult_"+r.id,g="__\0ecstackedover_"+r.id,c&&(c.createInvertedIndices=!0);var v=f.coordDim,y=f.type,_=0;each$4(o,function(b){b.coordDim===v&&_++});var x={name:d,coordDim:v,coordDimIndex:_,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},S={name:g,coordDim:g,coordDimIndex:_+1,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(l&&(x.storeDimIndex=l.ensureCalculationDimension(g,y),S.storeDimIndex=l.ensureCalculationDimension(d,y)),s.appendCalculationDimension(x),s.appendCalculationDimension(S)):(o.push(x),o.push(S))}return{stackedDimension:f&&f.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:g,stackResultDimension:d}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,t){return isDimensionStacked(r,t)?r.getCalculationInfo("stackResultDimension"):t}function getCoordSysDimDefs(r,t){var n=r.get("coordinateSystem"),i=CoordinateSystemManager.get(n),a;return t&&t.coordSysDims&&(a=map$1(t.coordSysDims,function(o){var s={name:o},l=t.axisMap.get(o);if(l){var u=l.get("type");s.type=getDimensionTypeByAxis(u)}return s})),a||(a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),a}function injectOrdinalMeta(r,t,n){var i,a;return n&&each$4(r,function(o,s){var l=o.coordDim,u=n.categoryAxisMap.get(l);u&&(i==null&&(i=s),o.ordinalMeta=u.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(a=!0)}),!a&&i!=null&&(r[i].otherDims.itemName=0),i}function createSeriesData(r,t,n){n=n||{};var i=t.getSourceManager(),a,o=!1;a=i.getSource(),o=a.sourceFormat===SOURCE_FORMAT_ORIGINAL;var s=getCoordSysInfoBySeries(t),l=getCoordSysDimDefs(t,s),u=n.useEncodeDefaulter,c=isFunction(u)?u:u?curry$1(makeSeriesEncodeForAxisCoordSys,l,t):null,f={coordDimensions:l,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},d=prepareSeriesDataSchema(a,f),g=injectOrdinalMeta(d.dimensions,n.createInvertedIndices,s),v=o?null:i.getSharedDataStore(d),y=enableDataStack(t,{schema:d,store:v}),_=new SeriesData(d,t);_.setCalculationInfo(y);var x=g!=null&&isNeedCompleteOrdinalData(a)?function(S,b,E,M){return M===g?E:this.defaultDimValueGetter(S,b,E,M)}:null;return _.hasItemOption=!1,_.initData(o?a:v,null,x),_}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var t=firstDataNotNull(r.data||[]);return!isArray(getDataItemValue(t))}}function firstDataNotNull(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,t,n,i,a){var o={},s=o.interval=nice(t/n);i!=null&&s<i&&(s=o.interval=i),a!=null&&s>a&&(s=o.interval=a);var l=o.intervalPrecision=getIntervalPrecision(s),u=o.niceTickExtent=[round$1(Math.ceil(r[0]/s)*s,l),round$1(Math.floor(r[1]/s)*s,l)];return fixExtent(u,r),o}function increaseInterval(r){var t=Math.pow(10,quantityExponent(r)),n=r/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,round$1(n*t)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,t,n){r[t]=Math.max(Math.min(r[t],n[1]),n[0])}function fixExtent(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),clamp(r,0,t),clamp(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function contain(r,t){return r>=t[0]&&r<=t[1]}var ScaleCalculator=(function(){function r(){this.normalize=normalize,this.scale=scale}return r.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=bind$1(t.normalize,t),this.scale=bind$1(t.scale,t)):(this.normalize=normalize,this.scale=scale)},r})();function normalize(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function scale(r,t){return r*(t[1]-t[0])+t[0]}function logTransform(r,t,n){var i=Math.log(r);return[Math.log(n?t[0]:Math.max(0,t[0]))/i,Math.log(n?t[1]:Math.max(0,t[1]))/i]}var Scale=(function(){function r(t){this._calculator=new ScaleCalculator,this._setting=t||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype._innerUnionExtent=function(t){var n=this._extent;this._innerSetExtent(t[0]<n[0]?t[0]:n[0],t[1]>n[1]?t[1]:n[1])},r.prototype.unionExtentFromData=function(t,n){this._innerUnionExtent(t.getApproximateExtent(n))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,n){this._innerSetExtent(t,n)},r.prototype._innerSetExtent=function(t,n){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(n)||(i[1]=n),this._brkCtx&&this._brkCtx.update(i)},r.prototype.setBreaksFromOption=function(t){},r.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r})();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=(function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase,this._onCollect=t.onCollect}return r.createByAxisModel=function(t){var n=t.option,i=n.data,a=i&&map$1(i,getName);return new r({categories:a,needCollect:!a,deduplication:n.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var n,i=this._needCollect;if(!isString(t)&&!i)return t;if(i&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,this._onCollect&&this._onCollect(t,n),n;var a=this._getOrCreateMap();return n=a.get(t),n==null&&(i?(n=this.categories.length,this.categories[n]=t,a.set(t,n),this._onCollect&&this._onCollect(t,n)):n=NaN),n},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r})();function getName(r){return isObject$2(r)&&r.value!=null?r.value:r+""}var OrdinalScale=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;i.type="ordinal";var a=i.getSetting("ordinalMeta");return a||(a=new OrdinalMeta({})),isArray(a)&&(a=new OrdinalMeta({categories:map$1(a,function(o){return isObject$2(o)?o.value:o})})),i._ordinalMeta=a,i._extent=i.getSetting("extent")||[0,a.categories.length-1],i}return t.prototype.parse=function(n){return n==null?NaN:isString(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return contain(n,this._extent)&&n>=0&&n<this._ordinalMeta.categories.length},t.prototype.normalize=function(n){return n=this._getTickNumber(n),this._calculator.normalize(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(this._calculator.scale(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],i=this._extent,a=i[0];a<=i[1];)n.push({value:a}),a++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=n.ordinalNumbers,a=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);s<u;++s){var c=i[s];a[s]=c,o[c]=s}for(var f=0;s<l;++s){for(;o[f]!=null;)f++;a.push(f),o[f]=s}},t.prototype._getTickNumber=function(n){var i=this._ticksByOrdinalNumber;return i&&n>=0&&n<i.length?i[n]:n},t.prototype.getRawOrdinalNumber=function(n){var i=this._ordinalNumbersByTick;return i&&n>=0&&n<i.length?i[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var i=this.getRawOrdinalNumber(n.value),a=this._ordinalMeta.categories[i];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$1,IntervalScale=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n==null||n===""?NaN:Number(n)},t.prototype.contain=function(n){return contain(n,this._extent)},t.prototype.normalize=function(n){return this._calculator.normalize(n,this._extent)},t.prototype.scale=function(n){return this._calculator.scale(n,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(n)},t.prototype.getTicks=function(n){n=n||{};var i=this._interval,a=this._extent,o=this._niceExtent,s=this._intervalPrecision,l=getScaleBreakHelper(),u=[];if(!i)return u;n.breakTicks;var c=1e4;a[0]<o[0]&&(n.expandToNicedExtent?u.push({value:roundNumber(o[0]-i,s)}):u.push({value:a[0]}));for(var f=function(y,_){return Math.round((_-y)/i)},d=o[0];d<=o[1];){if(u.push({value:d}),d=roundNumber(d+i,s),this._brkCtx){var g=this._brkCtx.calcNiceTickMultiple(d,f);g>=0&&(d=roundNumber(d+g*i,s))}if(u.length>0&&d===u[u.length-1].value)break;if(u.length>c)return[]}var v=u.length?u[u.length-1].value:o[1];return a[1]>v&&(n.expandToNicedExtent?u.push({value:roundNumber(v+i,s)}):u.push({value:a[1]})),n.breakTicks,u},t.prototype.getMinorTicks=function(n){for(var i=this.getTicks({expandToNicedExtent:!0}),a=[],o=this.getExtent(),s=1;s<i.length;s++){var l=i[s],u=i[s-1];if(!(u.break||l.break)){for(var c=0,f=[],d=l.value-u.value,g=d/n,v=getIntervalPrecision(g);c<n-1;){var y=roundNumber(u.value+(c+1)*g,v);y>o[0]&&y<o[1]&&f.push(y),c++}var _=getScaleBreakHelper();_&&_.pruneTicksByBreak("auto",f,this._getNonTransBreaks(),function(x){return x},this._interval,o),a.push(f)}}return a},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(n,i){if(n==null)return"";var a=i&&i.precision;a==null?a=getPrecision(n.value)||0:a==="auto"&&(a=this._intervalPrecision);var o=roundNumber(n.value,a,!0);return addCommas(o)},t.prototype.calcNiceTicks=function(n,i,a){n=n||5;var o=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,o.reverse(),this._innerSetExtent(o[0],o[1]),o=this._extent.slice());var l=intervalScaleNiceTicks(o,s,n,i,a);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var i=this._extent.slice();if(i[0]===i[1])if(i[0]!==0){var a=Math.abs(i[0]);n.fixMax||(i[1]+=a/2),i[0]-=a/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this._innerSetExtent(i[0],i[1]),i=this._extent.slice(),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var s=this._interval,l=this._intervalPrecision;n.fixMin||(i[0]=roundNumber(Math.floor(i[0]/s)*s,l)),n.fixMax||(i[1]=roundNumber(Math.ceil(i[1]/s)*s,l)),this._innerSetExtent(i[0],i[1])},t.prototype.setNiceExtent=function(n,i){this._niceExtent=[n,i]},t.type="interval",t})(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey(r){return r.dim+r.index}function prepareLayoutBarSeries(r,t){var n=[];return t.eachSeriesByType(r,function(i){isOnCartesian(i)&&n.push(i)}),n}function getValueAxesMinGaps(r){var t={};each$4(r,function(u){var c=u.coordinateSystem,f=c.getBaseAxis();if(!(f.type!=="time"&&f.type!=="value"))for(var d=u.getData(),g=f.dim+"_"+f.index,v=d.getDimensionIndex(d.mapDimension(f.dim)),y=d.getStore(),_=0,x=y.count();_<x;++_){var S=y.get(v,_);t[g]?t[g].push(S):t[g]=[S]}});var n={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if(a){a.sort(function(u,c){return u-c});for(var o=null,s=1;s<a.length;++s){var l=a[s]-a[s-1];l>0&&(o=o===null?l:Math.min(o,l))}n[i]=o}}return n}function makeColumnLayout(r){var t=getValueAxesMinGaps(r),n=[];return each$4(r,function(i){var a=i.coordinateSystem,o=a.getBaseAxis(),s=o.getExtent(),l;if(o.type==="category")l=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var u=o.dim+"_"+o.index,c=t[u],f=Math.abs(s[1]-s[0]),d=o.scale.getExtent(),g=Math.abs(d[1]-d[0]);l=c?f/g*c:f}else{var v=i.getData();l=Math.abs(s[1]-s[0])/v.count()}var y=parsePercent(i.get("barWidth"),l),_=parsePercent(i.get("barMaxWidth"),l),x=parsePercent(i.get("barMinWidth")||(isInLargeMode(i)?.5:1),l),S=i.get("barGap"),b=i.get("barCategoryGap"),E=i.get("defaultBarGap");n.push({bandWidth:l,barWidth:y,barMaxWidth:_,barMinWidth:x,barGap:S,barCategoryGap:b,defaultBarGap:E,axisKey:getAxisKey(o),stackId:getSeriesStackId(i)})}),doCalBarWidthAndOffset(n)}function doCalBarWidthAndOffset(r){var t={};each$4(r,function(i,a){var o=i.axisKey,s=i.bandWidth,l=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:i.defaultBarGap||0,stacks:{}},u=l.stacks;t[o]=l;var c=i.stackId;u[c]||l.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var f=i.barWidth;f&&!u[c].width&&(u[c].width=f,f=Math.min(l.remainedWidth,f),l.remainedWidth-=f);var d=i.barMaxWidth;d&&(u[c].maxWidth=d);var g=i.barMinWidth;g&&(u[c].minWidth=g);var v=i.barGap;v!=null&&(l.gap=v);var y=i.barCategoryGap;y!=null&&(l.categoryGap=y)});var n={};return each$4(t,function(i,a){n[a]={};var o=i.stacks,s=i.bandWidth,l=i.categoryGap;if(l==null){var u=keys(o).length;l=Math.max(35-u*4,15)+"%"}var c=parsePercent(l,s),f=parsePercent(i.gap,1),d=i.remainedWidth,g=i.autoWidthCount,v=(d-c)/(g+(g-1)*f);v=Math.max(v,0),each$4(o,function(S){var b=S.maxWidth,E=S.minWidth;if(S.width){var M=S.width;b&&(M=Math.min(M,b)),E&&(M=Math.max(M,E)),S.width=M,d-=M+f*M,g--}else{var M=v;b&&b<M&&(M=Math.min(b,d)),E&&E>M&&(M=E),M!==v&&(S.width=M,d-=M+f*M,g--)}}),v=(d-c)/(g+(g-1)*f),v=Math.max(v,0);var y=0,_;each$4(o,function(S,b){S.width||(S.width=v),_=S,y+=S.width*(1+f)}),_&&(y-=_.width*f);var x=-y/2;each$4(o,function(S,b){n[a][b]=n[a][b]||{bandWidth:s,offset:x,width:S.width},x+=S.width*(1+f)})}),n}function retrieveColumnLayout(r,t,n){if(r&&t){var i=r[getAxisKey(t)];return i}}function layout$1(r,t){var n=prepareLayoutBarSeries(r,t),i=makeColumnLayout(n);each$4(n,function(a){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=getSeriesStackId(a),c=i[getAxisKey(l)][u],f=c.offset,d=c.width;o.setLayout({bandWidth:c.bandWidth,offset:f,size:d})})}function createProgressiveLayout(r){return{seriesType:r,plan:createRenderPlanner(),reset:function(t){if(isOnCartesian(t)){var n=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),o=i.getOtherAxis(a),s=n.getDimensionIndex(n.mapDimension(o.dim)),l=n.getDimensionIndex(n.mapDimension(a.dim)),u=t.get("showBackground",!0),c=n.mapDimension(o.dim),f=n.getCalculationInfo("stackResultDimension"),d=isDimensionStacked(n,c)&&!!n.getCalculationInfo("stackedOnSeries"),g=o.isHorizontal(),v=getValueAxisStart(a,o),y=isInLargeMode(t),_=t.get("barMinHeight")||0,x=f&&n.getDimensionIndex(f),S=n.getLayout("size"),b=n.getLayout("offset");return{progress:function(E,M){for(var D=E.count,w=y&&createFloat32Array(D*3),I=y&&u&&createFloat32Array(D*3),R=y&&createFloat32Array(D),P=i.master.getRect(),O=g?P.width:P.height,L,$=M.getStore(),N=0;(L=E.next())!=null;){var F=$.get(d?x:s,L),Y=$.get(l,L),G=v,W=void 0;d&&(W=+F-$.get(s,L));var U=void 0,j=void 0,ee=void 0,re=void 0;if(g){var q=i.dataToPoint([F,Y]);if(d){var Q=i.dataToPoint([W,Y]);G=Q[0]}U=G,j=q[1]+b,ee=q[0]-G,re=S,Math.abs(ee)<_&&(ee=(ee<0?-1:1)*_)}else{var q=i.dataToPoint([Y,F]);if(d){var Q=i.dataToPoint([Y,W]);G=Q[1]}U=q[0]+b,j=G,ee=S,re=q[1]-G,Math.abs(re)<_&&(re=(re<=0?-1:1)*_)}y?(w[N]=U,w[N+1]=j,w[N+2]=g?ee:re,I&&(I[N]=g?P.x:U,I[N+1]=g?j:P.y,I[N+2]=O),R[L]=L):M.setItemLayout(L,{x:U,y:j,width:ee,height:re}),N+=3}y&&M.setLayout({largePoints:w,largeDataIndices:R,largeBackgroundPoints:I,valueAxisHorizontal:g})}}}}}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}function getValueAxisStart(r,t){var n=t.model.get("startValue");return n||(n=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?n>0?n:1:n))}var bisect=function(r,t,n,i){for(;n<i;){var a=n+i>>>1;r[a][1]<t?n=a+1:i=a}return n},TimeScale=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="time",i}return t.prototype.getLabel=function(n){var i=this.getSetting("useUTC");return format(n.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,i,a){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return leveledFormat(n,i,a,s,o)},t.prototype.getTicks=function(n){var i=this._interval,a=this._extent,o=[];if(!i)return o;var s=this.getSetting("useUTC"),l=getUnitFromValue(a[1],s);o.push({value:a[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=getIntervalTicks(this._minLevelUnit,this._approxInterval,s,a,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=getUnitFromValue(a[1],s);o.push({value:a[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}}),this.getSetting("useUTC");var f=primaryTimeUnits.length-1,d=0;return each$4(o,function(g){f=Math.min(f,indexOf(primaryTimeUnits,g.time.upperTimeUnit)),d=Math.max(d,g.time.level)}),o},t.prototype.calcNiceExtent=function(n){var i=this.getExtent();if(i[0]===i[1]&&(i[0]-=ONE_DAY,i[1]+=ONE_DAY),i[1]===-1/0&&i[0]===1/0){var a=new Date;i[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),i[0]=i[1]-ONE_DAY}this._innerSetExtent(i[0],i[1]),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,i,a){n=n||10;var o=this._getExtentSpanWithBreaks();this._approxInterval=o/n,i!=null&&this._approxInterval<i&&(this._approxInterval=i),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=scaleIntervals.length,l=Math.min(bisect(scaleIntervals,this._approxInterval,0,s),s-1);this._interval=scaleIntervals[l][1],this._intervalPrecision=getIntervalPrecision(this._interval),this._minLevelUnit=scaleIntervals[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return isNumber(n)?n:+parseDate(n)},t.prototype.contain=function(n){return contain(n,this._extent)},t.prototype.normalize=function(n){return this._calculator.normalize(n,this._extent)},t.prototype.scale=function(n){return this._calculator.scale(n,this._extent)},t.type="time",t})(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isPrimaryUnitValueAndGreaterSame(r,t,n,i){return roundTime(new Date(t),r,i).getTime()===roundTime(new Date(n),r,i).getTime()}function getDateInterval(r,t){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var t=30*ONE_DAY;return r/=t,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,t){return r/=t?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r)}function getFirstTimestampOfUnit(r,t,n){var i=Math.max(0,indexOf(primaryTimeUnits,t)-1);return roundTime(new Date(r),primaryTimeUnits[i],n).getTime()}function createEstimateNiceMultiple(r,t){var n=new Date(0);n[r](1);var i=n.getTime();n[r](1+t);var a=n.getTime()-i;return function(o,s){return Math.max(0,Math.round((s-o)/a))}}function getIntervalTicks(r,t,n,i,a,o){var s=1e4,l=timeUnits,u=0;function c(N,F,Y,G,W,U,j){for(var ee=createEstimateNiceMultiple(W,N),re=F,q=new Date(re);re<Y&&re<=i[1]&&(j.push({value:re}),!(u++>s));)if(q[W](q[G]()+N),re=q.getTime(),o){var Q=o.calcNiceTickMultiple(re,ee);Q>0&&(q[W](q[G]()+Q*N),re=q.getTime())}j.push({value:re,notAdd:!0})}function f(N,F,Y){var G=[],W=!F.length;if(!isPrimaryUnitValueAndGreaterSame(getPrimaryTimeUnit(N),i[0],i[1],n)){W&&(F=[{value:getFirstTimestampOfUnit(i[0],N,n)},{value:i[1]}]);for(var U=0;U<F.length-1;U++){var j=F[U].value,ee=F[U+1].value;if(j!==ee){var re=void 0,q=void 0,Q=void 0,fe=!1;switch(N){case"year":re=Math.max(1,Math.round(t/ONE_DAY/365)),q=fullYearGetterName(n),Q=fullYearSetterName(n);break;case"half-year":case"quarter":case"month":re=getMonthInterval(t),q=monthGetterName(n),Q=monthSetterName(n);break;case"week":case"half-week":case"day":re=getDateInterval(t),q=dateGetterName(n),Q=dateSetterName(n),fe=!0;break;case"half-day":case"quarter-day":case"hour":re=getHourInterval(t),q=hoursGetterName(n),Q=hoursSetterName(n);break;case"minute":re=getMinutesAndSecondsInterval(t,!0),q=minutesGetterName(n),Q=minutesSetterName(n);break;case"second":re=getMinutesAndSecondsInterval(t,!1),q=secondsGetterName(n),Q=secondsSetterName(n);break;case"millisecond":re=getMillisecondsInterval(t),q=millisecondsGetterName(n),Q=millisecondsSetterName(n);break}ee>=i[0]&&j<=i[1]&&c(re,j,ee,q,Q,fe,G),N==="year"&&Y.length>1&&U===0&&Y.unshift({value:Y[0].value-re})}}for(var U=0;U<G.length;U++)Y.push(G[U])}}for(var d=[],g=[],v=0,y=0,_=0;_<l.length;++_){var x=getPrimaryTimeUnit(l[_]);if(isPrimaryTimeUnit(l[_])){f(l[_],d[d.length-1]||[],g);var S=l[_+1]?getPrimaryTimeUnit(l[_+1]):null;if(x!==S){if(g.length){y=v,g.sort(function(N,F){return N.value-F.value});for(var b=[],E=0;E<g.length;++E){var M=g[E].value;(E===0||g[E-1].value!==M)&&(b.push(g[E]),M>=i[0]&&M<=i[1]&&v++)}var D=a/t;if(v>D*1.5&&y>D/1.5||(d.push(b),v>D||r===l[_]))break}g=[]}}}for(var w=filter(map$1(d,function(N){return filter(N,function(F){return F.value>=i[0]&&F.value<=i[1]&&!F.notAdd})}),function(N){return N.length>0}),I=[],R=w.length-1,_=0;_<w.length;++_)for(var P=w[_],O=0;O<P.length;++O){var L=getUnitFromValue(P[O].value,n);I.push({value:P[O].value,time:{level:R-_,upperTimeUnit:L,lowerTimeUnit:L}})}I.sort(function(N,F){return N.value-F.value});for(var $=[],_=0;_<I.length;++_)(_===0||I[_].value!==I[_-1].value)&&$.push(I[_]);return $}Scale.registerClass(TimeScale);var fixRound=round$1,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow=Math.pow,mathLog=Math.log,LogScale=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new IntervalScale,n}return t.prototype.getTicks=function(n){n=n||{};var i=this._extent.slice(),a=this._originalScale.getExtent(),o=r.prototype.getTicks.call(this,n),s=this.base;return this._originalScale._innerGetBreaks(),map$1(o,function(l){var u=l.value,c=null,f=mathPow(s,u);u===i[0]&&this._fixMin?c=a[0]:u===i[1]&&this._fixMax&&(c=a[1]);var d;return c!=null&&(f=fixRoundingError(f,c)),{value:f,break:d}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(n,i){this._originalScale.setExtent(n,i);var a=logTransform(this.base,[n,i]);r.prototype.setExtent.call(this,a[0],a[1])},t.prototype.getExtent=function(){var n=this.base,i=r.prototype.getExtent.call(this);i[0]=mathPow(n,i[0]),i[1]=mathPow(n,i[1]);var a=this._originalScale.getExtent();return this._fixMin&&(i[0]=fixRoundingError(i[0],a[0])),this._fixMax&&(i[1]=fixRoundingError(i[1],a[1])),i},t.prototype.unionExtentFromData=function(n,i){this._originalScale.unionExtentFromData(n,i);var a=logTransform(this.base,n.getApproximateExtent(i),!0);this._innerUnionExtent(a)},t.prototype.calcNiceTicks=function(n){n=n||10;var i=this._extent.slice(),a=this._getExtentSpanWithBreaks();if(!(!isFinite(a)||a<=0)){var o=quantity(a),s=n/a*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var l=[fixRound(mathCeil(i[0]/o)*o),fixRound(mathFloor(i[1]/o)*o)];this._interval=o,this._intervalPrecision=getIntervalPrecision(o),this._niceExtent=l}},t.prototype.calcNiceExtent=function(n){r.prototype.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.contain=function(n){return n=mathLog(n)/mathLog(this.base),r.prototype.contain.call(this,n)},t.prototype.normalize=function(n){return n=mathLog(n)/mathLog(this.base),r.prototype.normalize.call(this,n)},t.prototype.scale=function(n){return n=r.prototype.scale.call(this,n),mathPow(this.base,n)},t.prototype.setBreaksFromOption=function(n){},t.type="log",t})(IntervalScale);function fixRoundingError(r,t){return fixRound(r,getPrecision(t))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=(function(){function r(t,n,i){this._prepareParams(t,n,i)}return r.prototype._prepareParams=function(t,n,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get("min",!0);o==null&&(o=n.get("startValue",!0));var s=this._modelMinRaw=o;isFunction(s)?this._modelMinNum=parseAxisModelMinMax(t,s({min:i[0],max:i[1]})):s!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(t,s));var l=this._modelMaxRaw=n.get("max",!0);if(isFunction(l)?this._modelMaxNum=parseAxisModelMinMax(t,l({min:i[0],max:i[1]})):l!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(t,l)),a)this._axisDataLen=n.getCategories().length;else{var u=n.get("boundaryGap"),c=isArray(u)?u:[u||0,u||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(c[0],1),parsePercent$1(c[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,i=this._dataMax,a=this._axisDataLen,o=this._boundaryGapInner,s=t?null:i-n||Math.abs(n),l=this._modelMinRaw==="dataMin"?n:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,c=l!=null,f=u!=null;l==null&&(l=t?a?0:NaN:n-o[0]*s),u==null&&(u=t?a?a-1:NaN:i+o[1]*s),(l==null||!isFinite(l))&&(l=NaN),(u==null||!isFinite(u))&&(u=NaN);var d=eqNaN(l)||eqNaN(u)||t&&!a;this._needCrossZero&&(l>0&&u>0&&!c&&(l=0),l<0&&u<0&&!f&&(u=0));var g=this._determinedMin,v=this._determinedMax;return g!=null&&(l=g,c=!0),v!=null&&(u=v,f=!0),{min:l,max:u,minFixed:c,maxFixed:f,isBlank:d}},r.prototype.modifyDataMinMax=function(t,n){this[DATA_MIN_MAX_ATTR[t]]=n},r.prototype.setDeterminedMinMax=function(t,n){var i=DETERMINED_MIN_MAX_ATTR[t];this[i]=n},r.prototype.freeze=function(){this.frozen=!0},r})(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,t,n){var i=r.rawExtentInfo;return i||(i=new ScaleRawExtentInfo(r,t,n),r.rawExtentInfo=i,i)}function parseAxisModelMinMax(r,t){return t==null?null:eqNaN(t)?NaN:r.parse(t)}function getScaleExtent(r,t){var n=r.type,i=ensureScaleRawExtentInfo(r,t,r.getExtent()).calculate();r.setBlank(i.isBlank);var a=i.min,o=i.max,s=t.ecModel;if(s&&n==="time"){var l=prepareLayoutBarSeries("bar",s),u=!1;if(each$4(l,function(d){u=u||d.getBaseAxis()===t.axis}),u){var c=makeColumnLayout(l),f=adjustScaleForOverflow(a,o,t,c);a=f.min,o=f.max}}return{extent:[a,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function adjustScaleForOverflow(r,t,n,i){var a=n.axis.getExtent(),o=Math.abs(a[1]-a[0]),s=retrieveColumnLayout(i,n.axis);if(s===void 0)return{min:r,max:t};var l=1/0;each$4(s,function(v){l=Math.min(v.offset,l)});var u=-1/0;each$4(s,function(v){u=Math.max(v.offset+v.width,u)}),l=Math.abs(l),u=Math.abs(u);var c=l+u,f=t-r,d=1-(l+u)/o,g=f/d-f;return t+=g*(u/c),r-=g*(l/c),{min:r,max:t}}function niceScaleExtent(r,t){var n=t,i=getScaleExtent(r,n),a=i.extent,o=n.get("splitNumber");r instanceof LogScale&&(r.base=n.get("logBase"));var s=r.type,l=n.get("interval"),u=s==="interval"||s==="time";r.setBreaksFromOption(retrieveAxisBreaksOption(n)),r.setExtent(a[0],a[1]),r.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),l!=null&&r.setInterval&&r.setInterval(l)}function createScaleByModel(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new OrdinalScale({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale.getClass(t)||IntervalScale)}}function ifAxisCrossZero(r){var t=r.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)}function makeLabelFormatter(r){var t=r.getLabelModel().get("formatter");if(r.type==="time"){var n=parseTimeAxisLabelFormatter(t);return function(a,o){return r.scale.getFormattedLabel(a,o,n)}}else{if(isString(t))return function(a){var o=r.scale.getLabel(a),s=t.replace("{value}",o??"");return s};if(isFunction(t)){if(r.type==="category")return function(a,o){return t(getAxisRawValue(r,a),a.value-r.scale.getExtent()[0],null)};var i=getScaleBreakHelper();return function(a,o){var s=null;return i&&(s=i.makeAxisLabelFormatterParamBreak(s,a.break)),t(getAxisRawValue(r,a),o,s)}}else return function(a){return r.scale.getLabel(a)}}}function getAxisRawValue(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function getOptionCategoryInterval(r){var t=r.get("interval");return t??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,t){var n={};return each$4(r.mapDimensionsAll(t),function(i){n[getStackedDimension(r,i)]=!0}),keys(n)}function isNameLocationCenter(r){return r==="middle"||r==="center"}function shouldAxisShow(r){return r.getShallow("show")}function retrieveAxisBreaksOption(r){var t=r.get("breaks",!0);t==null}var AxisModelCommonMixin=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r})(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(r){ComponentModel.registerClass(r)},registerComponentView:function(r){ComponentView.registerClass(r)},registerSeriesModel:function(r){SeriesModel.registerClass(r)},registerChartView:function(r){ChartView.registerClass(r)},registerCustomSeries:function(r,t){},registerSubTypeDefaulter:function(r,t){ComponentModel.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){registerPainter(r,t)}};function use(r){if(isArray(r)){each$4(r,function(t){use(t)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction(r)&&(r={install:r}),r.install(extensionRegisters))}var modelInner=makeInner(),axisInner=makeInner(),AxisTickLabelComputingKind={estimate:1,determine:2};function createAxisLabelsComputingContext(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function tickValuesToNumbers(r,t){var n=map$1(t,function(i){return r.scale.parse(i)});return r.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function createAxisLabels(r,t){var n=r.getLabelModel().get("customValues");if(n){var i=makeLabelFormatter(r),a=r.scale.getExtent(),o=tickValuesToNumbers(r,n),s=filter(o,function(l){return l>=a[0]&&l<=a[1]});return{labels:map$1(s,function(l){var u={value:l};return{formattedLabel:i(u),rawLabel:r.scale.getLabel(u),tickValue:l,time:void 0,break:void 0}})}}return r.type==="category"?makeCategoryLabels(r,t):makeRealNumberLabels(r)}function createAxisTicks(r,t,n){var i=r.getTickModel().get("customValues");if(i){var a=r.scale.getExtent(),o=tickValuesToNumbers(r,i);return{ticks:filter(o,function(s){return s>=a[0]&&s<=a[1]})}}return r.type==="category"?makeCategoryTicks(r,t):{ticks:map$1(r.scale.getTicks(n),function(s){return s.value})}}function makeCategoryLabels(r,t){var n=r.getLabelModel(),i=makeCategoryLabelsActually(r,n,t);return!n.get("show")||r.scale.isBlank()?{labels:[]}:i}function makeCategoryLabelsActually(r,t,n){var i=ensureCategoryLabelCache(r),a=getOptionCategoryInterval(t),o=n.kind===AxisTickLabelComputingKind.estimate;if(!o){var s=axisCacheGet(i,a);if(s)return s}var l,u;isFunction(a)?l=makeLabelsByCustomizedCategoryInterval(r,a):(u=a==="auto"?makeAutoCategoryInterval(r,n):a,l=makeLabelsByNumericCategoryInterval(r,u));var c={labels:l,labelCategoryInterval:u};return o?n.out.noPxChangeTryDetermine.push(function(){return axisCacheSet(i,a,c),!0}):axisCacheSet(i,a,c),c}function makeCategoryTicks(r,t){var n=ensureCategoryTickCache(r),i=getOptionCategoryInterval(t),a=axisCacheGet(n,i);if(a)return a;var o,s;if((!t.get("show")||r.scale.isBlank())&&(o=[]),isFunction(i))o=makeLabelsByCustomizedCategoryInterval(r,i,!0);else if(i==="auto"){var l=makeCategoryLabelsActually(r,r.getLabelModel(),createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine));s=l.labelCategoryInterval,o=map$1(l.labels,function(u){return u.tickValue})}else s=i,o=makeLabelsByNumericCategoryInterval(r,s,!0);return axisCacheSet(n,i,{ticks:o,tickCategoryInterval:s})}function makeRealNumberLabels(r){var t=r.scale.getTicks(),n=makeLabelFormatter(r);return{labels:map$1(t,function(i,a){return{formattedLabel:n(i,a),rawLabel:r.scale.getLabel(i),tickValue:i.value,time:i.time,break:i.break}})}}var ensureCategoryTickCache=initAxisCacheMethod("axisTick"),ensureCategoryLabelCache=initAxisCacheMethod("axisLabel");function initAxisCacheMethod(r){return function(n){return axisInner(n)[r]||(axisInner(n)[r]={list:[]})}}function axisCacheGet(r,t){for(var n=0;n<r.list.length;n++)if(r.list[n].key===t)return r.list[n].value}function axisCacheSet(r,t,n){return r.list.push({key:t,value:n}),n}function makeAutoCategoryInterval(r,t){if(t.kind===AxisTickLabelComputingKind.estimate){var n=r.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return axisInner(r).autoInterval=n,!0}),n}var i=axisInner(r).autoInterval;return i??(axisInner(r).autoInterval=r.calculateCategoryInterval(t))}function calculateCategoryInterval(r,t){var n=t.kind,i=fetchAutoCategoryIntervalCalculationParams(r),a=makeLabelFormatter(r),o=(i.axisRotate-i.labelRotate)/180*Math.PI,s=r.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var c=1,f=40;u>f&&(c=Math.max(1,Math.floor(u/f)));for(var d=l[0],g=r.dataToCoord(d+1)-r.dataToCoord(d),v=Math.abs(g*Math.cos(o)),y=Math.abs(g*Math.sin(o)),_=0,x=0;d<=l[1];d+=c){var S=0,b=0,E=getBoundingRect(a({value:d}),i.font,"center","top");S=E.width*1.3,b=E.height*1.3,_=Math.max(_,S,7),x=Math.max(x,b,7)}var M=_/v,D=x/y;isNaN(M)&&(M=1/0),isNaN(D)&&(D=1/0);var w=Math.max(0,Math.floor(Math.min(M,D)));if(n===AxisTickLabelComputingKind.estimate)return t.out.noPxChangeTryDetermine.push(bind$1(calculateCategoryIntervalTryDetermine,null,r,w,u)),w;var I=calculateCategoryIntervalDealCache(r,w,u);return I??w}function calculateCategoryIntervalTryDetermine(r,t,n){return calculateCategoryIntervalDealCache(r,t,n)==null}function calculateCategoryIntervalDealCache(r,t,n){var i=modelInner(r.model),a=r.getExtent(),o=i.lastAutoInterval,s=i.lastTickCount;if(o!=null&&s!=null&&Math.abs(o-t)<=1&&Math.abs(s-n)<=1&&o>t&&i.axisExtent0===a[0]&&i.axisExtent1===a[1])return o;i.lastTickCount=n,i.lastAutoInterval=t,i.axisExtent0=a[0],i.axisExtent1=a[1]}function fetchAutoCategoryIntervalCalculationParams(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function makeLabelsByNumericCategoryInterval(r,t,n){var i=makeLabelFormatter(r),a=r.scale,o=a.getExtent(),s=r.getLabelModel(),l=[],u=Math.max((t||0)+1,1),c=o[0],f=a.count();c!==0&&u>1&&f/u>2&&(c=Math.round(Math.ceil(c/u)*u));var d=shouldShowAllLabels(r),g=s.get("showMinLabel")||d,v=s.get("showMaxLabel")||d;g&&c!==o[0]&&_(o[0]);for(var y=c;y<=o[1];y+=u)_(y);v&&y-u!==o[1]&&_(o[1]);function _(x){var S={value:x};l.push(n?x:{formattedLabel:i(S),rawLabel:a.getLabel(S),tickValue:x,time:void 0,break:void 0})}return l}function makeLabelsByCustomizedCategoryInterval(r,t,n){var i=r.scale,a=makeLabelFormatter(r),o=[];return each$4(i.getTicks(),function(s){var l=i.getLabel(s),u=s.value;t(s.value,l)&&o.push(n?u:{formattedLabel:a(s),rawLabel:l,tickValue:u,time:void 0,break:void 0})}),o}var NORMALIZED_EXTENT=[0,1],Axis=(function(){function r(t,n,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=i||[0,0]}return r.prototype.contain=function(t){var n=this._extent,i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=i&&t<=a},r.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,n){var i=this._extent;i[0]=t,i[1]=n},r.prototype.dataToCoord=function(t,n){var i=this._extent,a=this.scale;return t=a.normalize(a.parse(t)),this.onBand&&a.type==="ordinal"&&(i=i.slice(),fixExtentWithBands(i,a.count())),linearMap(t,NORMALIZED_EXTENT,i,n)},r.prototype.coordToData=function(t,n){var i=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(i=i.slice(),fixExtentWithBands(i,a.count()));var o=linearMap(t,i,NORMALIZED_EXTENT,n);return this.scale.scale(o)},r.prototype.pointToData=function(t,n){},r.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),i=createAxisTicks(this,n,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),a=i.ticks,o=map$1(a,function(l){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(l):l),tickValue:l}},this),s=n.get("alignWithLabel");return fixOnBandTicksCoords(this,o,s,t.clamp),o},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var i=this.scale.getMinorTicks(n),a=map$1(i,function(o){return map$1(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return a},r.prototype.getViewLabels=function(t){return t=t||createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine),createAxisLabels(this,t).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),i=n[1]-n[0]+(this.onBand?1:0);i===0&&(i=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/i},r.prototype.calculateCategoryInterval=function(t){return t=t||createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine),calculateCategoryInterval(this,t)},r})();function fixExtentWithBands(r,t){var n=r[1]-r[0],i=t,a=n/i/2;r[0]+=a,r[1]-=a}function fixOnBandTicksCoords(r,t,n,i){var a=t.length;if(!r.onBand||n||!a)return;var o=r.getExtent(),s,l;if(a===1)t[0].coord=o[0],t[0].onBand=!0,s=t[1]={coord:o[1],tickValue:t[0].tickValue,onBand:!0};else{var u=t[a-1].tickValue-t[0].tickValue,c=(t[a-1].coord-t[0].coord)/u;each$4(t,function(v){v.coord-=c/2,v.onBand=!0});var f=r.scale.getExtent();l=1+f[1]-t[a-1].tickValue,s={coord:t[a-1].coord+c*l,tickValue:f[1]+1,onBand:!0},t.push(s)}var d=o[0]>o[1];g(t[0].coord,o[0])&&(i?t[0].coord=o[0]:t.shift()),i&&g(o[0],t[0].coord)&&t.unshift({coord:o[0],onBand:!0}),g(o[1],s.coord)&&(i?s.coord=o[1]:t.pop()),i&&g(s.coord,o[1])&&t.push({coord:o[1],onBand:!0});function g(v,y){return v=round$1(v),y=round$1(y),d?v>y:v<y}}var LABEL_LAYOUT_BASE_PROPS=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],LABEL_LAYOUT_DIRTY_BIT_OTHERS=1,LABEL_LAYOUT_DIRTY_BIT_OBB=2,LABEL_LAYOUT_DIRTY_ALL=LABEL_LAYOUT_DIRTY_BIT_OTHERS|LABEL_LAYOUT_DIRTY_BIT_OBB;function setLabelLayoutDirty(r,t,n){n=n||LABEL_LAYOUT_DIRTY_ALL,t?r.dirty|=n:r.dirty&=~n}function isLabelLayoutDirty(r,t){return t=t||LABEL_LAYOUT_DIRTY_ALL,r.dirty==null||!!(r.dirty&t)}function ensureLabelLayoutWithGeometry(r){if(r)return isLabelLayoutDirty(r)&&computeLabelGeometry(r,r.label,r),r}function computeLabelGeometry(r,t,n){var i=t.getComputedTransform();r.transform=ensureCopyTransform(r.transform,i);var a=r.localRect=ensureCopyRect(r.localRect,t.getBoundingRect()),o=t.style,s=o.margin,l=n&&n.marginForce,u=n&&n.minMarginForce,c=n&&n.marginDefault,f=o.__marginType;f==null&&c&&(s=c,f=LabelMarginType.textMargin);for(var d=0;d<4;d++)_tmpLabelMargin[d]=f===LabelMarginType.minMargin&&u&&u[d]!=null?u[d]:l&&l[d]!=null?l[d]:s?s[d]:0;f===LabelMarginType.textMargin&&expandOrShrinkRect(a,_tmpLabelMargin,!1,!1);var g=r.rect=ensureCopyRect(r.rect,a);return i&&g.applyTransform(i),f===LabelMarginType.minMargin&&expandOrShrinkRect(g,_tmpLabelMargin,!1,!1),r.axisAligned=isBoundingRectAxisAligned(i),(r.label=r.label||{}).ignore=t.ignore,setLabelLayoutDirty(r,!1),setLabelLayoutDirty(r,!0,LABEL_LAYOUT_DIRTY_BIT_OBB),r}var _tmpLabelMargin=[0,0,0,0];function computeLabelGeometry2(r,t,n){return r.transform=ensureCopyTransform(r.transform,n),r.localRect=ensureCopyRect(r.localRect,t),r.rect=ensureCopyRect(r.rect,t),n&&r.rect.applyTransform(n),r.axisAligned=isBoundingRectAxisAligned(n),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function labelLayoutApplyTranslation(r,t){if(r){r.label.x+=t.x,r.label.y+=t.y,r.label.markRedraw();var n=r.transform;n&&(n[4]+=t.x,n[5]+=t.y);var i=r.rect;i&&(i.x+=t.x,i.y+=t.y);var a=r.obb;a&&a.fromBoundingRect(r.localRect,n)}}function newLabelLayoutWithGeometry(r,t){for(var n=0;n<LABEL_LAYOUT_BASE_PROPS.length;n++){var i=LABEL_LAYOUT_BASE_PROPS[n];r[i]==null&&(r[i]=t[i])}return ensureLabelLayoutWithGeometry(r)}function ensureOBB(r){var t=r.obb;return(!t||isLabelLayoutDirty(r,LABEL_LAYOUT_DIRTY_BIT_OBB))&&(r.obb=t=t||new OrientedBoundingRect,t.fromBoundingRect(r.localRect,r.transform),setLabelLayoutDirty(r,!1,LABEL_LAYOUT_DIRTY_BIT_OBB)),t}function hideOverlap(r){var t=[];r.sort(function(c,f){return(f.suggestIgnore?1:0)-(c.suggestIgnore?1:0)||f.priority-c.priority});function n(c){if(!c.ignore){var f=c.ensureState("emphasis");f.ignore==null&&(f.ignore=!1)}c.ignore=!0}for(var i=0;i<r.length;i++){var a=ensureLabelLayoutWithGeometry(r[i]);if(!a.label.ignore){for(var o=a.label,s=a.labelLine,l=!1,u=0;u<t.length;u++)if(labelIntersect(a,t[u],null,{touchThreshold:.05})){l=!0;break}l?(n(o),s&&n(s)):t.push(a)}}}function labelIntersect(r,t,n,i){return!r||!t||r.label&&r.label.ignore||t.label&&t.label.ignore||!r.rect.intersect(t.rect,n,i)?!1:r.axisAligned&&t.axisAligned?!0:ensureOBB(r).intersect(ensureOBB(t),n,i)}const METHOD_NAMES=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function usePublicAPI(r){function t(n){return function(...a){if(!r.value)throw new Error("ECharts is not initialized yet.");return Reflect.apply(r.value[n],r.value,a)}}return METHOD_NAMES.reduce((n,i)=>(n[i]=t(i),n),{})}function useAutoresize(r,t,n){watch([n,r,t],([i,a,o],s,l)=>{let u=null;if(i&&a&&o){const{offsetWidth:c,offsetHeight:f}=i,{throttle:d=100,onResize:g}=o===!0?{}:o;let v=!1;const y=()=>{a.resize(),g?.()},_=d?throttle(y,d):y;u=new ResizeObserver(()=>{!v&&(v=!0,i.offsetWidth===c&&i.offsetHeight===f)||i.offsetWidth===0||i.offsetHeight===0||_()}),u.observe(i)}l(()=>{u&&(u.disconnect(),u=null)})})}const autoresizeProps={autoresize:[Boolean,Object]},LOADING_OPTIONS_KEY=Symbol();function useLoading(r,t,n){const i=inject(LOADING_OPTIONS_KEY,{}),a=computed(()=>({...toValue(i),...n?.value}));watchEffect(()=>{const o=r.value;o&&(t.value?o.showLoading(a.value):o.hideLoading())})}const loadingProps={loading:Boolean,loadingOptions:Object};function isBrowser(){return typeof window<"u"&&typeof document<"u"}const onRE=/^on[^a-z]/,isOn=r=>onRE.test(r);function omitOn(r){const t={};for(const n in r)isOn(n)||(t[n]=r[n]);return t}function isValidArrayIndex(r){const t=Number(r);return Number.isInteger(t)&&t>=0&&t<Math.pow(2,32)-1&&String(t)===r}function isSameSet(r,t){const n=new Set(r),i=new Set(t);if(n.size!==i.size)return!1;for(const a of n)if(!i.has(a))return!1;return!0}function isPlainObject(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}const SLOT_OPTION_PATHS={tooltip:["tooltip","formatter"],dataView:["toolbox","feature","dataView","optionToContent"]},SLOT_PREFIXES=Object.keys(SLOT_OPTION_PATHS);function isValidSlotName(r){return SLOT_PREFIXES.some(t=>r===t||r.startsWith(t+"-"))}function useSlotOption(r,t){const n=isBrowser()?document.createElement("div"):void 0,i=shallowReactive({}),a=shallowReactive({}),o=shallowReactive({}),s=shallowRef(!1),l=()=>s.value&&n?h(Teleport,{to:n},Object.entries(r).filter(([d])=>isValidSlotName(d)).map(([d,g])=>{const v=d;return h("div",{ref:y=>{y instanceof HTMLElement&&(i[v]=y)},style:{display:"contents"}},a[v]?g?.(o[v]):void 0)})):void 0;function u(d){return d!==null&&typeof d=="object"&&!Array.isArray(d)}function c(d){const g={...d},v=(y,_)=>{const x=y[_];if(Array.isArray(x))return y[_]=[...x],y[_];if(u(x))return y[_]={...x},y[_];if(x===void 0)return y[_]=isValidArrayIndex(_)?[]:{},y[_]};return Object.keys(r).filter(y=>isValidSlotName(y)).forEach(y=>{const[_,...x]=y.split("-"),S=SLOT_OPTION_PATHS[_];if(!S)return;const b=[...x,...S];if(b.length===0)return;let E=g;for(let M=0;M<b.length-1;M++)if(E=v(E,b[M]),!E)return;E[b[b.length-1]]=M=>(a[y]=!0,o[y]=M,i[y])}),g}let f=[];return onUpdated(()=>{const d=Object.keys(r).filter(isValidSlotName);isSameSet(d,f)||(f.forEach(g=>{d.includes(g)||(delete o[g],delete a[g],delete i[g])}),f=d,t())}),onMounted(()=>{s.value=!0}),onUnmounted(()=>{n?.remove()}),{teleportedSlots:l,patchOption:c}}let registered=null;const TAG_NAME="x-vue-echarts";function register$1(){if(registered!=null)return registered;const r=globalThis.customElements;if(!isBrowser()||!r?.get)return registered=!1,registered;if(!r.get(TAG_NAME))try{class t extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}r.define(TAG_NAME,t)}catch{return registered=!1,registered}return registered=!0,registered}function readId(r){if(!isPlainObject(r))return;const t=r.id;if(typeof t=="string")return t;if(typeof t=="number"&&Number.isFinite(t))return String(t)}function buildSignature(r){const t=r,n=Array.isArray(t.options)?t.options.length:0,i=Array.isArray(t.media)?t.media.length:0,a=Object.create(null),o=[],s=[];for(const l of Object.keys(t)){if(l==="options"||l==="media")continue;const u=t[l];if(Array.isArray(u)){const c=u,f=new Set;let d=0;for(let g=0;g<c.length;g++){const v=readId(c[g]);v!==void 0?f.add(v):d++}a[l]={idsSorted:f.size>0?Array.from(f).sort():[],noIdCount:d}}else isPlainObject(u)?o.push(l):u!==void 0&&s.push(l)}return o.length>1&&o.sort(),s.length>1&&s.sort(),{optionsLength:n,mediaLength:i,arrays:a,objects:o,scalars:s}}function diffKeys(r,t){if(r.length===0)return[];if(t.length===0)return r.slice();const n=new Set(t),i=[];for(let a=0;a<r.length;a++){const o=r[a];n.has(o)||i.push(o)}return i}function hasMissingIds(r,t){if(r.length===0)return!1;if(t.length===0)return!0;const n=new Set(t);for(let i=0;i<r.length;i++)if(!n.has(r[i]))return!0;return!1}function planUpdate(r,t){const n=buildSignature(t);if(!r)return{option:t,signature:n,plan:{notMerge:!1}};if(n.optionsLength<r.optionsLength)return{option:t,signature:n,plan:{notMerge:!0}};if(n.mediaLength<r.mediaLength)return{option:t,signature:n,plan:{notMerge:!0}};if(diffKeys(r.scalars,n.scalars).length>0)return{option:t,signature:n,plan:{notMerge:!0}};const i=new Set,a=new Map,o=diffKeys(r.objects,n.objects);for(let c=0;c<o.length;c++)a.set(o[c],null);for(const c of Object.keys(r.arrays)){const f=r.arrays[c];if(!f)continue;const d=n.arrays[c];if(!d){(f.idsSorted.length>0||f.noIdCount>0)&&(a.set(c,[]),i.add(c));continue}if(hasMissingIds(f.idsSorted,d.idsSorted)){i.add(c);continue}d.noIdCount<f.noIdCount&&i.add(c)}let s=t,l=n;if(a.size>0){const c={...t};a.forEach((f,d)=>{c[d]=f}),s=c,l=buildSignature(s)}const u=i.size>0?Array.from(i).sort():void 0;return{option:s,signature:l,plan:u?{notMerge:!1,replaceMerge:u}:{notMerge:!1}}}var style_default=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0;}
x-vue-echarts>:first-child,x-vue-echarts>:first-child>canvas{border-radius:inherit;}
`;if(typeof document<"u")if(Array.isArray(document.adoptedStyleSheets)&&"replaceSync"in CSSStyleSheet.prototype){const r=new CSSStyleSheet;r.replaceSync(style_default),document.adoptedStyleSheets=[...document.adoptedStyleSheets,r]}else{const r=document.createElement("style");r.textContent=style_default,document.head.appendChild(r)}const wcRegistered=register$1(),THEME_KEY=Symbol(),INIT_OPTIONS_KEY=Symbol(),UPDATE_OPTIONS_KEY=Symbol();var ECharts_default=defineComponent({name:"Echarts",inheritAttrs:!1,props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...autoresizeProps,...loadingProps},emits:{},slots:Object,setup(r,{attrs:t,expose:n,slots:i}){const a=shallowRef(),o=shallowRef(),s=inject(THEME_KEY,null),l=inject(INIT_OPTIONS_KEY,null),u=inject(UPDATE_OPTIONS_KEY,null),{autoresize:c,manualUpdate:f,loading:d,loadingOptions:g}=toRefs(r),v=computed(()=>r.theme||toValue(s)),y=computed(()=>r.initOptions||toValue(l)||void 0),_=computed(()=>r.updateOptions||toValue(u)),x=computed(()=>omitOn(t)),S={},b=new Map,{teleportedSlots:E,patchOption:M}=useSlotOption(i,()=>{!f.value&&r.option&&o.value&&I(o.value,r.option)});let D;function w($){const N={},F=($?.replaceMerge??[]).filter(Y=>Y!=null);return F.length>0&&(N.replaceMerge=[...new Set(F)]),$?.notMerge!==void 0&&(N.notMerge=$.notMerge),N}function I($,N,F,Y=!1){const G=M(N);if(Y){$.setOption(G,F??{}),D=void 0;return}if(_.value){const j=F??_.value;$.setOption(G,j),D=void 0;return}const W=planUpdate(D,G),U=w(W.plan);$.setOption(W.option,U),D=W.signature}Object.keys(t).filter($=>isOn($)).forEach($=>{if($.indexOf("Native:")===2){const G=`on${$.charAt(9).toUpperCase()}${$.slice(10)}`;S[G]=t[$];return}let N=$.charAt(2).toLowerCase()+$.slice(3),F;N.indexOf("zr:")===0&&(F=!0,N=N.substring(3));let Y;N.substring(N.length-4)==="Once"&&(Y=!0,N=N.substring(0,N.length-4)),b.set({event:N,zr:F,once:Y},t[$])});function R(){if(!a.value)return;const $=o.value=init(a.value,v.value,y.value);r.group&&($.group=r.group),b.forEach((Y,{zr:G,once:W,event:U})=>{if(!Y)return;const j=G?$.getZr():$;if(W){const ee=Y;let re=!1;Y=(...q)=>{re||(re=!0,ee(...q),j.off(U,Y))}}j.on(U,Y)});function N(){$&&!$.isDisposed()&&$.resize()}function F(){const{option:Y}=r;if(f.value){Y&&I($,Y,void 0,!0);return}Y&&I($,Y)}c.value?nextTick(()=>{N(),F()}):F()}const P=($,N,F)=>{if(!r.manualUpdate)return;const Y=typeof N=="boolean"?{notMerge:N,lazyUpdate:F}:N;o.value&&I(o.value,$,Y??void 0,!0)};function O(){o.value&&(o.value.dispose(),o.value=void 0),D=void 0}watch(()=>r.option,$=>{if(!$){D=void 0;return}f.value||o.value&&I(o.value,$)},{deep:!0}),watch([f,y],()=>{O(),R()},{deep:!0}),watch(v,$=>{o.value?.setTheme($||{})},{deep:!0}),watchEffect(()=>{r.group&&o.value&&(o.value.group=r.group)});const L=usePublicAPI(o);return useLoading(o,d,g),useAutoresize(o,c,a),onMounted(()=>{R()}),onBeforeUnmount(()=>{wcRegistered&&a.value?a.value.__dispose=O:O()}),n({setOption:P,root:a,chart:o,...L}),(()=>h(TAG_NAME,{...x.value,...S,ref:a,class:["echarts",x.value.class]},E()))}}),src_default=ECharts_default;function createDom(r,t,n){var i=platformApi.createCanvas(),a=t.getWidth(),o=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",r)),i.width=a*n,i.height=o*n,i}var Layer=(function(r){__extends(t,r);function t(n,i,a){var o=r.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;a=a||devicePixelRatio,typeof n=="string"?s=createDom(n,i,a):isObject$2(n)&&(s=n,n=s.id),o.id=n,o.dom=s;var l=s.style;return l&&(disableUserSelect(s),s.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),o.painter=i,o.dpr=a,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,i,a,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],l=this.maxRepaintRectCount,u=!1,c=new BoundingRect(0,0,0,0);function f(b){if(!(!b.isFinite()||b.isZero()))if(s.length===0){var E=new BoundingRect(0,0,0,0);E.copy(b),s.push(E)}else{for(var M=!1,D=1/0,w=0,I=0;I<s.length;++I){var R=s[I];if(R.intersect(b)){var P=new BoundingRect(0,0,0,0);P.copy(R),P.union(b),s[I]=P,M=!0;break}else if(u){c.copy(b),c.union(R);var O=b.width*b.height,L=R.width*R.height,$=c.width*c.height,N=$-O-L;N<D&&(D=N,w=I)}}if(u&&(s[w].union(b),M=!0),!M){var E=new BoundingRect(0,0,0,0);E.copy(b),s.push(E)}u||(u=s.length>=l)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var g=n[d];if(g){var v=g.shouldBePainted(a,o,!0,!0),y=g.__isRendered&&(g.__dirty&REDRAW_BIT||!v)?g.getPrevPaintRect():null;y&&f(y);var _=v&&(g.__dirty&REDRAW_BIT||!g.__isRendered)?g.getPaintRect():null;_&&f(_)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var g=i[d],v=g&&g.shouldBePainted(a,o,!0,!0);if(g&&(!v||!g.__zr)&&g.__isRendered){var y=g.getPrevPaintRect();y&&f(y)}}var x;do{x=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var S=d+1;S<s.length;)s[d].intersect(s[S])?(x=!0,s[d].union(s[S]),s.splice(S,1)):S++;d++}}while(x);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,i){var a=this.dpr,o=this.dom,s=o.style,l=this.domBack;s&&(s.width=n+"px",s.height=i+"px"),o.width=n*a,o.height=i*a,l&&(l.width=n*a,l.height=i*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(n,i,a){var o=this.dom,s=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var c=this.motionBlur&&!n,f=this.lastFrameAlpha,d=this.dpr,g=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/d,u/d));var v=this.domBack;function y(_,x,S,b){if(s.clearRect(_,x,S,b),i&&i!=="transparent"){var E=void 0;if(isGradientObject(i)){var M=i.global||i.__width===S&&i.__height===b;E=M&&i.__canvasGradient||getCanvasGradient(s,i,{x:0,y:0,width:S,height:b}),i.__canvasGradient=E,i.__width=S,i.__height=b}else isImagePatternObject(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,E=createCanvasPattern(s,i,{dirty:function(){g.setUnpainted(),g.painter.refresh()}}));s.save(),s.fillStyle=E||i,s.fillRect(_,x,S,b),s.restore()}c&&(s.save(),s.globalAlpha=f,s.drawImage(v,_,x,S,b),s.restore())}!a||c?y(0,0,l,u):a.length&&each$4(a,function(_){y(_.x*d,_.y*d,_.width*d,_.height*d)})},t})(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var CanvasPainter=(function(){function r(t,n,i,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=i=extend({},i||{}),this.dpr=i.devicePixelRatio||devicePixelRatio,this._singleCanvas=o,this.root=t;var s=t.style;s&&(disableUserSelect(t),t.innerHTML=""),this.storage=n;var l=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(o){var f=t,d=f.width,g=f.height;i.width!=null&&(d=i.width),i.height!=null&&(g=i.height),this.dpr=i.devicePixelRatio||1,f.width=d*this.dpr,f.height=g*this.dpr,this._width=d,this._height=g;var v=new Layer(f,this,this.dpr);v.__builtin__=!0,v.initContext(),u[CANVAS_ZLEVEL]=v,v.zlevel=CANVAS_ZLEVEL,l.push(CANVAS_ZLEVEL),this._domRoot=t}else{this._width=getSize(t,0,i),this._height=getSize(t,1,i);var c=this._domRoot=createRoot(this._width,this._height);t.appendChild(c)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),i=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,i,t,this._redrawId);for(var o=0;o<a.length;o++){var s=a[o],l=this._layers[s];if(!l.__builtin__&&l.refresh){var u=o===0?this._backgroundColor:null;l.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var n=t.length,i=this._hoverlayer;if(i&&i.clear(),!!n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<n;s++){var l=t[s];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),o||(o=i.ctx,o.save()),brush(o,l,a,s===n-1))}o&&o.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(t,n){brushSingle(t,n)},r.prototype._paintList=function(t,n,i,a){if(this._redrawId===a){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,n,i),s=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(t),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var u=this;requestAnimationFrame(function(){u._paintList(t,n,i,a)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,n,i),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,i)})},r.prototype._doPaintList=function(t,n,i){for(var a=this,o=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l],c=this._layers[u];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var f=!0,d=!1,g=function(_){var x=o[_],S=x.ctx,b=s&&x.createRepaintRects(t,n,v._width,v._height),E=i?x.__startIndex:x.__drawIndex,M=!i&&x.incremental&&Date.now,D=M&&Date.now(),w=x.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(x.__startIndex===x.__endIndex)x.clear(!1,w,b);else if(E===x.__startIndex){var I=t[E];(!I.incremental||!I.notClear||i)&&x.clear(!1,w,b)}E===-1&&(console.error("For some unknown reason. drawIndex is -1"),E=x.__startIndex);var R,P=function(N){var F={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(R=E;R<x.__endIndex;R++){var Y=t[R];if(Y.__inHover&&(d=!0),a._doPaintEl(Y,x,s,N,F,R===x.__endIndex-1),M){var G=Date.now()-D;if(G>15)break}}F.prevElClipPaths&&S.restore()};if(b)if(b.length===0)R=x.__endIndex;else for(var O=v.dpr,L=0;L<b.length;++L){var $=b[L];S.save(),S.beginPath(),S.rect($.x*O,$.y*O,$.width*O,$.height*O),S.clip(),P($),S.restore()}else S.save(),P(),S.restore();x.__drawIndex=R,x.__drawIndex<x.__endIndex&&(f=!1)},v=this,y=0;y<o.length;y++)g(y);return env.wxa&&each$4(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),{finished:f,needsRefreshHover:d}},r.prototype._doPaintEl=function(t,n,i,a,o,s){var l=n.ctx;if(i){var u=t.getPaintRect();(!a||u&&u.intersect(a))&&(brush(l,t,o,s),t.setPrevPaintRect(u))}else brush(l,t,o,s)},r.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=CANVAS_ZLEVEL);var i=this._layers[t];return i||(i=new Layer("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?merge(i,this._layerConfig[t],!0):this._layerConfig[t-EL_AFTER_INCREMENTAL_INC]&&merge(i,this._layerConfig[t-EL_AFTER_INCREMENTAL_INC],!0),n&&(i.virtual=n),this.insertLayer(t,i),i.initContext()),i},r.prototype.insertLayer=function(t,n){var i=this._layers,a=this._zlevelList,o=a.length,s=this._domRoot,l=null,u=-1;if(!i[t]&&isLayerValid(n)){if(o>0&&t>a[0]){for(u=0;u<o-1&&!(a[u]<t&&a[u+1]>t);u++);l=i[a[u]]}if(a.splice(u+1,0,t),i[t]=n,!n.virtual)if(l){var c=l.dom;c.nextSibling?s.insertBefore(n.dom,c.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.painter||(n.painter=this)}},r.prototype.eachLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a];t.call(n,this._layers[o],o)}},r.prototype.eachBuiltinLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a],s=this._layers[o];s.__builtin__&&t.call(n,s,o)}},r.prototype.eachOtherLayer=function(t,n){for(var i=this._zlevelList,a=0;a<i.length;a++){var o=i[a],s=this._layers[o];s.__builtin__||t.call(n,s,o)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,g){d.__dirty=d.__used=!1});function n(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var i=1;i<t.length;i++){var a=t[i];if(a.zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,l,u;for(u=0;u<t.length;u++){var a=t[u],c=a.zlevel,f=void 0;l!==c&&(l=c,s=0),a.incremental?(f=this.getLayer(c+INCREMENTAL_INC,this._needsManuallyCompositing),f.incremental=!0,s=1):f=this.getLayer(c+(s>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),f.__builtin__||logError("ZLevel "+c+" has been used by unkown layer "+f.id),f!==o&&(f.__used=!0,f.__startIndex!==u&&(f.__dirty=!0),f.__startIndex=u,f.incremental?f.__drawIndex=-1:f.__drawIndex=u,n(u),o=f),a.__dirty&REDRAW_BIT&&!a.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=u))}n(u),this.eachBuiltinLayer(function(d,g){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,each$4(this._layers,function(n){n.setUnpainted()})},r.prototype.configLayer=function(t,n){if(n){var i=this._layerConfig;i[t]?merge(i[t],n,!0):i[t]=n;for(var a=0;a<this._zlevelList.length;a++){var o=this._zlevelList[a];if(o===t||o===t+EL_AFTER_INCREMENTAL_INC){var s=this._layers[o];merge(s,i[t],!0)}}}},r.prototype.delLayer=function(t){var n=this._layers,i=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],i.splice(indexOf(i,t),1))},r.prototype.resize=function(t,n){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var a=this._opts,o=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=getSize(o,0,a),n=getSize(o,1,a),i.style.display="",this._width!==t||n!==this._height){i.style.width=t+"px",i.style.height=n+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(t,n)}return this},r.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var i=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,o=n.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,a,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,c=l.length;u<c;u++){var f=l[u];brush(i,f,s,u===c-1)}return n.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function install$9(r){r.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var i=new Group$2,a=createSymbol("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);i.add(a),a.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l=o==="none"?"circle":o,u=n.itemHeight*.8,c=createSymbol(l,(n.itemWidth-u)/2,(n.itemHeight-u)/2,u,u,n.itemStyle.fill);i.add(c),c.setStyle(n.itemStyle);var f=n.iconRotate==="inherit"?s:n.iconRotate||0;return c.rotation=f*Math.PI/180,c.setOrigin([n.itemWidth/2,n.itemHeight/2]),l.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill=tokens.color.neutral00,c.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(SeriesModel);function getDefaultLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel"),i=n.length;if(i===1){var a=retrieveRawValue(r,t,n[0]);return a!=null?a+"":null}else if(i){for(var o=[],s=0;s<n.length;s++)o.push(retrieveRawValue(r,t,n[s]));return o.join(" ")}}function getDefaultInterpolatedLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel");if(!isArray(t))return t+"";for(var i=[],a=0;a<n.length;a++){var o=r.getDimensionIndex(n[a]);o>=0&&i.push(t[o])}return i.join(" ")}var Symbol$1=(function(r){__extends(t,r);function t(n,i,a,o){var s=r.call(this)||this;return s.updateData(n,i,a,o),s}return t.prototype._createSymbol=function(n,i,a,o,s,l){this.removeAll();var u=createSymbol(n,-1,-1,2,2,null,l);u.attr({z2:retrieve2(s,100),culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),u.drift=driftSymbol,this._symbolType=n,this.add(u)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){enterEmphasis(this.childAt(0))},t.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},t.prototype.setZ=function(n,i){var a=this.childAt(0);a.zlevel=n,a.z=i},t.prototype.setDraggable=function(n,i){var a=this.childAt(0);a.draggable=n,a.cursor=!i&&n?"move":a.cursor},t.prototype.updateData=function(n,i,a,o){this.silent=!1;var s=n.getItemVisual(i,"symbol")||"circle",l=n.hostModel,u=t.getSymbolSize(n,i),c=t.getSymbolZ2(n,i),f=s!==this._symbolType,d=o&&o.disableAnimation;if(f){var g=n.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,n,i,u,c,g)}else{var v=this.childAt(0);v.silent=!1;var y={scaleX:u[0]/2,scaleY:u[1]/2};d?v.attr(y):updateProps$1(v,y,l,i),saveOldStyle(v)}if(this._updateCommon(n,i,u,a,o),f){var v=this.childAt(0);if(!d){var y={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,initProps(v,y,l,i)}}d&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,i,a,o,s){var l=this.childAt(0),u=n.hostModel,c,f,d,g,v,y,_,x,S;if(o&&(c=o.emphasisItemStyle,f=o.blurItemStyle,d=o.selectItemStyle,g=o.focus,v=o.blurScope,_=o.labelStatesModels,x=o.hoverScale,S=o.cursorStyle,y=o.emphasisDisabled),!o||n.hasItemOption){var b=o&&o.itemModel?o.itemModel:n.getItemModel(i),E=b.getModel("emphasis");c=E.getModel("itemStyle").getItemStyle(),d=b.getModel(["select","itemStyle"]).getItemStyle(),f=b.getModel(["blur","itemStyle"]).getItemStyle(),g=E.get("focus"),v=E.get("blurScope"),y=E.get("disabled"),_=getLabelStatesModels(b),x=E.getShallow("scale"),S=b.getShallow("cursor")}var M=n.getItemVisual(i,"symbolRotate");l.attr("rotation",(M||0)*Math.PI/180||0);var D=normalizeSymbolOffset(n.getItemVisual(i,"symbolOffset"),a);D&&(l.x=D[0],l.y=D[1]),S&&l.attr("cursor",S);var w=n.getItemVisual(i,"style"),I=w.fill;if(l instanceof ZRImage){var R=l.style;l.useStyle(extend({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},w))}else l.__isEmptyBrush?l.useStyle(extend({},w)):l.useStyle(w),l.style.decal=null,l.setColor(I,s&&s.symbolInnerColor),l.style.strokeNoScale=!0;var P=n.getItemVisual(i,"liftZ"),O=this._z2;P!=null?O==null&&(this._z2=l.z2,l.z2+=P):O!=null&&(l.z2=O,this._z2=null);var L=s&&s.useNameLabel;setLabelStyle(l,_,{labelFetcher:u,labelDataIndex:i,defaultText:$,inheritColor:I,defaultOpacity:w.opacity});function $(Y){return L?n.getName(Y):getDefaultLabel(n,Y)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var N=l.ensureState("emphasis");N.style=c,l.ensureState("select").style=d,l.ensureState("blur").style=f;var F=x==null||x===!0?Math.max(1.1,3/this._sizeY):isFinite(x)&&x>0?+x:1;N.scaleX=this._sizeX*F,N.scaleY=this._sizeY*F,this.setSymbolScale(1),toggleHoverEmphasis(this,g,v,y)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,i,a){var o=this.childAt(0),s=getECData(this).dataIndex,l=a&&a.animation;if(this.silent=o.silent=!0,a&&a.fadeLabel){var u=o.getTextContent();u&&removeElement(u,{style:{opacity:0}},i,{dataIndex:s,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();removeElement(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:n,removeOpt:l})},t.getSymbolSize=function(n,i){return normalizeSymbolSize(n.getItemVisual(i,"symbolSize"))},t.getSymbolZ2=function(n,i){return n.getItemVisual(i,"z2")},t})(Group$2);function driftSymbol(r,t){this.parent.drift(r,t)}function symbolNeedsDraw(r,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&r.getItemVisual(n,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject$2(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope(r){var t=r.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:getLabelStatesModels(t),cursorStyle:t.get("cursor")}}var SymbolDraw=(function(){function r(t){this.group=new Group$2,this._SymbolCtor=t||Symbol$1}return r.prototype.updateData=function(t,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var i=this.group,a=t.hostModel,o=this._data,s=this._SymbolCtor,l=n.disableAnimation,u=makeSeriesScope(t),c={disableAnimation:l},f=n.getSymbolPoint||function(d){return t.getItemLayout(d)};o||i.removeAll(),t.diff(o).add(function(d){var g=f(d);if(symbolNeedsDraw(t,g,d,n)){var v=new s(t,d,u,c);v.setPosition(g),t.setItemGraphicEl(d,v),i.add(v)}}).update(function(d,g){var v=o.getItemGraphicEl(g),y=f(d);if(!symbolNeedsDraw(t,y,d,n)){i.remove(v);return}var _=t.getItemVisual(d,"symbol")||"circle",x=v&&v.getSymbolType&&v.getSymbolType();if(!v||x&&x!==_)i.remove(v),v=new s(t,d,u,c),v.setPosition(y);else{v.updateData(t,d,u,c);var S={x:y[0],y:y[1]};l?v.attr(S):updateProps$1(v,S,a)}i.add(v),t.setItemGraphicEl(d,v)}).remove(function(d){var g=o.getItemGraphicEl(d);g&&g.fadeOut(function(){i.remove(g)},a)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(i,a){var o=t._getSymbolPoint(a);i.setPosition(o),i.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,n,i){this._progressiveEls=[],i=normalizeUpdateOpt(i);function a(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(symbolNeedsDraw(n,s,o,i)){var l=new this._SymbolCtor(n,o,this._seriesScope);l.traverse(a),l.setPosition(s),this.group.add(l),n.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},r.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var n=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(a){a.fadeOut(function(){n.remove(a)},i.hostModel)}):n.removeAll()},r})();function prepareDataCoordInfo(r,t,n){var i=r.getBaseAxis(),a=r.getOtherAxis(i),o=getValueStart(a,n),s=i.dim,l=a.dim,u=t.mapDimension(l),c=t.mapDimension(s),f=l==="x"||l==="radius"?1:0,d=map$1(r.dimensions,function(y){return t.mapDimension(y)}),g=!1,v=t.getCalculationInfo("stackResultDimension");return isDimensionStacked(t,d[0])&&(g=!0,d[0]=v),isDimensionStacked(t,d[1])&&(g=!0,d[1]=v),{dataDimsForPoint:d,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!g,valueDim:u,baseDim:c,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,t){var n=0,i=r.scale.getExtent();return t==="start"?n=i[0]:t==="end"?n=i[1]:isNumber(t)&&!isNaN(t)?n=t:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function getStackedOnPoint(r,t,n,i){var a=NaN;r.stacked&&(a=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(a)&&(a=r.valueStart);var o=r.baseDataOffset,s=[];return s[o]=n.get(r.baseDim,i),s[1-o]=a,t.dataToPoint(s)}function diffData(r,t){var n=[];return t.diff(r).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,a){n.push({cmd:"=",idx:a,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}function lineAnimationDiff(r,t,n,i,a,o,s,l){for(var u=diffData(r,t),c=[],f=[],d=[],g=[],v=[],y=[],_=[],x=prepareDataCoordInfo(a,t,s),S=r.getLayout("points")||[],b=t.getLayout("points")||[],E=0;E<u.length;E++){var M=u[E],D=!0,w=void 0,I=void 0;switch(M.cmd){case"=":w=M.idx*2,I=M.idx1*2;var R=S[w],P=S[w+1],O=b[I],L=b[I+1];(isNaN(R)||isNaN(P))&&(R=O,P=L),c.push(R,P),f.push(O,L),d.push(n[w],n[w+1]),g.push(i[I],i[I+1]),_.push(t.getRawIndex(M.idx1));break;case"+":var $=M.idx,N=x.dataDimsForPoint,F=a.dataToPoint([t.get(N[0],$),t.get(N[1],$)]);I=$*2,c.push(F[0],F[1]),f.push(b[I],b[I+1]);var Y=getStackedOnPoint(x,a,t,$);d.push(Y[0],Y[1]),g.push(i[I],i[I+1]),_.push(t.getRawIndex($));break;case"-":D=!1}D&&(v.push(M),y.push(y.length))}y.sort(function(de,le){return _[de]-_[le]});for(var G=c.length,W=createFloat32Array(G),U=createFloat32Array(G),j=createFloat32Array(G),ee=createFloat32Array(G),re=[],E=0;E<y.length;E++){var q=y[E],Q=E*2,fe=q*2;W[Q]=c[fe],W[Q+1]=c[fe+1],U[Q]=f[fe],U[Q+1]=f[fe+1],j[Q]=d[fe],j[Q+1]=d[fe+1],ee[Q]=g[fe],ee[Q+1]=g[fe+1],re[E]=v[q]}return{current:W,next:U,stackedOnCurrent:j,stackedOnNext:ee,status:re}}var mathMin$1=Math.min,mathMax$1=Math.max;function isPointNull$1(r,t){return isNaN(r)||isNaN(t)}function drawSegment(r,t,n,i,a,o,s,l,u){for(var c,f,d,g,v,y,_=n,x=0;x<i;x++){var S=t[_*2],b=t[_*2+1];if(_>=a||_<0)break;if(isPointNull$1(S,b)){if(u){_+=o;continue}break}if(_===n)r[o>0?"moveTo":"lineTo"](S,b),d=S,g=b;else{var E=S-c,M=b-f;if(E*E+M*M<.5){_+=o;continue}if(s>0){for(var D=_+o,w=t[D*2],I=t[D*2+1];w===S&&I===b&&x<i;)x++,D+=o,_+=o,w=t[D*2],I=t[D*2+1],S=t[_*2],b=t[_*2+1],E=S-c,M=b-f;var R=x+1;if(u)for(;isPointNull$1(w,I)&&R<i;)R++,D+=o,w=t[D*2],I=t[D*2+1];var P=.5,O=0,L=0,$=void 0,N=void 0;if(R>=i||isPointNull$1(w,I))v=S,y=b;else{O=w-c,L=I-f;var F=S-c,Y=w-S,G=b-f,W=I-b,U=void 0,j=void 0;if(l==="x"){U=Math.abs(F),j=Math.abs(Y);var ee=O>0?1:-1;v=S-ee*U*s,y=b,$=S+ee*j*s,N=b}else if(l==="y"){U=Math.abs(G),j=Math.abs(W);var re=L>0?1:-1;v=S,y=b-re*U*s,$=S,N=b+re*j*s}else U=Math.sqrt(F*F+G*G),j=Math.sqrt(Y*Y+W*W),P=j/(j+U),v=S-O*s*(1-P),y=b-L*s*(1-P),$=S+O*s*P,N=b+L*s*P,$=mathMin$1($,mathMax$1(w,S)),N=mathMin$1(N,mathMax$1(I,b)),$=mathMax$1($,mathMin$1(w,S)),N=mathMax$1(N,mathMin$1(I,b)),O=$-S,L=N-b,v=S-O*U/j,y=b-L*U/j,v=mathMin$1(v,mathMax$1(c,S)),y=mathMin$1(y,mathMax$1(f,b)),v=mathMax$1(v,mathMin$1(c,S)),y=mathMax$1(y,mathMin$1(f,b)),O=S-v,L=b-y,$=S+O*j/U,N=b+L*j/U}r.bezierCurveTo(d,g,v,y,S,b),d=$,g=N}else r.lineTo(S,b)}c=S,f=b,_+=o}return x}var ECPolylineShape=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),ECPolyline=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="ec-polyline",i}return t.prototype.getDefaultStyle=function(){return{stroke:tokens.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new ECPolylineShape},t.prototype.buildPath=function(n,i){var a=i.points,o=0,s=a.length/2;if(i.connectNulls){for(;s>0&&isPointNull$1(a[s*2-2],a[s*2-1]);s--);for(;o<s&&isPointNull$1(a[o*2],a[o*2+1]);o++);}for(;o<s;)o+=drawSegment(n,a,o,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(n,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,o=a.data,s=PathProxy.CMD,l,u,c=i==="x",f=[],d=0;d<o.length;){var g=o[d++],v=void 0,y=void 0,_=void 0,x=void 0,S=void 0,b=void 0,E=void 0;switch(g){case s.M:l=o[d++],u=o[d++];break;case s.L:if(v=o[d++],y=o[d++],E=c?(n-l)/(v-l):(n-u)/(y-u),E<=1&&E>=0){var M=c?(y-u)*E+u:(v-l)*E+l;return c?[n,M]:[M,n]}l=v,u=y;break;case s.C:v=o[d++],y=o[d++],_=o[d++],x=o[d++],S=o[d++],b=o[d++];var D=c?cubicRootAt(l,v,_,S,n,f):cubicRootAt(u,y,x,b,n,f);if(D>0)for(var w=0;w<D;w++){var I=f[w];if(I<=1&&I>=0){var M=c?cubicAt(u,y,x,b,I):cubicAt(l,v,_,S,I);return c?[n,M]:[M,n]}}l=S,u=b;break}}},t})(Path),ECPolygonShape=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(ECPolylineShape),ECPolygon=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="ec-polygon",i}return t.prototype.getDefaultShape=function(){return new ECPolygonShape},t.prototype.buildPath=function(n,i){var a=i.points,o=i.stackedOnPoints,s=0,l=a.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&isPointNull$1(a[l*2-2],a[l*2-1]);l--);for(;s<l&&isPointNull$1(a[s*2],a[s*2+1]);s++);}for(;s<l;){var c=drawSegment(n,a,s,l,l,1,i.smooth,u,i.connectNulls);drawSegment(n,o,s+c-1,c,l,-1,i.stackedOnSmooth,u,i.connectNulls),s+=c+1,n.closePath()}},t})(Path);function createGridClipPath(r,t,n,i,a){var o=r.getArea(),s=o.x,l=o.y,u=o.width,c=o.height,f=n.get(["lineStyle","width"])||0;s-=f/2,l-=f/2,u+=f,c+=f,u=Math.ceil(u),s!==Math.floor(s)&&(s=Math.floor(s),u++);var d=new Rect({shape:{x:s,y:l,width:u,height:c}});if(t){var g=r.getBaseAxis(),v=g.isHorizontal(),y=g.inverse;v?(y&&(d.shape.x+=u),d.shape.width=0):(y||(d.shape.y+=c),d.shape.height=0);var _=isFunction(a)?function(x){a(x,d)}:null;initProps(d,{shape:{width:u,height:c,x:s,y:l}},n,null,i,_)}return d}function createPolarClipPath(r,t,n){var i=r.getArea(),a=round$1(i.r0,1),o=round$1(i.r,1),s=new Sector({shape:{cx:round$1(r.cx,1),cy:round$1(r.cy,1),r0:a,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var l=r.getBaseAxis().dim==="angle";l?s.shape.endAngle=i.startAngle:s.shape.r=a,initProps(s,{shape:{endAngle:i.endAngle,r:o}},n)}return s}function createClipPath(r,t,n,i,a){if(r){if(r.type==="polar")return createPolarClipPath(r,t,n);if(r.type==="cartesian2d")return createGridClipPath(r,t,n,i,a)}else return null;return null}function isCoordinateSystemType(r,t){return r.type===t}function isPointsSame(r,t){if(r.length===t.length){for(var n=0;n<r.length;n++)if(r[n]!==t[n])return;return!0}}function bboxFromPoints(r){for(var t=1/0,n=1/0,i=-1/0,a=-1/0,o=0;o<r.length;){var s=r[o++],l=r[o++];isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i)),isNaN(l)||(n=Math.min(l,n),a=Math.max(l,a))}return[[t,n],[i,a]]}function getBoundingDiff(r,t){var n=bboxFromPoints(r),i=n[0],a=n[1],o=bboxFromPoints(t),s=o[0],l=o[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(a[0]-l[0]),Math.abs(a[1]-l[1]))}function getSmooth(r){return isNumber(r)?r:r?.5:0}function getStackedOnPoints(r,t,n){if(!n.valueDim)return[];for(var i=t.count(),a=createFloat32Array(i*2),o=0;o<i;o++){var s=getStackedOnPoint(n,r,t,o);a[o*2]=s[0],a[o*2+1]=s[1]}return a}function turnPointsIntoStep(r,t,n,i,a){var o=n.getBaseAxis(),s=o.dim==="x"||o.dim==="radius"?0:1,l=[],u=0,c=[],f=[],d=[],g=[];if(a){for(u=0;u<r.length;u+=2){var v=t||r;!isNaN(v[u])&&!isNaN(v[u+1])&&g.push(r[u],r[u+1])}r=g}for(u=0;u<r.length-2;u+=2)switch(d[0]=r[u+2],d[1]=r[u+3],f[0]=r[u],f[1]=r[u+1],l.push(f[0],f[1]),i){case"end":c[s]=d[s],c[1-s]=f[1-s],l.push(c[0],c[1]);break;case"middle":var y=(f[s]+d[s])/2,_=[];c[s]=_[s]=y,c[1-s]=f[1-s],_[1-s]=d[1-s],l.push(c[0],c[1]),l.push(_[0],_[1]);break;default:c[s]=f[s],c[1-s]=d[1-s],l.push(c[0],c[1])}return l.push(r[u++],r[u++]),l}function clipColorStops(r,t){var n=[],i=r.length,a,o;function s(f,d,g){var v=f.coord,y=(g-v)/(d.coord-v),_=lerp(y,[f.color,d.color]);return{coord:g,color:_}}for(var l=0;l<i;l++){var u=r[l],c=u.coord;if(c<0)a=u;else if(c>t){o?n.push(s(o,u,t)):a&&n.push(s(a,u,0),s(a,u,t));break}else a&&(n.push(s(a,u,0)),a=null),n.push(u),o=u}return n}function getVisualGradient(r,t,n){var i=r.getVisual("visualMeta");if(!(!i||!i.length||!r.count())&&t.type==="cartesian2d"){for(var a,o,s=i.length-1;s>=0;s--){var l=r.getDimensionInfo(i[s].dimension);if(a=l&&l.coordDim,a==="x"||a==="y"){o=i[s];break}}if(o){var u=t.getAxis(a),c=map$1(o.stops,function(E){return{coord:u.toGlobalCoord(u.dataToCoord(E.value)),color:E.color}}),f=c.length,d=o.outerColors.slice();f&&c[0].coord>c[f-1].coord&&(c.reverse(),d.reverse());var g=clipColorStops(c,a==="x"?n.getWidth():n.getHeight()),v=g.length;if(!v&&f)return c[0].coord<0?d[1]?d[1]:c[f-1].color:d[0]?d[0]:c[0].color;var y=10,_=g[0].coord-y,x=g[v-1].coord+y,S=x-_;if(S<.001)return"transparent";each$4(g,function(E){E.offset=(E.coord-_)/S}),g.push({offset:v?g[v-1].offset:.5,color:d[1]||"transparent"}),g.unshift({offset:v?g[0].offset:.5,color:d[0]||"transparent"});var b=new LinearGradient(0,0,0,0,g,!0);return b[a]=_,b[a+"2"]=x,b}}}function getIsIgnoreFunc(r,t,n){var i=r.get("showAllSymbol"),a=i==="auto";if(!(i&&!a)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(a&&canShowAllSymbolForCategory(o,t))){var s=t.mapDimension(o.dim),l={};return each$4(o.getViewLabels(),function(u){var c=o.scale.getRawOrdinalNumber(u.tickValue);l[c]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}function canShowAllSymbolForCategory(r,t){var n=r.getExtent(),i=Math.abs(n[1]-n[0])/r.scale.count();isNaN(i)&&(i=0);for(var a=t.count(),o=Math.max(1,Math.round(a/5)),s=0;s<a;s+=o)if(Symbol$1.getSymbolSize(t,s)[r.isHorizontal()?1:0]*1.5>i)return!1;return!0}function isPointNull(r,t){return isNaN(r)||isNaN(t)}function getLastIndexNotNull(r){for(var t=r.length/2;t>0&&isPointNull(r[t*2-2],r[t*2-1]);t--);return t-1}function getPointAtIndex(r,t){return[r[t*2],r[t*2+1]]}function getIndexRange(r,t,n){for(var i=r.length/2,a=n==="x"?0:1,o,s,l=0,u=-1,c=0;c<i;c++)if(s=r[c*2+a],!(isNaN(s)||isNaN(r[c*2+1-a]))){if(c===0){o=s;continue}if(o<=t&&s>=t||o>=t&&s<=t){u=c;break}l=c,o=s}return{range:[l,u],t:(t-o)/(s-o)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<SPECIAL_STATES.length;t++)if(r.get([SPECIAL_STATES[t],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,t,n,i){if(isCoordinateSystemType(t,"cartesian2d")){var a=i.getModel("endLabel"),o=a.get("valueAnimation"),s=i.getData(),l={lastFrameIndex:0},u=anyStateShowEndLabel(i)?function(v,y){r._endLabelOnDuring(v,y,s,l,o,a,t)}:null,c=t.getBaseAxis().isHorizontal(),f=createGridClipPath(t,n,i,function(){var v=r._endLabel;v&&n&&l.originalX!=null&&v.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var d=f.shape,g=Math.max(d.width,d.height);c?(d.y-=g,d.height+=g*2):(d.x-=g,d.width+=g*2)}return u&&u(1,f),f}else return createPolarClipPath(t,n,i)}function getEndLabelStateSpecified(r,t){var n=t.getBaseAxis(),i=n.isHorizontal(),a=n.inverse,o=i?a?"right":"left":"center",s=i?"middle":a?"top":"bottom";return{normal:{align:r.get("align")||o,verticalAlign:r.get("verticalAlign")||s}}}var LineView=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var n=new Group$2,i=new SymbolDraw;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=n,this._changePolyState=bind$1(this._changePolyState,this)},t.prototype.render=function(n,i,a){var o=n.coordinateSystem,s=this.group,l=n.getData(),u=n.getModel("lineStyle"),c=n.getModel("areaStyle"),f=l.getLayout("points")||[],d=o.type==="polar",g=this._coordSys,v=this._symbolDraw,y=this._polyline,_=this._polygon,x=this._lineGroup,S=!i.ssr&&n.get("animation"),b=!c.isEmpty(),E=c.get("origin"),M=prepareDataCoordInfo(o,l,E),D=b&&getStackedOnPoints(o,l,M),w=n.get("showSymbol"),I=n.get("connectNulls"),R=w&&!d&&getIsIgnoreFunc(n,l,o),P=this._data;P&&P.eachItemGraphicEl(function(de,le){de.__temp&&(s.remove(de),P.setItemGraphicEl(le,null))}),w||v.remove(),s.add(x);var O=d?!1:n.get("step"),L;o&&o.getArea&&n.get("clip",!0)&&(L=o.getArea(),L.width!=null?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var $=getVisualGradient(l,o,a)||l.getVisual("style")[l.getVisual("drawType")];if(!(y&&g.type===o.type&&O===this._step))w&&v.updateData(l,{isIgnore:R,clipShape:L,disableAnimation:!0,getSymbolPoint:function(de){return[f[de*2],f[de*2+1]]}}),S&&this._initSymbolLabelAnimation(l,o,L),O&&(D&&(D=turnPointsIntoStep(D,f,o,O,I)),f=turnPointsIntoStep(f,null,o,O,I)),y=this._newPolyline(f),b?_=this._newPolygon(f,D):_&&(x.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,convertToColorString($)),x.setClipPath(createLineClipPath(this,o,!0,n));else{b&&!_?_=this._newPolygon(f,D):_&&!b&&(x.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,convertToColorString($));var N=x.getClipPath();if(N){var F=createLineClipPath(this,o,!1,n);initProps(N,{shape:F.shape},n)}else x.setClipPath(createLineClipPath(this,o,!0,n));w&&v.updateData(l,{isIgnore:R,clipShape:L,disableAnimation:!0,getSymbolPoint:function(de){return[f[de*2],f[de*2+1]]}}),(!isPointsSame(this._stackedOnPoints,D)||!isPointsSame(this._points,f))&&(S?this._doUpdateAnimation(l,D,o,a,O,E,I):(O&&(D&&(D=turnPointsIntoStep(D,f,o,O,I)),f=turnPointsIntoStep(f,null,o,O,I)),y.setShape({points:f}),_&&_.setShape({points:f,stackedOnPoints:D})))}var Y=n.getModel("emphasis"),G=Y.get("focus"),W=Y.get("blurScope"),U=Y.get("disabled");if(y.useStyle(defaults(u.getLineStyle(),{fill:"none",stroke:$,lineJoin:"bevel"})),setStatesStylesFromModel(y,n,"lineStyle"),y.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var j=y.getState("emphasis").style;j.lineWidth=+y.style.lineWidth+1}getECData(y).seriesIndex=n.seriesIndex,toggleHoverEmphasis(y,G,W,U);var ee=getSmooth(n.get("smooth")),re=n.get("smoothMonotone");if(y.setShape({smooth:ee,smoothMonotone:re,connectNulls:I}),_){var q=l.getCalculationInfo("stackedOnSeries"),Q=0;_.useStyle(defaults(c.getAreaStyle(),{fill:$,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),q&&(Q=getSmooth(q.get("smooth"))),_.setShape({smooth:ee,stackedOnSmooth:Q,smoothMonotone:re,connectNulls:I}),setStatesStylesFromModel(_,n,"areaStyle"),getECData(_).seriesIndex=n.seriesIndex,toggleHoverEmphasis(_,G,W,U)}var fe=this._changePolyState;l.eachItemGraphicEl(function(de){de&&(de.onHoverStateChange=fe)}),this._polyline.onHoverStateChange=fe,this._data=l,this._coordSys=o,this._stackedOnPoints=D,this._points=f,this._step=O,this._valueOrigin=E,n.get("triggerLineEvent")&&(this.packEventData(n,y),_&&this.packEventData(n,_))},t.prototype.packEventData=function(n,i){getECData(i).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,i,a,o){var s=n.getData(),l=queryDataIndex(s,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=s.getLayout("points"),c=s.getItemGraphicEl(l);if(!c){var f=u[l*2],d=u[l*2+1];if(isNaN(f)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,d))return;var g=n.get("zlevel")||0,v=n.get("z")||0;c=new Symbol$1(s,l),c.x=f,c.y=d,c.setZ(g,v);var y=c.getSymbolPath().getTextContent();y&&(y.zlevel=g,y.z=v,y.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(l,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else ChartView.prototype.highlight.call(this,n,i,a,o)},t.prototype.downplay=function(n,i,a,o){var s=n.getData(),l=queryDataIndex(s,o);if(this._changePolyState("normal"),l!=null&&l>=0){var u=s.getItemGraphicEl(l);u&&(u.__temp?(s.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else ChartView.prototype.downplay.call(this,n,i,a,o)},t.prototype._changePolyState=function(n){var i=this._polygon;setStatesFlag(this._polyline,n),i&&setStatesFlag(i,n)},t.prototype._newPolyline=function(n){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new ECPolyline({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(n,i){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new ECPolygon({shape:{points:n,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(n,i,a){var o,s,l=i.getBaseAxis(),u=l.inverse;i.type==="cartesian2d"?(o=l.isHorizontal(),s=!1):i.type==="polar"&&(o=l.dim==="angle",s=!0);var c=n.hostModel,f=c.get("animationDuration");isFunction(f)&&(f=f(null));var d=c.get("animationDelay")||0,g=isFunction(d)?d(null):d;n.eachItemGraphicEl(function(v,y){var _=v;if(_){var x=[v.x,v.y],S=void 0,b=void 0,E=void 0;if(a)if(s){var M=a,D=i.pointToCoord(x);o?(S=M.startAngle,b=M.endAngle,E=-D[1]/180*Math.PI):(S=M.r0,b=M.r,E=D[0])}else{var w=a;o?(S=w.x,b=w.x+w.width,E=v.x):(S=w.y+w.height,b=w.y,E=v.y)}var I=b===S?0:(E-S)/(b-S);u&&(I=1-I);var R=isFunction(d)?d(y):f*I+g,P=_.getSymbolPath(),O=P.getTextContent();_.attr({scaleX:0,scaleY:0}),_.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:R}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:R}),P.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,i,a){var o=n.getModel("endLabel");if(anyStateShowEndLabel(n)){var s=n.getData(),l=this._polyline,u=s.getLayout("points");if(!u){l.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new ZRText({z2:200}),c.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var f=getLastIndexNotNull(u);f>=0&&(setLabelStyle(l,getLabelStatesModels(n,"endLabel"),{inheritColor:a,labelFetcher:n,labelDataIndex:f,defaultText:function(d,g,v){return v!=null?getDefaultInterpolatedLabel(s,v):getDefaultLabel(s,d)},enableTextSetter:!0},getEndLabelStateSpecified(o,i)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,i,a,o,s,l,u){var c=this._endLabel,f=this._polyline;if(c){n<1&&o.originalX==null&&(o.originalX=c.x,o.originalY=c.y);var d=a.getLayout("points"),g=a.hostModel,v=g.get("connectNulls"),y=l.get("precision"),_=l.get("distance")||0,x=u.getBaseAxis(),S=x.isHorizontal(),b=x.inverse,E=i.shape,M=b?S?E.x:E.y+E.height:S?E.x+E.width:E.y,D=(S?_:0)*(b?-1:1),w=(S?0:-_)*(b?-1:1),I=S?"x":"y",R=getIndexRange(d,M,I),P=R.range,O=P[1]-P[0],L=void 0;if(O>=1){if(O>1&&!v){var $=getPointAtIndex(d,P[0]);c.attr({x:$[0]+D,y:$[1]+w}),s&&(L=g.getRawValue(P[0]))}else{var $=f.getPointOn(M,I);$&&c.attr({x:$[0]+D,y:$[1]+w});var N=g.getRawValue(P[0]),F=g.getRawValue(P[1]);s&&(L=interpolateRawValues(a,y,N,F,R.t))}o.lastFrameIndex=P[0]}else{var Y=n===1||o.lastFrameIndex>0?P[0]:0,$=getPointAtIndex(d,Y);s&&(L=g.getRawValue(Y)),c.attr({x:$[0]+D,y:$[1]+w})}if(s){var G=labelInner(c);typeof G.setLabelText=="function"&&G.setLabelText(L)}}},t.prototype._doUpdateAnimation=function(n,i,a,o,s,l,u){var c=this._polyline,f=this._polygon,d=n.hostModel,g=lineAnimationDiff(this._data,n,this._stackedOnPoints,i,this._coordSys,a,this._valueOrigin),v=g.current,y=g.stackedOnCurrent,_=g.next,x=g.stackedOnNext;if(s&&(y=turnPointsIntoStep(g.stackedOnCurrent,g.current,a,s,u),v=turnPointsIntoStep(g.current,null,a,s,u),x=turnPointsIntoStep(g.stackedOnNext,g.next,a,s,u),_=turnPointsIntoStep(g.next,null,a,s,u)),getBoundingDiff(v,_)>3e3||f&&getBoundingDiff(y,x)>3e3){c.stopAnimation(),c.setShape({points:_}),f&&(f.stopAnimation(),f.setShape({points:_,stackedOnPoints:x}));return}c.shape.__points=g.current,c.shape.points=v;var S={shape:{points:_}};g.current!==v&&(S.shape.__points=g.next),c.stopAnimation(),updateProps$1(c,S,d),f&&(f.setShape({points:v,stackedOnPoints:y}),f.stopAnimation(),updateProps$1(f,{shape:{stackedOnPoints:x}},d),c.shape.points!==f.shape.points&&(f.shape.points=c.shape.points));for(var b=[],E=g.status,M=0;M<E.length;M++){var D=E[M].cmd;if(D==="="){var w=n.getItemGraphicEl(E[M].idx1);w&&b.push({el:w,ptIdx:M})}}c.animators&&c.animators.length&&c.animators[0].during(function(){f&&f.dirtyShape();for(var I=c.shape.__points,R=0;R<b.length;R++){var P=b[R].el,O=b[R].ptIdx*2;P.x=I[O],P.y=I[O+1],P.markRedraw()}})},t.prototype.remove=function(n){var i=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(o,s){o.__temp&&(i.remove(o),a.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(ChartView);function pointsLayout(r,t){return{seriesType:r,plan:createRenderPlanner(),reset:function(n){var i=n.getData(),a=n.coordinateSystem;if(n.pipelineContext,!!a){var o=map$1(a.dimensions,function(d){return i.mapDimension(d)}).slice(0,2),s=o.length,l=i.getCalculationInfo("stackResultDimension");isDimensionStacked(i,o[0])&&(o[0]=l),isDimensionStacked(i,o[1])&&(o[1]=l);var u=i.getStore(),c=i.getDimensionIndex(o[0]),f=i.getDimensionIndex(o[1]);return s&&{progress:function(d,g){for(var v=d.end-d.start,y=createFloat32Array(v*s),_=[],x=[],S=d.start,b=0;S<d.end;S++){var E=void 0;if(s===1){var M=u.get(c,S);E=a.dataToPoint(M,null,x)}else _[0]=u.get(c,S),_[1]=u.get(f,S),E=a.dataToPoint(_,null,x);y[b++]=E[0],y[b++]=E[1]}g.setLayout("points",y)}}}}}}var samplers={average:function(r){for(var t=0,n=0,i=0;i<r.length;i++)isNaN(r[i])||(t+=r[i],n++);return n===0?NaN:t/n},sum:function(r){for(var t=0,n=0;n<r.length;n++)t+=r[n]||0;return t},max:function(r){for(var t=-1/0,n=0;n<r.length;n++)r[n]>t&&(t=r[n]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,n=0;n<r.length;n++)r[n]<t&&(t=r[n]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(t,n,i){var a=t.getData(),o=t.get("sampling"),s=t.coordinateSystem,l=a.count();if(l>10&&s.type==="cartesian2d"&&o){var u=s.getBaseAxis(),c=s.getOtherAxis(u),f=u.getExtent(),d=i.getDevicePixelRatio(),g=Math.abs(f[1]-f[0])*(d||1),v=Math.round(l/g);if(isFinite(v)&&v>1){o==="lttb"?t.setData(a.lttbDownSample(a.mapDimension(c.dim),1/v)):o==="minmax"&&t.setData(a.minmaxDownSample(a.mapDimension(c.dim),1/v));var y=void 0;isString(o)?y=samplers[o]:isFunction(o)&&(y=o),y&&t.setData(a.downSample(a.mapDimension(c.dim),1/v,y,indexSampler))}}}}}function install$8(r){r.registerChartView(LineView),r.registerSeriesModel(LineSeriesModel),r.registerLayout(pointsLayout("line")),r.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",i)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,i){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,i,a){var o=this.coordinateSystem;if(o&&o.clampData){var s=o.clampData(n),l=o.dataToPoint(s);if(a)each$4(o.getAxes(),function(g,v){if(g.type==="category"&&i!=null){var y=g.getTicksCoords(),_=g.getTickModel().get("alignWithLabel"),x=s[v],S=i[v]==="x1"||i[v]==="y1";if(S&&!_&&(x+=1),y.length<2)return;if(y.length===2){l[v]=g.toGlobalCoord(g.getExtent()[S?1:0]);return}for(var b=void 0,E=void 0,M=1,D=0;D<y.length;D++){var w=y[D].coord,I=D===y.length-1?y[D-1].tickValue+M:y[D].tickValue;if(I===x){E=w;break}else if(I<x)b=w;else if(b!=null&&I>x){E=(w+b)/2;break}D===1&&(M=I-y[0].tickValue)}E==null&&(b?b&&(E=y[y.length-1].coord):E=y[0].coord),l[v]=g.toGlobalCoord(E)}});else{var u=this.getData(),c=u.getLayout("offset"),f=u.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;l[d]+=c+f/2}return l}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>n&&(n=i),n},t.prototype.brushSelector=function(n,i,a){return a.rect(i.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:tokens.color.primary,borderWidth:2}},realtimeSort:!1}),t})(BaseBarSeriesModel),SausageShape=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),SausagePath=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="sausage",i}return t.prototype.getDefaultShape=function(){return new SausageShape},t.prototype.buildPath=function(n,i){var a=i.cx,o=i.cy,s=Math.max(i.r0||0,0),l=Math.max(i.r,0),u=(l-s)*.5,c=s+u,f=i.startAngle,d=i.endAngle,g=i.clockwise,v=Math.PI*2,y=g?d-f<v:f-d<v;y||(f=d-(g?v:-v));var _=Math.cos(f),x=Math.sin(f),S=Math.cos(d),b=Math.sin(d);y?(n.moveTo(_*s+a,x*s+o),n.arc(_*c+a,x*c+o,u,-Math.PI+f,f,!g)):n.moveTo(_*l+a,x*l+o),n.arc(a,o,l,f,d,!g),n.arc(S*c+a,b*c+o,u,d-Math.PI*2,d-Math.PI,!g),s!==0&&n.arc(a,o,s,d,f,g)},t})(Path);function createSectorCalculateTextPosition(r,t){t=t||{};var n=t.isRoundCap;return function(i,a,o){var s=a.position;if(!s||s instanceof Array)return calculateTextPosition(i,a,o);var l=r(s),u=a.distance!=null?a.distance:5,c=this.shape,f=c.cx,d=c.cy,g=c.r,v=c.r0,y=(g+v)/2,_=c.startAngle,x=c.endAngle,S=(_+x)/2,b=n?Math.abs(g-v)/2:0,E=Math.cos,M=Math.sin,D=f+g*E(_),w=d+g*M(_),I="left",R="top";switch(l){case"startArc":D=f+(v-u)*E(S),w=d+(v-u)*M(S),I="center",R="top";break;case"insideStartArc":D=f+(v+u)*E(S),w=d+(v+u)*M(S),I="center",R="bottom";break;case"startAngle":D=f+y*E(_)+adjustAngleDistanceX(_,u+b,!1),w=d+y*M(_)+adjustAngleDistanceY(_,u+b,!1),I="right",R="middle";break;case"insideStartAngle":D=f+y*E(_)+adjustAngleDistanceX(_,-u+b,!1),w=d+y*M(_)+adjustAngleDistanceY(_,-u+b,!1),I="left",R="middle";break;case"middle":D=f+y*E(S),w=d+y*M(S),I="center",R="middle";break;case"endArc":D=f+(g+u)*E(S),w=d+(g+u)*M(S),I="center",R="bottom";break;case"insideEndArc":D=f+(g-u)*E(S),w=d+(g-u)*M(S),I="center",R="top";break;case"endAngle":D=f+y*E(x)+adjustAngleDistanceX(x,u+b,!0),w=d+y*M(x)+adjustAngleDistanceY(x,u+b,!0),I="left",R="middle";break;case"insideEndAngle":D=f+y*E(x)+adjustAngleDistanceX(x,-u+b,!0),w=d+y*M(x)+adjustAngleDistanceY(x,-u+b,!0),I="right",R="middle";break;default:return calculateTextPosition(i,a,o)}return i=i||{},i.x=D,i.y=w,i.align=I,i.verticalAlign=R,i}}function setSectorTextRotation(r,t,n,i){if(isNumber(i)){r.setTextConfig({rotation:i});return}else if(isArray(t)){r.setTextConfig({rotation:0});return}var a=r.shape,o=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,l=(o+s)/2,u,c=n(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=l;break;case"startAngle":case"insideStartAngle":u=o;break;case"endAngle":case"insideEndAngle":u=s;break;default:r.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;c==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),r.setTextConfig({rotation:f})}function adjustAngleDistanceX(r,t,n){return t*Math.sin(r)*(n?-1:1)}function adjustAngleDistanceY(r,t,n){return t*Math.cos(r)*(n?1:-1)}function getSectorCornerRadius(r,t,n){var i=r.get("borderRadius");if(i==null)return{cornerRadius:0};isArray(i)||(i=[i,i,i,i]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:map$1(i,function(o){return parsePercent$1(o,a)})}}var mathMax=Math.max,mathMin=Math.min;function getClipArea(r,t){var n=r.getArea&&r.getArea();if(isCoordinateSystemType(r,"cartesian2d")){var i=r.getBaseAxis();if(i.type!=="category"||!i.onBand){var a=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=a,n.width+=a*2):(n.y-=a,n.height+=a*2)}}return n}var BarView=(function(r){__extends(t,r);function t(){var n=r.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,i,a,o){this._model=n,this._removeOnRenderedListener(a),this._updateDrawMode(n);var s=n.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,i,a):this._renderNormal(n,i,a,o))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,i){this._progressiveEls=[],this._incrementalRenderLarge(n,i)},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var i=n.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(n,i,a,o){var s=this.group,l=n.getData(),u=this._data,c=n.coordinateSystem,f=c.getBaseAxis(),d;c.type==="cartesian2d"?d=f.isHorizontal():c.type==="polar"&&(d=f.dim==="angle");var g=n.isAnimationEnabled()?n:null,v=shouldRealtimeSort(n,c);v&&this._enableRealtimeSort(v,l,a);var y=n.get("clip",!0)||v,_=getClipArea(c,l);s.removeClipPath();var x=n.get("roundCap",!0),S=n.get("showBackground",!0),b=n.getModel("backgroundStyle"),E=b.get("borderRadius")||0,M=[],D=this._backgroundEls,w=o&&o.isInitSort,I=o&&o.type==="changeAxisOrder";function R(L){var $=getLayout[c.type](l,L);if(!$)return null;var N=createBackgroundEl(c,d,$);return N.useStyle(b.getItemStyle()),c.type==="cartesian2d"?N.setShape("r",E):N.setShape("cornerRadius",E),M[L]=N,N}l.diff(u).add(function(L){var $=l.getItemModel(L),N=getLayout[c.type](l,L,$);if(N&&(S&&R(L),!(!l.hasValue(L)||!isValidLayout[c.type](N)))){var F=!1;y&&(F=clip[c.type](_,N));var Y=elementCreator[c.type](n,l,L,N,d,g,f.model,!1,x);v&&(Y.forceLabelAnimation=!0),updateStyle(Y,l,L,$,N,n,d,c.type==="polar"),w?Y.attr({shape:N}):v?updateRealtimeAnimation(v,g,Y,N,L,d,!1,!1):initProps(Y,{shape:N},n,L),l.setItemGraphicEl(L,Y),s.add(Y),Y.ignore=F}}).update(function(L,$){var N=l.getItemModel(L),F=getLayout[c.type](l,L,N);if(F){if(S){var Y=void 0;D.length===0?Y=R($):(Y=D[$],Y.useStyle(b.getItemStyle()),c.type==="cartesian2d"?Y.setShape("r",E):Y.setShape("cornerRadius",E),M[L]=Y);var G=getLayout[c.type](l,L),W=createBackgroundShape(d,G,c);updateProps$1(Y,{shape:W},g,L)}var U=u.getItemGraphicEl($);if(!l.hasValue(L)||!isValidLayout[c.type](F)){s.remove(U);return}var j=!1;y&&(j=clip[c.type](_,F),j&&s.remove(U));var ee=U&&(U.type==="sector"&&x||U.type==="sausage"&&!x);if(ee&&(U&&removeElementWithFadeOut(U,n,$),U=null),U?saveOldStyle(U):U=elementCreator[c.type](n,l,L,F,d,g,f.model,!0,x),v&&(U.forceLabelAnimation=!0),I){var re=U.getTextContent();if(re){var q=labelInner(re);q.prevValue!=null&&(q.prevValue=q.value)}}else updateStyle(U,l,L,N,F,n,d,c.type==="polar");w?U.attr({shape:F}):v?updateRealtimeAnimation(v,g,U,F,L,d,!0,I):updateProps$1(U,{shape:F},n,L,null),l.setItemGraphicEl(L,U),U.ignore=j,s.add(U)}}).remove(function(L){var $=u.getItemGraphicEl(L);$&&removeElementWithFadeOut($,n,L)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new Group$2);P.removeAll();for(var O=0;O<M.length;++O)P.add(M[O]);s.add(P),this._backgroundEls=M,this._data=l},t.prototype._renderLarge=function(n,i,a){this._clear(),createLarge(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,i){this._removeBackground(),createLarge(i,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var i=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n),a=this.group;i?a.setClipPath(i):a.removeClipPath()},t.prototype._enableRealtimeSort=function(n,i,a){var o=this;if(i.count()){var s=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,n,a),this._isFirstFrame=!1;else{var l=function(u){var c=i.getItemGraphicEl(u),f=c&&c.shape;return f&&Math.abs(s.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,l,s,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,i,a){var o=[];return n.each(n.mapDimension(i.dim),function(s,l){var u=a(l);u=u??NaN,o.push({dataIndex:l,mappedValue:u,ordinalNumber:s})}),o.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:map$1(o,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,i,a){for(var o=a.scale,s=n.mapDimension(a.dim),l=Number.MAX_VALUE,u=0,c=o.getOrdinalMeta().categories.length;u<c;++u){var f=n.rawIndexOf(s,o.getRawOrdinalNumber(u)),d=f<0?Number.MIN_VALUE:i(n.indexOfRawIndex(f));if(d>l)return!0;l=d}return!1},t.prototype._isOrderDifferentInView=function(n,i){for(var a=i.scale,o=a.getExtent(),s=Math.max(0,o[0]),l=Math.min(o[1],a.getOrdinalMeta().categories.length-1);s<=l;++s)if(n.ordinalNumbers[s]!==a.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(n,i,a,o){if(this._isOrderChangedWithinSameData(n,i,a)){var s=this._dataSort(n,a,i);this._isOrderDifferentInView(s,a)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(n,i,a){var o=i.baseAxis,s=this._dataSort(n,o,function(l){return n.get(n.mapDimension(i.otherAxis.dim),l)});a.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:s})},t.prototype.remove=function(n,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(n,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var i=this.group,a=this._data;n&&n.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(o){removeElementWithFadeOut(o,n,getECData(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(ChartView),clip={cartesian2d:function(r,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var a=r.x+r.width,o=r.y+r.height,s=mathMax(t.x,r.x),l=mathMin(t.x+t.width,a),u=mathMax(t.y,r.y),c=mathMin(t.y+t.height,o),f=l<s,d=c<u;return t.x=f&&s>a?l:s,t.y=d&&u>o?c:u,t.width=f?0:l-s,t.height=d?0:c-u,n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),f||d},polar:function(r,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}var a=mathMin(t.r,r.r),o=mathMax(t.r0,r.r0);t.r=a,t.r0=o;var s=a-o<0;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}return s}},elementCreator={cartesian2d:function(r,t,n,i,a,o,s,l,u){var c=new Rect({shape:extend({},i),z2:1});if(c.__dataIndex=n,c.name="item",o){var f=c.shape,d=a?"height":"width";f[d]=0}return c},polar:function(r,t,n,i,a,o,s,l,u){var c=!a&&u?SausagePath:Sector,f=new c({shape:i,z2:1});f.name="item";var d=createPolarPositionMapping(a);if(f.calculateTextPosition=createSectorCalculateTextPosition(d,{isRoundCap:c===SausagePath}),o){var g=f.shape,v=a?"r":"endAngle",y={};g[v]=a?i.r0:i.startAngle,y[v]=i[v],(l?updateProps$1:initProps)(f,{shape:y},o)}return f}};function shouldRealtimeSort(r,t){var n=r.get("realtimeSort",!0),i=t.getBaseAxis();if(n&&i.type==="category"&&t.type==="cartesian2d")return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}function updateRealtimeAnimation(r,t,n,i,a,o,s,l){var u,c;o?(c={x:i.x,width:i.width},u={y:i.y,height:i.height}):(c={y:i.y,height:i.height},u={x:i.x,width:i.width}),l||(s?updateProps$1:initProps)(n,{shape:u},t,a,null);var f=t?r.baseAxis.model:null;(s?updateProps$1:initProps)(n,{shape:c},f,a)}function checkPropertiesNotValid(r,t){for(var n=0;n<t.length;n++)if(!isFinite(r[t[n]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(r){return!checkPropertiesNotValid(r,rectPropties)},polar:function(r){return!checkPropertiesNotValid(r,polarPropties)}},getLayout={cartesian2d:function(r,t,n){var i=r.getItemLayout(t);if(!i)return null;var a=n?getLineWidth(n,i):0,o=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+o*a/2,y:i.y+s*a/2,width:i.width-o*a,height:i.height-s*a}},polar:function(r,t,n){var i=r.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function isZeroOnPolar(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function createPolarPositionMapping(r){return(function(t){var n=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+n;default:return i}}})(r)}function updateStyle(r,t,n,i,a,o,s,l){var u=t.getItemVisual(n,"style");if(l){if(!o.get("roundCap")){var f=r.shape,d=getSectorCornerRadius(i.getModel("itemStyle"),f);extend(f,d),r.setShape(f)}}else{var c=i.get(["itemStyle","borderRadius"])||0;r.setShape("r",c)}r.useStyle(u);var g=i.getShallow("cursor");g&&r.attr("cursor",g);var v=l?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",y=getLabelStatesModels(i);setLabelStyle(r,y,{labelFetcher:o,labelDataIndex:n,defaultText:getDefaultLabel(o.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:v});var _=r.getTextContent();if(l&&_){var x=i.get(["label","position"]);r.textConfig.inside=x==="middle"?!0:null,setSectorTextRotation(r,x==="outside"?v:x,createPolarPositionMapping(s),i.get(["label","rotate"]))}setLabelValueAnimation(_,y,o.getRawValue(n),function(b){return getDefaultInterpolatedLabel(t,b)});var S=i.getModel(["emphasis"]);toggleHoverEmphasis(r,S.get("focus"),S.get("blurScope"),S.get("disabled")),setStatesStylesFromModel(r,i),isZeroOnPolar(a)&&(r.style.fill="none",r.style.stroke="none",each$4(r.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function getLineWidth(r,t){var n=r.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var i=r.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,a,o)}var LagePathShape=(function(){function r(){}return r})(),LargePath=(function(r){__extends(t,r);function t(n){var i=r.call(this,n)||this;return i.type="largeBar",i}return t.prototype.getDefaultShape=function(){return new LagePathShape},t.prototype.buildPath=function(n,i){for(var a=i.points,o=this.baseDimIdx,s=1-this.baseDimIdx,l=[],u=[],c=this.barWidth,f=0;f<a.length;f+=3)u[o]=c,u[s]=a[f+2],l[o]=a[f+o],l[s]=a[f+s],n.rect(l[0],l[1],u[0],u[1])},t})(Path);function createLarge(r,t,n,i){var a=r.getData(),o=a.getLayout("valueAxisHorizontal")?1:0,s=a.getLayout("largeDataIndices"),l=a.getLayout("size"),u=r.getModel("backgroundStyle"),c=a.getLayout("largeBackgroundPoints");if(c){var f=new LargePath({shape:{points:c},incremental:!!i,silent:!0,z2:0});f.baseDimIdx=o,f.largeDataIndices=s,f.barWidth=l,f.useStyle(u.getItemStyle()),t.add(f),n&&n.push(f)}var d=new LargePath({shape:{points:a.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=s,d.barWidth=l,t.add(d),d.useStyle(a.getVisual("style")),d.style.stroke=null,getECData(d).seriesIndex=r.seriesIndex,r.get("silent")||(d.on("mousedown",largePathUpdateDataIndex),d.on("mousemove",largePathUpdateDataIndex)),n&&n.push(d)}var largePathUpdateDataIndex=throttle(function(r){var t=this,n=largePathFindDataIndex(t,r.offsetX,r.offsetY);getECData(t).dataIndex=n>=0?n:null},30,!1);function largePathFindDataIndex(r,t,n){for(var i=r.baseDimIdx,a=1-i,o=r.shape.points,s=r.largeDataIndices,l=[],u=[],c=r.barWidth,f=0,d=o.length/3;f<d;f++){var g=f*3;if(u[i]=c,u[a]=o[g+2],l[i]=o[g+i],l[a]=o[g+a],u[a]<0&&(l[a]+=u[a],u[a]=-u[a]),t>=l[0]&&t<=l[0]+u[0]&&n>=l[1]&&n<=l[1]+u[1])return s[f]}return-1}function createBackgroundShape(r,t,n){if(isCoordinateSystemType(n,"cartesian2d")){var i=t,a=n.getArea();return{x:r?i.x:a.x,y:r?a.y:i.y,width:r?i.width:a.width,height:r?a.height:i.height}}else{var a=n.getArea(),o=t;return{cx:a.cx,cy:a.cy,r0:r?a.r0:o.r0,r:r?a.r:o.r,startAngle:r?o.startAngle:0,endAngle:r?o.endAngle:Math.PI*2}}}function createBackgroundEl(r,t,n){var i=r.type==="polar"?Sector:Rect;return new i({shape:createBackgroundShape(t,n,r),silent:!0,z2:0})}function install$7(r){r.registerChartView(BarView),r.registerSeriesModel(BarSeriesModel),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$1,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var i=t.componentType||"series";n.eachComponent({mainType:i,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var OUTER_BOUNDS_DEFAULT={left:0,right:0,top:0,bottom:0},OUTER_BOUNDS_CLAMP_DEFAULT=["25%","25%"],GridModel=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(n,i){var a=getLayoutParams(n.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),a&&n.outerBounds&&mergeLayoutParam(n.outerBounds,a)},t.prototype.mergeOption=function(n,i){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&n.outerBounds&&mergeLayoutParam(this.option.outerBounds,n.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:OUTER_BOUNDS_DEFAULT,outerBoundsContain:"all",outerBoundsClampWidth:OUTER_BOUNDS_CLAMP_DEFAULT[0],outerBoundsClampHeight:OUTER_BOUNDS_CLAMP_DEFAULT[1],backgroundColor:tokens.color.transparent,borderWidth:1,borderColor:tokens.color.neutral30},t})(ComponentModel),CartesianAxisModel=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},t.type="cartesian2dAxis",t})(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:tokens.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:tokens.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:tokens.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[tokens.color.backgroundTint,tokens.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:tokens.color.neutral00,borderColor:tokens.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},categoryAxis=merge({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:tokens.color.axisMinorSplitLine,width:1}}},defaultOption),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1},_impl=null;function getAxisBreakHelper(){return _impl}function axisModelCreator(r,t,n,i){each$4(AXIS_TYPES,function(a,o){var s=merge(merge({},axisDefault[o],!0),i,!0),l=(function(u){__extends(c,u);function c(){var f=u!==null&&u.apply(this,arguments)||this;return f.type=t+"Axis."+o,f}return c.prototype.mergeDefaultAndTheme=function(f,d){var g=fetchLayoutMode(this),v=g?getLayoutParams(f):{},y=d.getTheme();merge(f,y.get(o+"Axis")),merge(f,this.getDefaultOption()),f.type=getAxisType(f),g&&mergeLayoutParam(f,v,g)},c.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},c.prototype.getCategories=function(f){var d=this.option;if(d.type==="category")return f?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.prototype.updateAxisBreaks=function(f){return{breaks:[]}},c.type=t+"Axis."+o,c.defaultOption=s,c})(n);r.registerComponentModel(l)}),r.registerSubTypeDefaulter(t+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=(function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return map$1(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter(this.getAxes(),function(n){return n.scale.type===t})},r.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},r})(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var Cartesian2D=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=cartesian2DDimensions,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(n)||!canCalculateAffineTransform(i))){var a=n.getExtent(),o=i.getExtent(),s=this.dataToPoint([a[0],o[0]]),l=this.dataToPoint([a[1],o[1]]),u=a[1]-a[0],c=o[1]-o[0];if(!(!u||!c)){var f=(l[0]-s[0])/u,d=(l[1]-s[1])/c,g=s[0]-a[0]*f,v=s[1]-o[0]*d,y=this._transform=[f,0,0,d,g,v];this._invTransform=invert([],y)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var i=this.getAxis("x"),a=this.getAxis("y");return i.contain(i.toLocalCoord(n[0]))&&a.contain(a.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,i){var a=this.dataToPoint(n),o=this.dataToPoint(i),s=this.getArea(),l=new BoundingRect(a[0],a[1],o[0]-a[0],o[1]-a[1]);return s.intersect(l)},t.prototype.dataToPoint=function(n,i,a){a=a||[];var o=n[0],s=n[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return applyTransform$1(a,n,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return a[0]=l.toGlobalCoord(l.dataToCoord(o,i)),a[1]=u.toGlobalCoord(u.dataToCoord(s,i)),a},t.prototype.clampData=function(n,i){var a=this.getAxis("x").scale,o=this.getAxis("y").scale,s=a.getExtent(),l=o.getExtent(),u=a.parse(n[0]),c=o.parse(n[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),c),Math.max(l[0],l[1])),i},t.prototype.pointToData=function(n,i,a){if(a=a||[],this._invTransform)return applyTransform$1(a,n,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return a[0]=o.coordToData(o.toLocalCoord(n[0]),i),a[1]=s.coordToData(s.toLocalCoord(n[1]),i),a},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var i=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),o=Math.min(i[0],i[1])-n,s=Math.min(a[0],a[1])-n,l=Math.max(i[0],i[1])-o+n,u=Math.max(a[0],a[1])-s+n;return new BoundingRect(o,s,l,u)},t})(Cartesian),Axis2D=(function(r){__extends(t,r);function t(n,i,a,o,s){var l=r.call(this,n,i,a)||this;return l.index=0,l.type=o||"value",l.position=s||"bottom",l}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),n&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(n,i){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),i)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t})(Axis),AXIS_BREAK_EXPAND_ACTION_TYPE="expandAxisBreak",PI=Math.PI,DEFAULT_CENTER_NAME_MARGIN_LEVELS=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],DEFAULT_ENDS_NAME_MARGIN_LEVELS=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],getLabelInner=makeInner(),getTickInner=makeInner(),AxisBuilderSharedContext=(function(){function r(t){this.recordMap={},this.resolveAxisNameOverlap=t}return r.prototype.ensureRecord=function(t){var n=t.axis.dim,i=t.componentIndex,a=this.recordMap,o=a[n]||(a[n]=[]);return o[i]||(o[i]={ready:{}})},r})();function resetOverlapRecordToShared(r,t,n,i){var a=n.axis,o=t.ensureRecord(n),s=[],l,u=hasAxisName(r.axisName)&&isNameLocationCenter(r.nameLocation);each$4(i,function(y){var _=ensureLabelLayoutWithGeometry(y);if(!(!_||_.label.ignore)){s.push(_);var x=o.transGroup;u&&(x.transform?invert(_stTransTmp,x.transform):identity(_stTransTmp),_.transform&&mul(_stTransTmp,_stTransTmp,_.transform),BoundingRect.copy(_stLabelRectTmp,_.localRect),_stLabelRectTmp.applyTransform(_stTransTmp),l?l.union(_stLabelRectTmp):BoundingRect.copy(l=new BoundingRect(0,0,0,0),_stLabelRectTmp))}});var c=Math.abs(o.dirVec.x)>.1?"x":"y",f=o.transGroup[c];if(s.sort(function(y,_){return Math.abs(y.label[c]-f)-Math.abs(_.label[c]-f)}),u&&l){var d=a.getExtent(),g=Math.min(d[0],d[1]),v=Math.max(d[0],d[1])-g;l.union(new BoundingRect(g,0,v,1))}o.stOccupiedRect=l,o.labelInfoList=s}var _stTransTmp=create(),_stLabelRectTmp=new BoundingRect(0,0,0,0),resolveAxisNameOverlapDefault=function(r,t,n,i,a,o){if(isNameLocationCenter(r.nameLocation)){var s=o.stOccupiedRect;s&&moveIfOverlap(computeLabelGeometry2({},s,o.transGroup.transform),i,a)}else moveIfOverlapByLinearLabels(o.labelInfoList,o.dirVec,i,a)};function moveIfOverlap(r,t,n){var i=new Point;labelIntersect(r,t,i,{direction:Math.atan2(n.y,n.x),bidirectional:!1,touchThreshold:.05})&&labelLayoutApplyTranslation(t,i)}function moveIfOverlapByLinearLabels(r,t,n,i){for(var a=Point.dot(i,t)>=0,o=0,s=r.length;o<s;o++){var l=r[a?o:s-1-o];l.label.ignore||moveIfOverlap(l,n,i)}}var AxisBuilder=(function(){function r(t,n,i,a){this.group=new Group$2,this._axisModel=t,this._api=n,this._local={},this._shared=a||new AxisBuilderSharedContext(resolveAxisNameOverlapDefault),this._resetCfgDetermined(i)}return r.prototype.updateCfg=function(t){var n=this._cfg.raw;n.position=t.position,n.labelOffset=t.labelOffset,this._resetCfgDetermined(n)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(t){var n=this._axisModel,i=n.getDefaultOption?n.getDefaultOption():{},a=retrieve2(t.axisName,n.get("name")),o=n.get("nameMoveOverlap");(o==null||o==="auto")&&(o=retrieve2(t.defaultNameMoveOverlap,!0));var s={raw:t,position:t.position,rotation:t.rotation,nameDirection:retrieve2(t.nameDirection,1),tickDirection:retrieve2(t.tickDirection,1),labelDirection:retrieve2(t.labelDirection,1),labelOffset:retrieve2(t.labelOffset,0),silent:retrieve2(t.silent,!0),axisName:a,nameLocation:retrieve3(n.get("nameLocation"),i.nameLocation,"end"),shouldNameMoveOverlap:hasAxisName(a)&&o,optionHideOverlap:n.get(["axisLabel","hideOverlap"]),showMinorTicks:n.get(["minorTick","show"])};this._cfg=s;var l=new Group$2({x:s.position[0],y:s.position[1],rotation:s.rotation});l.updateTransform(),this._transformGroup=l;var u=this._shared.ensureRecord(n);u.transGroup=this._transformGroup,u.dirVec=new Point(Math.cos(-s.rotation),Math.sin(-s.rotation))},r.prototype.build=function(t,n){var i=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),each$4(AXIS_BUILDER_AXIS_PART_NAMES,function(a){t[a]&&builders[a](i._cfg,i._local,i._shared,i._axisModel,i.group,i._transformGroup,i._api,n||{})}),this},r.innerTextLayout=function(t,n,i){var a=remRadian(n-t),o,s;return isRadianAroundZero(a)?(s=i>0?"top":"bottom",o="center"):isRadianAroundZero(a-PI)?(s=i>0?"bottom":"top",o="center"):(s="middle",a>0&&a<PI?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:a,textAlign:o,textVerticalAlign:s}},r.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},r.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},r})(),AXIS_BUILDER_AXIS_PART_NAMES=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],builders={axisLine:function(r,t,n,i,a,o,s){var l=i.get(["axisLine","show"]);if(l==="auto"&&(l=!0,r.raw.axisLineAutoShow!=null&&(l=!!r.raw.axisLineAutoShow)),!!l){var u=i.axis.getExtent(),c=o.transform,f=[u[0],0],d=[u[1],0],g=f[0]>d[0];c&&(applyTransform$1(f,f,c),applyTransform$1(d,d,c));var v=extend({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),y={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:v};if(i.get(["axisLine","breakLine"])&&i.axis.scale.hasBreaks())getAxisBreakHelper().buildAxisBreakLine(i,a,o,y);else{var _=new Line(extend({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]}},y));subPixelOptimizeLine(_.shape,_.style.lineWidth),_.anid="line",a.add(_)}var x=i.get(["axisLine","symbol"]);if(x!=null){var S=i.get(["axisLine","symbolSize"]);isString(x)&&(x=[x,x]),(isString(S)||isNumber(S))&&(S=[S,S]);var b=normalizeSymbolOffset(i.get(["axisLine","symbolOffset"])||0,S),E=S[0],M=S[1];each$4([{rotate:r.rotation+Math.PI/2,offset:b[0],r:0},{rotate:r.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(D,w){if(x[w]!=="none"&&x[w]!=null){var I=createSymbol(x[w],-E/2,-M/2,E,M,v.stroke,!0),R=D.r+D.offset,P=g?d:f;I.attr({rotation:D.rotate,x:P[0]+R*Math.cos(r.rotation),y:P[1]-R*Math.sin(r.rotation),silent:!0,z2:11}),a.add(I)}})}}},axisTickLabelEstimate:function(r,t,n,i,a,o,s,l){var u=dealLastTickLabelResultReusable(t,a,l);u&&layOutAxisTickLabel(r,t,n,i,a,o,s,AxisTickLabelComputingKind.estimate)},axisTickLabelDetermine:function(r,t,n,i,a,o,s,l){var u=dealLastTickLabelResultReusable(t,a,l);u&&layOutAxisTickLabel(r,t,n,i,a,o,s,AxisTickLabelComputingKind.determine);var c=buildAxisMajorTicks(r,a,o,i);syncLabelIgnoreToMajorTicks(r,t.labelLayoutList,c),buildAxisMinorTicks(r,a,o,i,r.tickDirection)},axisName:function(r,t,n,i,a,o,s,l){var u=n.ensureRecord(i);t.nameEl&&(a.remove(t.nameEl),t.nameEl=u.nameLayout=u.nameLocation=null);var c=r.axisName;if(hasAxisName(c)){var f=r.nameLocation,d=r.nameDirection,g=i.getModel("nameTextStyle"),v=i.get("nameGap")||0,y=i.axis.getExtent(),_=i.axis.inverse?-1:1,x=new Point(0,0),S=new Point(0,0);f==="start"?(x.x=y[0]-_*v,S.x=-_):f==="end"?(x.x=y[1]+_*v,S.x=_):(x.x=(y[0]+y[1])/2,x.y=r.labelOffset+d*v,S.y=d);var b=create();S.transform(rotate(b,b,r.rotation));var E=i.get("nameRotate");E!=null&&(E=E*PI/180);var M,D;isNameLocationCenter(f)?M=AxisBuilder.innerTextLayout(r.rotation,E??r.rotation,d):(M=endTextLayout(r.rotation,f,E||0,y),D=r.raw.axisNameAvailableWidth,D!=null&&(D=Math.abs(D/Math.sin(M.rotation)),!isFinite(D)&&(D=null)));var w=g.getFont(),I=i.get("nameTruncate",!0)||{},R=I.ellipsis,P=retrieve(r.raw.nameTruncateMaxWidth,I.maxWidth,D),O=l.nameMarginLevel||0,L=new ZRText({x:x.x,y:x.y,rotation:M.rotation,silent:AxisBuilder.isLabelSilent(i),style:createTextStyle(g,{text:c,font:w,overflow:"truncate",width:P,ellipsis:R,fill:g.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:g.get("align")||M.textAlign,verticalAlign:g.get("verticalAlign")||M.textVerticalAlign}),z2:1});if(setTooltipConfig({el:L,componentModel:i,itemName:c}),L.__fullText=c,L.anid="name",i.get("triggerEvent")){var $=AxisBuilder.makeAxisEventDataBase(i);$.targetType="axisName",$.name=c,getECData(L).eventData=$}o.add(L),L.updateTransform(),t.nameEl=L;var N=u.nameLayout=ensureLabelLayoutWithGeometry({label:L,priority:L.z2,defaultAttr:{ignore:L.ignore},marginDefault:isNameLocationCenter(f)?DEFAULT_CENTER_NAME_MARGIN_LEVELS[O]:DEFAULT_ENDS_NAME_MARGIN_LEVELS[O]});if(u.nameLocation=f,a.add(L),L.decomposeTransform(),r.shouldNameMoveOverlap&&N){var F=n.ensureRecord(i);n.resolveAxisNameOverlap(r,n,i,N,S,F)}}}};function layOutAxisTickLabel(r,t,n,i,a,o,s,l){axisLabelBuildResultExists(t)||buildAxisLabel(r,t,a,l,i,s);var u=t.labelLayoutList;updateAxisLabelChangableProps(r,i,u,o),r.rotation;var c=r.optionHideOverlap;fixMinMaxLabelShow(i,u,c),c&&hideOverlap(filter(u,function(f){return f&&!f.label.ignore})),resetOverlapRecordToShared(r,n,i,u)}function endTextLayout(r,t,n,i){var a=remRadian(n-r),o,s,l=i[0]>i[1],u=t==="start"&&!l||t!=="start"&&l;return isRadianAroundZero(a-PI/2)?(s=u?"bottom":"top",o="center"):isRadianAroundZero(a-PI*1.5)?(s=u?"top":"bottom",o="center"):(s="middle",a<PI*1.5&&a>PI/2?o=u?"left":"right":o=u?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:s}}function fixMinMaxLabelShow(r,t,n){if(shouldShowAllLabels(r.axis))return;function i(l,u,c){var f=ensureLabelLayoutWithGeometry(t[u]),d=ensureLabelLayoutWithGeometry(t[c]);if(!(!f||!d)){if(l===!1||f.suggestIgnore){ignoreEl(f.label);return}if(d.suggestIgnore){ignoreEl(d.label);return}var g=.1;if(!n){var v=[0,0,0,0];f=newLabelLayoutWithGeometry({marginForce:v},f),d=newLabelLayoutWithGeometry({marginForce:v},d)}labelIntersect(f,d,null,{touchThreshold:g})&&ignoreEl(l?d.label:f.label)}}var a=r.get(["axisLabel","showMinLabel"]),o=r.get(["axisLabel","showMaxLabel"]),s=t.length;i(a,0,1),i(o,s-1,s-2)}function syncLabelIgnoreToMajorTicks(r,t,n){r.showMinorTicks||each$4(t,function(i){if(i&&i.label.ignore)for(var a=0;a<n.length;a++){var o=n[a],s=getTickInner(o),l=getLabelInner(i.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===l.tickValue){ignoreEl(o);return}}})}function ignoreEl(r){r&&(r.ignore=!0)}function createTicks(r,t,n,i,a){for(var o=[],s=[],l=[],u=0;u<r.length;u++){var c=r[u].coord;s[0]=c,s[1]=0,l[0]=c,l[1]=n,t&&(applyTransform$1(s,s,t),applyTransform$1(l,l,t));var f=new Line({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(f.shape,f.style.lineWidth),f.anid=a+"_"+r[u].tickValue,o.push(f);var d=getTickInner(f);d.onBand=!!r[u].onBand,d.tickValue=r[u].tickValue}return o}function buildAxisMajorTicks(r,t,n,i){var a=i.axis,o=i.getModel("axisTick"),s=o.get("show");if(s==="auto"&&(s=!0,r.raw.axisTickAutoShow!=null&&(s=!!r.raw.axisTickAutoShow)),!s||a.scale.isBlank())return[];for(var l=o.getModel("lineStyle"),u=r.tickDirection*o.get("length"),c=a.getTicksCoords(),f=createTicks(c,n.transform,u,defaults(l.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<f.length;d++)t.add(f[d]);return f}function buildAxisMinorTicks(r,t,n,i,a){var o=i.axis,s=i.getModel("minorTick");if(!(!r.showMinorTicks||o.scale.isBlank())){var l=o.getMinorTicksCoords();if(l.length)for(var u=s.getModel("lineStyle"),c=a*s.get("length"),f=defaults(u.getLineStyle(),defaults(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),d=0;d<l.length;d++)for(var g=createTicks(l[d],n.transform,c,f,"minorticks_"+d),v=0;v<g.length;v++)t.add(g[v])}}function dealLastTickLabelResultReusable(r,t,n){if(axisLabelBuildResultExists(r)){var i=r.axisLabelsCreationContext,a=i.out.noPxChangeTryDetermine;if(n.noPxChange){for(var o=!0,s=0;s<a.length;s++)o=o&&a[s]();if(o)return!1}a.length&&(t.remove(r.labelGroup),axisLabelBuildResultSet(r,null,null,null))}return!0}function buildAxisLabel(r,t,n,i,a,o){var s=a.axis,l=retrieve(r.raw.axisLabelShow,a.get(["axisLabel","show"])),u=new Group$2;n.add(u);var c=createAxisLabelsComputingContext(i);if(!l||s.scale.isBlank()){axisLabelBuildResultSet(t,[],u,c);return}var f=a.getModel("axisLabel"),d=s.getViewLabels(c),g=(retrieve(r.raw.labelRotate,f.get("rotate"))||0)*PI/180,v=AxisBuilder.innerTextLayout(r.rotation,g,r.labelDirection),y=a.getCategories&&a.getCategories(!0),_=[],x=a.get("triggerEvent"),S=1/0,b=-1/0;each$4(d,function(M,D){var w,I=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(M.tickValue):M.tickValue,R=M.formattedLabel,P=M.rawLabel,O=f;if(y&&y[I]){var L=y[I];isObject$2(L)&&L.textStyle&&(O=new Model(L.textStyle,f,a.ecModel))}var $=O.getTextColor()||a.get(["axisLine","lineStyle","color"]),N=O.getShallow("align",!0)||v.textAlign,F=retrieve2(O.getShallow("alignMinLabel",!0),N),Y=retrieve2(O.getShallow("alignMaxLabel",!0),N),G=O.getShallow("verticalAlign",!0)||O.getShallow("baseline",!0)||v.textVerticalAlign,W=retrieve2(O.getShallow("verticalAlignMinLabel",!0),G),U=retrieve2(O.getShallow("verticalAlignMaxLabel",!0),G),j=10+(((w=M.time)===null||w===void 0?void 0:w.level)||0);S=Math.min(S,j),b=Math.max(b,j);var ee=new ZRText({x:0,y:0,rotation:0,silent:AxisBuilder.isLabelSilent(a),z2:j,style:createTextStyle(O,{text:R,align:D===0?F:D===d.length-1?Y:N,verticalAlign:D===0?W:D===d.length-1?U:G,fill:isFunction($)?$(s.type==="category"?P:s.type==="value"?I+"":I,D):$})});ee.anid="label_"+I;var re=getLabelInner(ee);if(re.break=M.break,re.tickValue=I,re.layoutRotation=v.rotation,setTooltipConfig({el:ee,componentModel:a,itemName:R,formatterParamsExtra:{isTruncated:function(){return ee.isTruncated},value:P,tickIndex:D}}),x){var q=AxisBuilder.makeAxisEventDataBase(a);q.targetType="axisLabel",q.value=P,q.tickIndex=D,M.break&&(q.break={start:M.break.parsedBreak.vmin,end:M.break.parsedBreak.vmax}),s.type==="category"&&(q.dataIndex=I),getECData(ee).eventData=q,M.break&&addBreakEventHandler(a,o,ee,M.break)}_.push(ee),u.add(ee)});var E=map$1(_,function(M){return{label:M,priority:getLabelInner(M).break?M.z2+(b-S+1):M.z2,defaultAttr:{ignore:M.ignore}}});axisLabelBuildResultSet(t,E,u,c)}function axisLabelBuildResultExists(r){return!!r.labelLayoutList}function axisLabelBuildResultSet(r,t,n,i){r.labelLayoutList=t,r.labelGroup=n,r.axisLabelsCreationContext=i}function updateAxisLabelChangableProps(r,t,n,i){var a=t.get(["axisLabel","margin"]);each$4(n,function(o,s){var l=ensureLabelLayoutWithGeometry(o);if(l){var u=l.label,c=getLabelInner(u);l.suggestIgnore=u.ignore,u.ignore=!1,copyTransform(_tmpLayoutEl,_tmpLayoutElReset),_tmpLayoutEl.x=t.axis.dataToCoord(c.tickValue),_tmpLayoutEl.y=r.labelOffset+r.labelDirection*a,_tmpLayoutEl.rotation=c.layoutRotation,i.add(_tmpLayoutEl),_tmpLayoutEl.updateTransform(),i.remove(_tmpLayoutEl),_tmpLayoutEl.decomposeTransform(),copyTransform(u,_tmpLayoutEl),u.markRedraw(),setLabelLayoutDirty(l,!0),ensureLabelLayoutWithGeometry(l)}})}var _tmpLayoutEl=new Rect,_tmpLayoutElReset=new Rect;function hasAxisName(r){return!!r}function addBreakEventHandler(r,t,n,i){n.on("click",function(a){var o={type:AXIS_BREAK_EXPAND_ACTION_TYPE,breaks:[{start:i.parsedBreak.breakOption.start,end:i.parsedBreak.breakOption.end}]};o[r.axis.dim+"AxisIndex"]=r.componentIndex,t.dispatchAction(o)})}function adjustBreakLabels(r,t,n){}function layout(r,t,n){n=n||{};var i=t.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=[r.x,r.x+r.width,r.y,r.y+r.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,g=u==="x"?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));g[f.onZero]=Math.max(Math.min(v,g[1]),g[0])}a.position=[u==="y"?g[f[l]]:c[0],u==="x"?g[f[l]]:c[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[s],a.labelOffset=o?g[f[s]]-g[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var _=t.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-_:_,a.z2=1,a}function isCartesian2DInjectedAsDataCoordSys(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function findAxisModels(r){var t={xAxisModel:null,yAxisModel:null};return each$4(t,function(n,i){var a=i.replace(/Model$/,""),o=r.getReferringComponents(a,SINGLE_REFERRING).models[0];t[i]=o}),t}function createCartesianAxisViewCommonPartBuilder(r,t,n,i,a,o){for(var s=layout(r,n),l=!1,u=!1,c=0;c<t.length;c++)isIntervalOrLogScale(t[c].getOtherAxis(n.axis).scale)&&(l=u=!0,n.axis.type==="category"&&n.axis.onBand&&(u=!1));return s.axisLineAutoShow=l,s.axisTickAutoShow=u,s.defaultNameMoveOverlap=o,new AxisBuilder(n,i,s,a)}function updateCartesianAxisViewCommonPartBuilder(r,t,n){var i=layout(t,n);r.updateCfg(i)}function alignScaleTicks(r,t,n){var i=IntervalScale.prototype,a=i.getTicks.call(n),o=i.getTicks.call(n,{expandToNicedExtent:!0}),s=a.length-1,l=i.getInterval.call(n),u=getScaleExtent(r,t),c=u.extent,f=u.fixMin,d=u.fixMax;r.type==="log"&&(c=logTransform(r.base,c,!0)),r.setBreaksFromOption(retrieveAxisBreaksOption(t)),r.setExtent(c[0],c[1]),r.calcNiceExtent({splitNumber:s,fixMin:f,fixMax:d});var g=i.getExtent.call(r);f&&(c[0]=g[0]),d&&(c[1]=g[1]);var v=i.getInterval.call(r),y=c[0],_=c[1];if(f&&d)v=(_-y)/s;else if(f)for(_=c[0]+v*s;_<c[1]&&isFinite(_)&&isFinite(c[1]);)v=increaseInterval(v),_=c[0]+v*s;else if(d)for(y=c[1]-v*s;y>c[0]&&isFinite(y)&&isFinite(c[0]);)v=increaseInterval(v),y=c[1]-v*s;else{var x=r.getTicks().length-1;x>s&&(v=increaseInterval(v));var S=v*s;_=Math.ceil(c[1]/v)*v,y=round$1(_-S),y<0&&c[0]>=0?(y=0,_=round$1(S)):_>0&&c[1]<=0&&(_=0,y=-round$1(S))}var b=(a[0].value-o[0].value)/l,E=(a[s].value-o[s].value)/l;i.setExtent.call(r,y+v*b,_+v*E),i.setInterval.call(r,v),(b||E)&&i.setNiceExtent.call(r,y+v,_-v)}var XY_TO_MARGIN_IDX=[[3,1],[0,2]],Grid=(function(){function r(t,n,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,n,i),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,n){var i=this._axesMap;this._updateScale(t,this.model);function a(s){var l,u=keys(s),c=u.length;if(c){for(var f=[],d=c-1;d>=0;d--){var g=+u[d],v=s[g],y=v.model,_=v.scale;isIntervalOrLogScale(_)&&y.get("alignTicks")&&y.get("interval")==null?f.push(v):(niceScaleExtent(_,y),isIntervalOrLogScale(_)&&(l=v))}f.length&&(l||(l=f.pop(),niceScaleExtent(l.scale,l.model)),each$4(f,function(x){alignScaleTicks(x.scale,x.model,l.scale)}))}}a(i.x),a(i.y);var o={};each$4(i.x,function(s){fixAxisOnZero(i,"y",s,o)}),each$4(i.y,function(s){fixAxisOnZero(i,"x",s,o)}),this.resize(this.model,n)},r.prototype.resize=function(t,n,i){var a=createBoxLayoutReference(t,n),o=this._rect=getLayoutRect(t.getBoxLayoutParams(),a.refContainer),s=this._axesMap,l=this._coordsList,u=t.get("containLabel");if(updateAllAxisExtentTransByGridRect(s,o),!i){var c=createAxisBiulders(o,l,s,u,n),f=void 0;if(u)f=layOutGridByOuterBounds(o.clone(),"axisLabel",null,o,s,c,a);else{var d=prepareOuterBounds(t,o,a),g=d.outerBoundsRect,v=d.parsedOuterBoundsContain,y=d.outerBoundsClamp;g&&(f=layOutGridByOuterBounds(g,v,y,o,s,c,a))}createOrUpdateAxesView(o,s,AxisTickLabelComputingKind.determine,null,f,a)}each$4(this._coordsList,function(_){_.calcAffineTransform()})},r.prototype.getAxis=function(t,n){var i=this._axesMap[t];if(i!=null)return i[n||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var i="x"+t+"y"+n;return this._coordsMap[i]}isObject$2(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,o=this._coordsList;a<o.length;a++)if(o[a].getAxis("x").index===t||o[a].getAxis("y").index===n)return o[a]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,n,i){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(i):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(i)):null},r.prototype.convertFromPixel=function(t,n,i){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(i):a.axis?a.axis.coordToData(a.axis.toLocalCoord(i)):null},r.prototype._findConvertTarget=function(t){var n=t.seriesModel,i=t.xAxisModel||n&&n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],o=t.gridModel,s=this._coordsList,l,u;if(n)l=n.coordinateSystem,indexOf(s,l)<0&&(l=null);else if(i&&a)l=this.getCartesian(i.componentIndex,a.componentIndex);else if(i)u=this.getAxis("x",i.componentIndex);else if(a)u=this.getAxis("y",a.componentIndex);else if(o){var c=o.coordinateSystem;c===this&&(l=this._coordsList[0])}return{cartesian:l,axis:u}},r.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},r.prototype._initCartesian=function(t,n,i){var a=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(n.eachComponent("xAxis",c("x"),this),n.eachComponent("yAxis",c("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=l,each$4(l.x,function(f,d){each$4(l.y,function(g,v){var y="x"+d+"y"+v,_=new Cartesian2D(y);_.master=a,_.model=t,a._coordsMap[y]=_,a._coordsList.push(_),_.addAxis(f),_.addAxis(g)})});function c(f){return function(d,g){if(isAxisUsedInTheGrid(d,t)){var v=d.get("position");f==="x"?v!=="top"&&v!=="bottom"&&(v=s.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=s.left?"right":"left"),s[v]=!0;var y=new Axis2D(f,createScaleByModel(d),[0,0],d.get("type"),v),_=y.type==="category";y.onBand=_&&d.get("boundaryGap"),y.inverse=d.get("inverse"),d.axis=y,y.model=d,y.grid=o,y.index=g,o._axesList.push(y),l[f][g]=y,u[f]++}}}},r.prototype._updateScale=function(t,n){each$4(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var o=a.model.get("categorySortInfo");a.scale.setSortInfo(o)}}),t.eachSeries(function(a){if(isCartesian2DInjectedAsDataCoordSys(a)){var o=findAxisModels(a),s=o.xAxisModel,l=o.yAxisModel;if(!isAxisUsedInTheGrid(s,n)||!isAxisUsedInTheGrid(l,n))return;var u=this.getCartesian(s.componentIndex,l.componentIndex),c=a.getData(),f=u.getAxis("x"),d=u.getAxis("y");i(c,f),i(c,d)}},this);function i(a,o){each$4(getDataDimensionsOnAxis(a,o.dim),function(s){o.scale.unionExtentFromData(a,s)})}},r.prototype.getTooltipAxes=function(t){var n=[],i=[];return each$4(this.getCartesians(),function(a){var o=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),s=a.getOtherAxis(o);indexOf(n,o)<0&&n.push(o),indexOf(i,s)<0&&i.push(s)}),{baseAxes:n,otherAxes:i}},r.create=function(t,n){var i=[];return t.eachComponent("grid",function(a,o){var s=new r(a,t,n);s.name="grid_"+o,s.resize(a,n,!0),a.coordinateSystem=s,i.push(s)}),t.eachSeries(function(a){injectCoordSysByOption({targetModel:a,coordSysType:"cartesian2d",coordSysProvider:o});function o(){var s=findAxisModels(a),l=s.xAxisModel,u=s.yAxisModel,c=l.getCoordSysModel(),f=c.coordinateSystem;return f.getCartesian(l.componentIndex,u.componentIndex)}}),i},r.dimensions=cartesian2DDimensions,r})();function isAxisUsedInTheGrid(r,t){return r.getCoordSysModel()===t}function fixAxisOnZero(r,t,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var a=r[t],o,s=n.model,l=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(!l)return;if(u!=null)canOnZeroToAxis(a[u])&&(o=a[u]);else for(var c in a)if(a.hasOwnProperty(c)&&canOnZeroToAxis(a[c])&&!i[f(a[c])]){o=a[c];break}o&&(i[f(o)]=!0);function f(d){return d.dim+"_"+d.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,t){var n=r.getExtent(),i=n[0]+n[1];r.toGlobalCoord=r.dim==="x"?function(a){return a+t}:function(a){return i-a+t},r.toLocalCoord=r.dim==="x"?function(a){return a-t}:function(a){return i-a+t}}function updateAllAxisExtentTransByGridRect(r,t){each$4(r.x,function(n){return updateAxisExtentTransByGridRect(n,t.x,t.width)}),each$4(r.y,function(n){return updateAxisExtentTransByGridRect(n,t.y,t.height)})}function updateAxisExtentTransByGridRect(r,t,n){var i=[0,n],a=r.inverse?1:0;r.setExtent(i[a],i[1-a]),updateAxisTransform(r,t)}function layOutGridByOuterBounds(r,t,n,i,a,o,s){createOrUpdateAxesView(i,a,AxisTickLabelComputingKind.estimate,t,!1,s);var l=[0,0,0,0];c(0),c(1),f(i,0,NaN),f(i,1,NaN);var u=find(l,function(g){return g>0})==null;return expandOrShrinkRect(i,l,!0,!0,n),updateAllAxisExtentTransByGridRect(a,i),u;function c(g){each$4(a[XY$1[g]],function(v){if(shouldAxisShow(v.model)){var y=o.ensureRecord(v.model),_=y.labelInfoList;if(_)for(var x=0;x<_.length;x++){var S=_[x],b=v.scale.normalize(getLabelInner(S.label).tickValue);b=g===1?1-b:b,f(S.rect,g,b),f(S.rect,1-g,NaN)}var E=y.nameLayout;if(E){var b=isNameLocationCenter(y.nameLocation)?.5:NaN;f(E.rect,g,b),f(E.rect,1-g,NaN)}}})}function f(g,v,y){var _=r[XY$1[v]]-g[XY$1[v]],x=g[WH$1[v]]+g[XY$1[v]]-(r[WH$1[v]]+r[XY$1[v]]);_=d(_,1-y),x=d(x,y);var S=XY_TO_MARGIN_IDX[v][0],b=XY_TO_MARGIN_IDX[v][1];l[S]=mathMax$6(l[S],_),l[b]=mathMax$6(l[b],x)}function d(g,v){return g>0&&!eqNaN(v)&&v>1e-4&&(g/=v),g}}function createAxisBiulders(r,t,n,i,a){var o=new AxisBuilderSharedContext(resolveAxisNameOverlapForGrid);return each$4(n,function(s){return each$4(s,function(l){if(shouldAxisShow(l.model)){var u=!i;l.axisBuilder=createCartesianAxisViewCommonPartBuilder(r,t,l.model,a,o,u)}})}),o}function createOrUpdateAxesView(r,t,n,i,a,o){var s=n===AxisTickLabelComputingKind.determine;each$4(t,function(c){return each$4(c,function(f){shouldAxisShow(f.model)&&(updateCartesianAxisViewCommonPartBuilder(f.axisBuilder,r,f.model),f.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:a}))})});var l={x:0,y:0};u(0),u(1);function u(c){l[XY$1[1-c]]=r[WH$1[c]]<=o.refContainer[WH$1[c]]*.5?0:1-c===1?2:1}each$4(t,function(c,f){return each$4(c,function(d){shouldAxisShow(d.model)&&((i==="all"||s)&&d.axisBuilder.build({axisName:!0},{nameMarginLevel:l[f]}),s&&d.axisBuilder.build({axisLine:!0}))})})}function prepareOuterBounds(r,t,n){var i,a=r.get("outerBoundsMode",!0);a==="same"?i=t.clone():(a==null||a==="auto")&&(i=getLayoutRect(r.get("outerBounds",!0)||OUTER_BOUNDS_DEFAULT,n.refContainer));var o=r.get("outerBoundsContain",!0),s;o==null||o==="auto"||indexOf(["all","axisLabel"],o)<0?s="all":s=o;var l=[parsePositionSizeOption(retrieve2(r.get("outerBoundsClampWidth",!0),OUTER_BOUNDS_CLAMP_DEFAULT[0]),t.width),parsePositionSizeOption(retrieve2(r.get("outerBoundsClampHeight",!0),OUTER_BOUNDS_CLAMP_DEFAULT[1]),t.height)];return{outerBoundsRect:i,parsedOuterBoundsContain:s,outerBoundsClamp:l}}var resolveAxisNameOverlapForGrid=function(r,t,n,i,a,o){var s=n.axis.dim==="x"?"y":"x";resolveAxisNameOverlapDefault(r,t,n,i,a,o),isNameLocationCenter(r.nameLocation)||each$4(t.recordMap[s],function(l){l&&l.labelInfoList&&l.dirVec&&moveIfOverlapByLinearLabels(l.labelInfoList,l.dirVec,i,a)})};function collect(r,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,r,t),n.seriesInvolved&&collectSeriesInfo(n,r),n}function collectAxesInfo(r,t,n){var i=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),o=a.get("link",!0)||[],s=[];each$4(n.getCoordinateSystems(),function(l){if(!l.axisPointerEnabled)return;var u=makeKey(l.model),c=r.coordSysAxesInfo[u]={};r.coordSysMap[u]=l;var f=l.model,d=f.getModel("tooltip",i);if(each$4(l.getAxes(),curry$1(_,!1,null)),l.getTooltipAxes&&i&&d.get("show")){var g=d.get("trigger")==="axis",v=d.get(["axisPointer","type"])==="cross",y=l.getTooltipAxes(d.get(["axisPointer","axis"]));(g||v)&&each$4(y.baseAxes,curry$1(_,v?"cross":!0,g)),v&&each$4(y.otherAxes,curry$1(_,"cross",!1))}function _(x,S,b){var E=b.model.getModel("axisPointer",a),M=E.get("show");if(!(!M||M==="auto"&&!x&&!isHandleTrigger(E))){S==null&&(S=E.get("triggerTooltip")),E=x?makeAxisPointerModel(b,d,a,t,x,S):E;var D=E.get("snap"),w=E.get("triggerEmphasis"),I=makeKey(b.model),R=S||D||b.type==="category",P=r.axesInfo[I]={key:I,axis:b,coordSys:l,axisPointerModel:E,triggerTooltip:S,triggerEmphasis:w,involveSeries:R,snap:D,useHandle:isHandleTrigger(E),seriesModels:[],linkGroup:null};c[I]=P,r.seriesInvolved=r.seriesInvolved||R;var O=getLinkGroupIndex(o,b);if(O!=null){var L=s[O]||(s[O]={axesInfo:{}});L.axesInfo[I]=P,L.mapper=o[O].mapper,P.linkGroup=L}}}})}function makeAxisPointerModel(r,t,n,i,a,o){var s=t.getModel("axisPointer"),l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};each$4(l,function(g){u[g]=clone$2(s.get(g))}),u.snap=r.type!=="category"&&!!o,s.get("type")==="cross"&&(u.type="line");var c=u.label||(u.label={});if(c.show==null&&(c.show=!1),a==="cross"){var f=s.get(["label","show"]);if(c.show=f??!0,!o){var d=u.lineStyle=s.get("crossStyle");d&&defaults(c,d.textStyle)}}return r.model.getModel("axisPointer",new Model(u,n,i))}function collectSeriesInfo(r,t){t.eachSeries(function(n){var i=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!i||!i.model||a==="none"||a===!1||a==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||each$4(r.coordSysAxesInfo[makeKey(i.model)],function(s){var l=s.axis;i.getAxis(l.dim)===l&&(s.seriesModels.push(n),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(r,t){for(var n=t.model,i=t.dim,a=0;a<r.length;a++){var o=r[a]||{};if(checkPropInLink(o[i+"AxisId"],n.id)||checkPropInLink(o[i+"AxisIndex"],n.componentIndex)||checkPropInLink(o[i+"AxisName"],n.name))return a}}function checkPropInLink(r,t){return r==="all"||isArray(r)&&indexOf(r,t)>=0||r===t}function fixValue(r){var t=getAxisInfo(r);if(t){var n=t.axisPointerModel,i=t.axis.scale,a=n.option,o=n.get("status"),s=n.get("value");s!=null&&(s=i.parse(s));var l=isHandleTrigger(n);o==null&&(a.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(s==null||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),a.value=s,l&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var t=getAxisInfo(r);return t&&t.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,i,a,o){this.axisPointerClass&&fixValue(n),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},t.prototype.updateAxisPointer=function(n,i,a,o){this._doUpdateAxisPointerClass(n,a,!1)},t.prototype.remove=function(n,i){var a=this._axisPointer;a&&a.remove(i)},t.prototype.dispose=function(n,i){this._disposeAxisPointer(i),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,i,a){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=getAxisPointerModel(n);s?(this._axisPointer||(this._axisPointer=new o)).render(n,s,i,a):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,i){axisPointerClazz[n]=i},t.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},t.type="axis",t})(ComponentView),inner$3=makeInner();function rectCoordAxisBuildSplitArea(r,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),c=a.getTicksCoords({tickModel:o,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(c.length){var f=l.length,d=inner$3(r).splitAreaColors,g=createHashMap(),v=0;if(d)for(var y=0;y<c.length;y++){var _=d.get(c[y].tickValue);if(_!=null){v=(_+(f-1)*y)%f;break}}var x=a.toGlobalCoord(c[0].coord),S=s.getAreaStyle();l=isArray(l)?l:[l];for(var y=1;y<c.length;y++){var b=a.toGlobalCoord(c[y].coord),E=void 0,M=void 0,D=void 0,w=void 0;a.isHorizontal()?(E=x,M=u.y,D=b-E,w=u.height,x=E+D):(E=u.x,M=x,D=u.width,w=b-M,x=M+w);var I=c[y-1].tickValue;I!=null&&g.set(I,v),t.add(new Rect({anid:I!=null?"area_"+I:null,shape:{x:E,y:M,width:D,height:w},style:defaults({fill:l[v]},S),autoBatch:!0,silent:!0})),v=(v+1)%f}inner$3(r).splitAreaColors=g}}}function rectCoordAxisHandleRemove(r){inner$3(r).splitAreaColors=null}var selfBuilderAttrs=["splitArea","splitLine","minorSplitLine","breakArea"],CartesianAxisView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,i,a,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Group$2,this.group.add(this._axisGroup),!!shouldAxisShow(n)){this._axisGroup.add(n.axis.axisBuilder.group),each$4(selfBuilderAttrs,function(u){n.get([u,"show"])&&axisElementBuilders[u](this,this._axisGroup,n,n.getCoordSysModel(),a)},this);var l=o&&o.type==="changeAxisOrder"&&o.isInitSort;l||groupTransition(s,this._axisGroup,n),r.prototype.render.call(this,n,i,a,o)}},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="cartesianAxis",t})(AxisView),axisElementBuilders={splitLine:function(r,t,n,i,a){var o=n.axis;if(!o.scale.isBlank()){var s=n.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color"),c=s.get("showMinLine")!==!1,f=s.get("showMaxLine")!==!1;u=isArray(u)?u:[u];for(var d=i.coordinateSystem.getRect(),g=o.isHorizontal(),v=0,y=o.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),_=[],x=[],S=l.getLineStyle(),b=0;b<y.length;b++){var E=o.toGlobalCoord(y[b].coord);if(!(b===0&&!c||b===y.length-1&&!f)){var M=y[b].tickValue;g?(_[0]=E,_[1]=d.y,x[0]=E,x[1]=d.y+d.height):(_[0]=d.x,_[1]=E,x[0]=d.x+d.width,x[1]=E);var D=v++%u.length,w=new Line({anid:M!=null?"line_"+M:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},style:defaults({stroke:u[D]},S),silent:!0});subPixelOptimizeLine(w.shape,S.lineWidth),t.add(w)}}}},minorSplitLine:function(r,t,n,i,a){var o=n.axis,s=n.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=i.coordinateSystem.getRect(),c=o.isHorizontal(),f=o.getMinorTicksCoords();if(f.length)for(var d=[],g=[],v=l.getLineStyle(),y=0;y<f.length;y++)for(var _=0;_<f[y].length;_++){var x=o.toGlobalCoord(f[y][_].coord);c?(d[0]=x,d[1]=u.y,g[0]=x,g[1]=u.y+u.height):(d[0]=u.x,d[1]=x,g[0]=u.x+u.width,g[1]=x);var S=new Line({anid:"minor_line_"+f[y][_].tickValue,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:g[0],y2:g[1]},style:v,silent:!0});subPixelOptimizeLine(S.shape,v.lineWidth),t.add(S)}},splitArea:function(r,t,n,i,a){rectCoordAxisBuildSplitArea(r,t,n,i)},breakArea:function(r,t,n,i,a){n.axis.scale}},CartesianXAxisView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t})(CartesianAxisView),CartesianYAxisView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return t.type="yAxis",t})(CartesianAxisView),GridView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,i){this.group.removeAll(),n.get("show")&&this.group.add(new Rect({shape:n.coordinateSystem.getRect(),style:defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(ComponentView),extraOption={offset:0};function install$6(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel),r.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var inner$2=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,n,i,a){var o=n.get("value"),s=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=i,!(!a&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||s==="hide"){l&&l.hide(),u&&u.hide();return}l&&l.show(),u&&u.show();var c={};this.makeElOption(c,o,t,n,i);var f=c.graphicKey;f!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=f;var d=this._moveAnimation=this.determineAnimation(t,n);if(!l)l=this._group=new Group$2,this.createPointerEl(l,c,t,n),this.createLabelEl(l,c,t,n),i.getZr().add(l);else{var g=curry$1(updateProps,n,d);this.updatePointerEl(l,c,g),this.updateLabelEl(l,c,g,n)}updateMandatoryProps(l,n,!0),this._renderHandle(o)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,n){var i=n.get("animation"),a=t.axis,o=a.type==="category",s=n.get("snap");if(!s&&!o)return!1;if(i==="auto"||i==null){var l=this.animationThreshold;if(o&&a.getBandWidth()>l)return!0;if(s){var u=getAxisInfo(t).seriesDataCount,c=a.getExtent();return Math.abs(c[0]-c[1])/u>l}return!1}return i===!0},r.prototype.makeElOption=function(t,n,i,a,o){},r.prototype.createPointerEl=function(t,n,i,a){var o=n.pointer;if(o){var s=inner$2(t).pointerEl=new graphic[o.type](clone(n.pointer));t.add(s)}},r.prototype.createLabelEl=function(t,n,i,a){if(n.label){var o=inner$2(t).labelEl=new ZRText(clone(n.label));t.add(o),updateLabelShowHide(o,a)}},r.prototype.updatePointerEl=function(t,n,i){var a=inner$2(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),i(a,{shape:n.pointer.shape}))},r.prototype.updateLabelEl=function(t,n,i,a){var o=inner$2(t).labelEl;o&&(o.setStyle(n.label.style),i(o,{x:n.label.x,y:n.label.y}),updateLabelShowHide(o,a))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,i=this._api.getZr(),a=this._handle,o=n.getModel("handle"),s=n.get("status");if(!o.get("show")||!s||s==="hide"){a&&i.remove(a),this._handle=null;return}var l;this._handle||(l=!0,a=this._handle=createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){stop(c.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),i.add(a)),updateMandatoryProps(a,n,!1),a.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=o.get("size");isArray(u)||(u=[u,u]),a.scaleX=u[0]/2,a.scaleY=u[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,l)}},r.prototype._moveHandleToValue=function(t,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,n){var i=this._handle;if(i){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(i),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,i.stopAnimation(),i.attr(getHandleTransProps(a)),inner$2(i).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),i=this._group,a=this._handle;n&&i&&(this._lastGraphicKey=null,i&&n.remove(i),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,n,i){return i=i||0,{x:t[i],y:t[1-i],width:n[i],height:n[1-i]}},r})();function updateProps(r,t,n,i){propsEqual(inner$2(n).lastProp,i)||(inner$2(n).lastProp=i,t?updateProps$1(n,i,r):(n.stopAnimation(),n.attr(i)))}function propsEqual(r,t){if(isObject$2(r)&&isObject$2(t)){var n=!0;return each$4(t,function(i,a){n=n&&propsEqual(r[a],i)}),!!n}else return r===t}function updateLabelShowHide(r,t){r[t.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,t,n){var i=t.get("z"),a=t.get("zlevel");r&&r.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),a!=null&&(o.zlevel=a),o.silent=n)})}function buildElStyle(r){var t=r.get("type"),n=r.getModel(t+"Style"),i;return t==="line"?(i=n.getLineStyle(),i.fill=null):t==="shadow"&&(i=n.getAreaStyle(),i.stroke=null),i}function buildLabelElOption(r,t,n,i,a){var o=n.get("value"),s=getValueLabel(o,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),l=n.getModel("label"),u=normalizeCssArray(l.get("padding")||0),c=l.getFont(),f=getBoundingRect(s,c),d=a.position,g=f.width+u[1]+u[3],v=f.height+u[0]+u[2],y=a.align;y==="right"&&(d[0]-=g),y==="center"&&(d[0]-=g/2);var _=a.verticalAlign;_==="bottom"&&(d[1]-=v),_==="middle"&&(d[1]-=v/2),confineInContainer(d,g,v,i);var x=l.get("backgroundColor");(!x||x==="auto")&&(x=t.get(["axisLine","lineStyle","color"])),r.label={x:d[0],y:d[1],style:createTextStyle(l,{text:s,font:c,fill:l.getTextColor(),padding:u,backgroundColor:x}),z2:10}}function confineInContainer(r,t,n,i){var a=i.getWidth(),o=i.getHeight();r[0]=Math.min(r[0]+t,a)-t,r[1]=Math.min(r[1]+n,o)-n,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,t,n,i,a){r=t.scale.parse(r);var o=t.scale.getLabel({value:r},{precision:a.precision}),s=a.formatter;if(s){var l={value:getAxisRawValue(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};each$4(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),f=u.dataIndexInside,d=c&&c.getDataParams(f);d&&l.seriesData.push(d)}),isString(s)?o=s.replace("{value}",o):isFunction(s)&&(o=s(l))}return o}function getTransformedPosition(r,t,n){var i=create();return rotate(i,i,n.rotation),translate(i,i,n.position),applyTransform([r.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function buildCartesianSingleLabelElOption(r,t,n,i,a,o){var s=AxisBuilder.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),buildLabelElOption(t,i,a,o,{position:getTransformedPosition(i.axis,r,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function makeLineShape(r,t,n){return n=n||0,{x1:r[n],y1:r[1-n],x2:t[n],y2:t[1-n]}}function makeRectShape(r,t,n){return n=n||0,{x:r[n],y:r[1-n],width:t[n],height:t[1-n]}}var CartesianAxisPointer=(function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,i,a,o,s){var l=a.axis,u=l.grid,c=o.get("type"),f=getCartesian(u,l).getOtherAxis(l).getGlobalExtent(),d=l.toGlobalCoord(l.dataToCoord(i,!0));if(c&&c!=="none"){var g=buildElStyle(o),v=pointerShapeBuilder[c](l,d,f);v.style=g,n.graphicKey=v.type,n.pointer=v}var y=layout(u.getRect(),a);buildCartesianSingleLabelElOption(i,n,y,a,o,s)},t.prototype.getHandleTransform=function(n,i,a){var o=layout(i.axis.grid.getRect(),i,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var s=getTransformedPosition(i.axis,n,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,i,a,o){var s=a.axis,l=s.grid,u=s.getGlobalExtent(!0),c=getCartesian(l,s).getOtherAxis(s).getGlobalExtent(),f=s.dim==="x"?0:1,d=[n.x,n.y];d[f]+=i[f],d[f]=Math.min(u[1],d[f]),d[f]=Math.max(u[0],d[f]);var g=(c[1]+c[0])/2,v=[g,g];v[f]=d[f];var y=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:n.rotation,cursorPoint:v,tooltipOption:y[f]}},t})(BaseAxisPointer);function getCartesian(r,t){var n={};return n[t.dim+"AxisIndex"]=t.index,r.getCartesian(n)}var pointerShapeBuilder={line:function(r,t,n){var i=makeLineShape([t,n[0]],[t,n[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(r,t,n){var i=Math.max(1,r.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-i/2,n[0]],[i,a],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}var AxisPointerModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:tokens.color.border,width:1,type:"dashed"},shadowStyle:{color:tokens.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:tokens.color.neutral00,padding:[5,7,5,7],backgroundColor:tokens.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:tokens.color.accent40,throttle:40}},t})(ComponentModel),inner$1=makeInner(),each$1=each$4;function register(r,t,n){if(!env.node){var i=t.getZr();inner$1(i).records||(inner$1(i).records={}),initGlobalListeners(i,t);var a=inner$1(i).records[r]||(inner$1(i).records[r]={});a.handler=n}}function initGlobalListeners(r,t){if(inner$1(r).initialized)return;inner$1(r).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(i,a){r.on(i,function(o){var s=makeDispatchAction$1(t);each$1(inner$1(r).records,function(l){l&&a(l,o,s.dispatchAction)}),dispatchTooltipFinally(s.pendings,t)})}}function dispatchTooltipFinally(r,t){var n=r.showTip.length,i=r.hideTip.length,a;n?a=r.showTip[n-1]:i&&(a=r.hideTip[i-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function onLeave(r,t,n){r.handler("leave",null,n)}function doEnter(r,t,n,i){t.handler(r,n,i)}function makeDispatchAction$1(r){var t={showTip:[],hideTip:[]},n=function(i){var a=t[i.type];a?a.push(i):(i.dispatchAction=n,r.dispatchAction(i))};return{dispatchAction:n,pendings:t}}function unregister(r,t){if(!env.node){var n=t.getZr(),i=(inner$1(n).records||{})[r];i&&(inner$1(n).records[r]=null)}}var AxisPointerView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,i,a){var o=i.getComponent("tooltip"),s=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(l,u,c){s!=="none"&&(l==="leave"||s.indexOf(l)>=0)&&c({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},t.prototype.remove=function(n,i){unregister("axisPointer",i)},t.prototype.dispose=function(n,i){unregister("axisPointer",i)},t.type="axisPointer",t})(ComponentView);function findPointFromSeries(r,t){var n=[],i=r.seriesIndex,a;if(i==null||!(a=t.getSeriesByIndex(i)))return{point:[]};var o=a.getData(),s=queryDataIndex(o,r);if(s==null||s<0||isArray(s))return{point:[]};var l=o.getItemGraphicEl(s),u=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(r.isStacked){var c=u.getBaseAxis(),f=u.getOtherAxis(c),d=f.dim,g=c.dim,v=d==="x"||d==="radius"?1:0,y=o.mapDimension(g),_=[];_[v]=o.get(y,s),_[1-v]=o.get(o.getCalculationInfo("stackResultDimension"),s),n=u.dataToPoint(_)||[]}else n=u.dataToPoint(o.getValues(map$1(u.dimensions,function(S){return o.mapDimension(S)}),s))||[];else if(l){var x=l.getBoundingRect().clone();x.applyTransform(l.transform),n=[x.x+x.width/2,x.y+x.height/2]}return{point:n,el:l}}var inner=makeInner();function axisTrigger(r,t,n){var i=r.currTrigger,a=[r.x,r.y],o=r,s=r.dispatchAction||bind$1(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var u=illegalPoint(a),c=o.axesInfo,f=l.axesInfo,d=i==="leave"||illegalPoint(a),g={},v={},y={list:[],map:{}},_={showPointer:curry$1(showPointer,v),showTooltip:curry$1(showTooltip,y)};each$4(l.coordSysMap,function(S,b){var E=u||S.containPoint(a);each$4(l.coordSysAxesInfo[b],function(M,D){var w=M.axis,I=findInputAxisInfo(c,M);if(!d&&E&&(!c||I)){var R=I&&I.value;R==null&&!u&&(R=w.pointToData(a)),R!=null&&processOnAxis(M,R,_,!1,g)}})});var x={};return each$4(f,function(S,b){var E=S.linkGroup;E&&!v[b]&&each$4(E.axesInfo,function(M,D){var w=v[D];if(M!==S&&w){var I=w.value;E.mapper&&(I=S.axis.scale.parse(E.mapper(I,makeMapperParam(M),makeMapperParam(S)))),x[S.key]=I}})}),each$4(x,function(S,b){processOnAxis(f[b],S,_,!0,g)}),updateModelActually(v,f,g),dispatchTooltipActually(y,a,r,s),dispatchHighDownActually(f,s,n),g}}function processOnAxis(r,t,n,i,a){var o=r.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!r.involveSeries){n.showPointer(r,t);return}var s=buildPayloadsBySeries(t,r),l=s.payloadBatch,u=s.snapToValue;l[0]&&a.seriesIndex==null&&extend(a,l[0]),!i&&r.snap&&o.containData(u)&&u!=null&&(t=u),n.showPointer(r,t,l),n.showTooltip(r,s,u)}}function buildPayloadsBySeries(r,t){var n=t.axis,i=n.dim,a=r,o=[],s=Number.MAX_VALUE,l=-1;return each$4(t.seriesModels,function(u,c){var f=u.getData().mapDimensionsAll(i),d,g;if(u.getAxisTooltipData){var v=u.getAxisTooltipData(f,r,n);g=v.dataIndices,d=v.nestestValue}else{if(g=u.indicesOfNearest(i,f[0],r,n.type==="category"?.5:null),!g.length)return;d=u.getData().get(f[0],g[0])}if(!(d==null||!isFinite(d))){var y=r-d,_=Math.abs(y);_<=s&&((_<s||y>=0&&l<0)&&(s=_,l=y,a=d,o.length=0),each$4(g,function(x){o.push({seriesIndex:u.seriesIndex,dataIndexInside:x,dataIndex:u.getData().getRawIndex(x)})}))}}),{payloadBatch:o,snapToValue:a}}function showPointer(r,t,n,i){r[t.key]={value:n,payloadBatch:i}}function showTooltip(r,t,n,i){var a=n.payloadBatch,o=t.axis,s=o.model,l=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var u=t.coordSys.model,c=makeKey(u),f=r.map[c];f||(f=r.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},r.list.push(f)),f.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(r,t,n){var i=n.axesInfo=[];each$4(t,function(a,o){var s=a.axisPointerModel.option,l=r[o];l?(!a.useHandle&&(s.status="show"),s.value=l.value,s.seriesDataIndices=(l.payloadBatch||[]).slice()):!a.useHandle&&(s.status="hide"),s.status==="show"&&i.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:s.value})})}function dispatchTooltipActually(r,t,n,i){if(illegalPoint(t)||!r.list.length){i({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,t,n){var i=n.getZr(),a="axisPointerLastHighlights",o=inner(i)[a]||{},s=inner(i)[a]={};each$4(r,function(c,f){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&each$4(d.seriesDataIndices,function(g){var v=g.seriesIndex+" | "+g.dataIndex;s[v]=g})});var l=[],u=[];each$4(o,function(c,f){!s[f]&&u.push(c)}),each$4(s,function(c,f){!o[f]&&l.push(c)}),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function findInputAxisInfo(r,t){for(var n=0;n<(r||[]).length;n++){var i=r[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function makeMapperParam(r){var t=r.axis.model,n={},i=n.axisDim=r.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$5(r){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),r.registerComponentModel(AxisPointerModel),r.registerComponentView(AxisPointerView),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!isArray(n)&&(t.axisPointer.link=[n])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=collect(t,n)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$4(r){use(install$6),use(install$5)}function makeBackground(r,t){var n=normalizeCssArray(t.get("padding")),i=t.getItemStyle(["color","opacity"]);i.fill=t.get("backgroundColor");var a=new Rect({shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[1]+n[3],height:r.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1});return a}var TooltipModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:tokens.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:tokens.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:tokens.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:tokens.color.tertiary,fontSize:14}},t})(ComponentModel);function shouldTooltipConfine(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function testStyle(r){if(env.domSupported){for(var t=document.documentElement.style,n=0,i=r.length;n<i;n++)if(r[n]in t)return r[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,t){if(!r)return t;t=toCamelCase(t,!0);var n=r.indexOf(t);return r=n===-1?t:"-"+r.slice(0,n)+"-"+t,r.toLowerCase()}function getComputedStyle(r,t){var n=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return n?n[t]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,t,n){if(!isString(n)||n==="inside")return"";var i=r.get("backgroundColor"),a=r.get("borderWidth");t=convertToColorString(t);var o=mirrorPos(n),s=Math.max(Math.round(a)*1.5,6),l="",u=CSS_TRANSFORM_VENDOR+":",c;indexOf(["left","right"],o)>-1?(l+="top:50%",u+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var f=c*Math.PI/180,d=s+a,g=d*Math.abs(Math.cos(f))+d*Math.abs(Math.sin(f)),v=Math.round(((g-Math.SQRT2*a)/2+Math.SQRT2*a-(g-d)/2)*100)/100;l+=";"+o+":-"+v+"px";var y=t+" solid "+a+"px;",_=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",l+";"+u+";","border-bottom:"+y,"border-right:"+y,"background-color:"+i+";"];return'<div style="'+_.join("")+'"></div>'}function assembleTransition(r,t,n){var i="cubic-bezier(0.23,1,0.32,1)",a="",o="";return n&&(a=" "+r/2+"s "+i,o="opacity"+a+",visibility"+a),t||(a=" "+r+"s "+i,o+=(o.length?",":"")+(env.transformSupported?""+CSS_TRANSFORM_VENDOR+a:",left"+a+",top"+a)),CSS_TRANSITION_VENDOR+":"+o}function assembleTransform(r,t,n){var i=r.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!env.transformSupported)return n?"top:"+a+";left:"+i+";":[["top",a],["left",i]];var o=env.transform3dSupported,s="translate"+(o?"3d":"")+"("+i+","+a+(o?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+s+";":[["top",0],["left",0],[TRANSFORM_VENDOR,s]]}function assembleFont(r){var t=[],n=r.get("fontSize"),i=r.getTextColor();i&&t.push("color:"+i),t.push("font:"+r.getFont());var a=retrieve2(r.get("lineHeight"),Math.round(n*3/2));n&&t.push("line-height:"+a+"px");var o=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,l=r.get("textShadowOffsetX")||0,u=r.get("textShadowOffsetY")||0;return o&&s&&t.push("text-shadow:"+l+"px "+u+"px "+s+"px "+o),each$4(["decoration","align"],function(c){var f=r.get(c);f&&t.push("text-"+c+":"+f)}),t.join(";")}function assembleCssText(r,t,n,i){var a=[],o=r.get("transitionDuration"),s=r.get("backgroundColor"),l=r.get("shadowBlur"),u=r.get("shadowColor"),c=r.get("shadowOffsetX"),f=r.get("shadowOffsetY"),d=r.getModel("textStyle"),g=getPaddingFromTooltipModel(r,"html"),v=c+"px "+f+"px "+l+"px "+u;return a.push("box-shadow:"+v),t&&o>0&&a.push(assembleTransition(o,n,i)),s&&a.push("background-color:"+s),each$4(["width","color","radius"],function(y){var _="border-"+y,x=toCamelCase(_),S=r.get(x);S!=null&&a.push(_+":"+S+(y==="color"?"":"px"))}),a.push(assembleFont(d)),g!=null&&a.push("padding:"+normalizeCssArray(g).join("px ")+"px"),a.join(";")+";"}function makeStyleCoord$1(r,t,n,i,a){var o=t&&t.painter;if(n){var s=o&&o.getViewportRoot();s&&transformLocalCoord(r,s,n,i,a)}else{r[0]=i,r[1]=a;var l=o&&o.getViewportRootOffset();l&&(r[0]+=l.offsetLeft,r[1]+=l.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var TooltipHTMLContent=(function(){function r(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),o=n.appendTo,s=o&&(isString(o)?document.querySelector(o):isDom(o)?o:isFunction(o)&&o(t.getDom()));makeStyleCoord$1(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(i),this._api=t,this._container=s;var l=this;i.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!l._enterable){var c=a.handler,f=a.painter.getViewportRoot();normalizeEvent(f,u,!0),c.dispatch("mousemove",u)}},i.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),i=getComputedStyle(n,"position"),a=n.style;a.position!=="absolute"&&i!=="absolute"&&(a.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},r.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,a=i.style,o=this._styleCoord;i.innerHTML?a.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+assembleTransform(o[0],o[1],!0)+("border-color:"+convertToColorString(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,n,i,a,o){var s=this.el;if(t==null){s.innerHTML="";return}var l="";if(isString(o)&&i.get("trigger")==="item"&&!shouldTooltipConfine(i)&&(l=assembleArrow(i,a,o)),isString(t))s.innerHTML=t+l;else if(t){s.innerHTML="",isArray(t)||(t=[t]);for(var u=0;u<t.length;u++)isDom(t[u])&&t[u].parentNode!==s&&s.appendChild(t[u]);if(l&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=l,s.appendChild(c)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,n){if(this.el){var i=this._styleCoord;if(makeStyleCoord$1(i,this._zr,this._container,t,n),i[0]!=null&&i[1]!=null){var a=this.el.style,o=assembleTransform(i[0],i[1]);each$4(o,function(s){a[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){var t=this,n=this.el.style;this._enableDisplayTransition?(n.visibility="hidden",n.opacity="0"):n.display="none",env.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;transformLocalCoordClear(t&&t.painter&&t.painter.getViewportRoot(),this._container);var n=this.el;if(n){n.onmouseenter=n.onmousemove=n.onmouseleave=null;var i=n.parentNode;i&&i.removeChild(n)}this.el=this._container=null},r})(),TooltipRichContent=(function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,n,i,a,o){var s=this;isObject$2(t)&&throwError(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new ZRText({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),each$4(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=i.get(c)}),each$4(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=l.get(c)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),i=calcShadowOuterSize(t.style);return[n.width+i.left+i.right,n.height+i.top+i.bottom]},r.prototype.moveTo=function(t,n){var i=this.el;if(i){var a=this._styleCoord;makeStyleCoord(a,this._zr,t,n),t=a[0],n=a[1];var o=i.style,s=mathMaxWith0(o.borderWidth||0),l=calcShadowOuterSize(o);i.x=t+s+l.left,i.y=n+s+l.top,i.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var t=mathMaxWith0(r.shadowBlur||0),n=mathMaxWith0(r.shadowOffsetX||0),i=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(t-n),right:mathMaxWith0(t+n),top:mathMaxWith0(t-i),bottom:mathMaxWith0(t+i)}}function makeStyleCoord(r,t,n,i){r[0]=n,r[1]=i,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var proxyRect=new Rect({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,i){if(!(env.node||!i.getDom())){var a=n.getComponent("tooltip"),o=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=o==="richText"?new TooltipRichContent(i):new TooltipHTMLContent(i,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},t.prototype.render=function(n,i,a){if(!(env.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=i,this._api=a;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,i=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,o,s){i!=="none"&&(i.indexOf(a)>=0?this._tryShow(o,s):a==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,i=this._ecModel,a=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&s.manuallyShowTip(n,i,a,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,i,a,o){if(!(o.from===this.uid||env.node||!a.getDom())){var s=makeDispatchAction(o,a);this._ticket="";var l=o.dataByCoordSys,u=findComponentReference(o,i,a);if(u){var c=u.el.getBoundingRect().clone();c.applyTransform(u.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:u.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var f=proxyRect;f.x=o.x,f.y=o.y,f.update(),getECData(f).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:f},s)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,i,a,o))return;var d=findPointFromSeries(o,i),g=d.point[0],v=d.point[1];g!=null&&v!=null&&this._tryShow({offsetX:g,offsetY:v,target:d.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:a.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(n,i,a,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(makeDispatchAction(o,a))},t.prototype._manuallyAxisShowTip=function(n,i,a,o){var s=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||l==null||u==null)){var c=i.getSeriesByIndex(s);if(c){var f=c.getData(),d=buildTooltipModel([f.getItemModel(l),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:o.position}),!0}}},t.prototype._tryShow=function(n,i){var a=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var s=n.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,n);else if(a){var l=getECData(a);if(l.ssrType==="legend")return;this._lastDataByCoordSys=null;var u,c;findEventDispatcher(a,function(f){if(f.tooltipDisabled)return u=c=null,!0;u||c||(getECData(f).dataIndex!=null?u=f:getECData(f).tooltipConfig!=null&&(c=f))},!0),u?this._showSeriesItemTooltip(n,u,i):c?this._showComponentItemTooltip(n,c,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(n,i){var a=n.get("showDelay");i=bind$1(i,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(i,a):i()},t.prototype._showAxisTooltip=function(n,i){var a=this._ecModel,o=this._tooltipModel,s=[i.offsetX,i.offsetY],l=buildTooltipModel([i.tooltipOption],o),u=this._renderMode,c=[],f=createTooltipMarkup("section",{blocks:[],noHeader:!0}),d=[],g=new TooltipMarkupStyleCreator;each$4(n,function(b){each$4(b.dataByAxis,function(E){var M=a.getComponent(E.axisDim+"Axis",E.axisIndex),D=E.value;if(!(!M||D==null)){var w=getValueLabel(D,M.axis,a,E.seriesDataIndices,E.valueLabelOpt),I=createTooltipMarkup("section",{header:w,noHeader:!trim(w),sortBlocks:!0,blocks:[]});f.blocks.push(I),each$4(E.seriesDataIndices,function(R){var P=a.getSeriesByIndex(R.seriesIndex),O=R.dataIndexInside,L=P.getDataParams(O);if(!(L.dataIndex<0)){L.axisDim=E.axisDim,L.axisIndex=E.axisIndex,L.axisType=E.axisType,L.axisId=E.axisId,L.axisValue=getAxisRawValue(M.axis,{value:D}),L.axisValueLabel=w,L.marker=g.makeTooltipMarker("item",convertToColorString(L.color),u);var $=normalizeTooltipFormatResult(P.formatTooltip(O,!0,null)),N=$.frag;if(N){var F=buildTooltipModel([P],o).get("valueFormatter");I.blocks.push(F?extend({valueFormatter:F},N):N)}$.text&&d.push($.text),c.push(L)}})}})}),f.blocks.reverse(),d.reverse();var v=i.position,y=l.get("order"),_=buildTooltipMarkup(f,g,u,y,a.get("useUTC"),l.get("textStyle"));_&&d.unshift(_);var x=u==="richText"?`

`:"<br/>",S=d.join(x);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(n,c)?this._updatePosition(l,v,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(l,S,c,Math.random()+"",s[0],s[1],v,null,g)})},t.prototype._showSeriesItemTooltip=function(n,i,a){var o=this._ecModel,s=getECData(i),l=s.seriesIndex,u=o.getSeriesByIndex(l),c=s.dataModel||u,f=s.dataIndex,d=s.dataType,g=c.getData(d),v=this._renderMode,y=n.positionDefault,_=buildTooltipModel([g.getItemModel(f),c,u&&(u.coordinateSystem||{}).model],this._tooltipModel,y?{position:y}:null),x=_.get("trigger");if(!(x!=null&&x!=="item")){var S=c.getDataParams(f,d),b=new TooltipMarkupStyleCreator;S.marker=b.makeTooltipMarker("item",convertToColorString(S.color),v);var E=normalizeTooltipFormatResult(c.formatTooltip(f,!1,d)),M=_.get("order"),D=_.get("valueFormatter"),w=E.frag,I=w?buildTooltipMarkup(D?extend({valueFormatter:D},w):w,b,v,M,o.get("useUTC"),_.get("textStyle")):E.text,R="item_"+c.name+"_"+f;this._showOrMove(_,function(){this._showTooltipContent(_,I,S,R,n.offsetX,n.offsetY,n.position,n.target,b)}),a({type:"showTip",dataIndexInside:f,dataIndex:g.getRawIndex(f),seriesIndex:l,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,i,a){var o=this._renderMode==="html",s=getECData(i),l=s.tooltipConfig,u=l.option||{},c=u.encodeHTMLContent;if(isString(u)){var f=u;u={content:f,formatter:f},c=!0}c&&o&&u.content&&(u=clone$2(u),u.content=encodeHTML(u.content));var d=[u],g=this._ecModel.getComponent(s.componentMainType,s.componentIndex);g&&d.push(g),d.push({formatter:u.content});var v=n.positionDefault,y=buildTooltipModel(d,this._tooltipModel,v?{position:v}:null),_=y.get("content"),x=Math.random()+"",S=new TooltipMarkupStyleCreator;this._showOrMove(y,function(){var b=clone$2(y.get("formatterParams")||{});this._showTooltipContent(y,_,b,x,n.offsetX,n.offsetY,n.position,i,S)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,i,a,o,s,l,u,c,f){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var d=this._tooltipContent;d.setEnterable(n.get("enterable"));var g=n.get("formatter");u=u||n.get("position");var v=i,y=this._getNearestPoint([s,l],a,n.get("trigger"),n.get("borderColor"),n.get("defaultBorderColor",!0)),_=y.color;if(g)if(isString(g)){var x=n.ecModel.get("useUTC"),S=isArray(a)?a[0]:a,b=S&&S.axisType&&S.axisType.indexOf("time")>=0;v=g,b&&(v=format(S.axisValue,v,x)),v=formatTpl(v,a,!0)}else if(isFunction(g)){var E=bind$1(function(M,D){M===this._ticket&&(d.setContent(D,f,n,_,u),this._updatePosition(n,u,s,l,d,a,c))},this);this._ticket=o,v=g(a,o,E)}else v=g;d.setContent(v,f,n,_,u),d.show(n,_),this._updatePosition(n,u,s,l,d,a,c)}},t.prototype._getNearestPoint=function(n,i,a,o,s){if(a==="axis"||isArray(i))return{color:o||s};if(!isArray(i))return{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(n,i,a,o,s,l,u){var c=this._api.getWidth(),f=this._api.getHeight();i=i||n.get("position");var d=s.getSize(),g=n.get("align"),v=n.get("verticalAlign"),y=u&&u.getBoundingRect().clone();if(u&&y.applyTransform(u.transform),isFunction(i)&&(i=i([a,o],l,s.el,y,{viewSize:[c,f],contentSize:d.slice()})),isArray(i))a=parsePercent(i[0],c),o=parsePercent(i[1],f);else if(isObject$2(i)){var _=i;_.width=d[0],_.height=d[1];var x=getLayoutRect(_,{width:c,height:f});a=x.x,o=x.y,g=null,v=null}else if(isString(i)&&u){var S=calcTooltipPosition(i,y,d,n.get("borderWidth"));a=S[0],o=S[1]}else{var S=refixTooltipPosition(a,o,s,c,f,g?null:20,v?null:20);a=S[0],o=S[1]}if(g&&(a-=isCenterAlign(g)?d[0]/2:g==="right"?d[0]:0),v&&(o-=isCenterAlign(v)?d[1]/2:v==="bottom"?d[1]:0),shouldTooltipConfine(n)){var S=confineTooltipPosition(a,o,s,c,f);a=S[0],o=S[1]}s.moveTo(a,o)},t.prototype._updateContentNotChangedOnAxis=function(n,i){var a=this._lastDataByCoordSys,o=this._cbParamsList,s=!!a&&a.length===n.length;return s&&each$4(a,function(l,u){var c=l.dataByAxis||[],f=n[u]||{},d=f.dataByAxis||[];s=s&&c.length===d.length,s&&each$4(c,function(g,v){var y=d[v]||{},_=g.seriesDataIndices||[],x=y.seriesDataIndices||[];s=s&&g.value===y.value&&g.axisType===y.axisType&&g.axisId===y.axisId&&_.length===x.length,s&&each$4(_,function(S,b){var E=x[b];s=s&&S.seriesIndex===E.seriesIndex&&S.dataIndex===E.dataIndex}),o&&each$4(g.seriesDataIndices,function(S){var b=S.seriesIndex,E=i[b],M=o[b];E&&M&&M.data!==E.data&&(s=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=i,!!s},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,i){env.node||!i.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",i))},t.type="tooltip",t})(ComponentView);function buildTooltipModel(r,t,n){var i=t.ecModel,a;n?(a=new Model(n,i,i),a=new Model(t.option,a,i)):a=t;for(var o=r.length-1;o>=0;o--){var s=r[o];s&&(s instanceof Model&&(s=s.get("tooltip",!0)),isString(s)&&(s={formatter:s}),s&&(a=new Model(s,a,i)))}return a}function makeDispatchAction(r,t){return r.dispatchAction||bind$1(t.dispatchAction,t)}function refixTooltipPosition(r,t,n,i,a,o,s){var l=n.getSize(),u=l[0],c=l[1];return o!=null&&(r+u+o+2>i?r-=u+o:r+=o),s!=null&&(t+c+s>a?t-=c+s:t+=s),[r,t]}function confineTooltipPosition(r,t,n,i,a){var o=n.getSize(),s=o[0],l=o[1];return r=Math.min(r+s,i)-s,t=Math.min(t+l,a)-l,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function calcTooltipPosition(r,t,n,i){var a=n[0],o=n[1],s=Math.ceil(Math.SQRT2*i)+8,l=0,u=0,c=t.width,f=t.height;switch(r){case"inside":l=t.x+c/2-a/2,u=t.y+f/2-o/2;break;case"top":l=t.x+c/2-a/2,u=t.y-o-s;break;case"bottom":l=t.x+c/2-a/2,u=t.y+f+s;break;case"left":l=t.x-a-s,u=t.y+f/2-o/2;break;case"right":l=t.x+c+s,u=t.y+f/2-o/2}return[l,u]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,t,n){var i=preParseFinder(r).queryOptionMap,a=i.keys()[0];if(!(!a||a==="series")){var o=queryReferringComponents(t,a,i.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var l=n.getViewOfComponentModel(s),u;if(l.group.traverse(function(c){var f=getECData(c).tooltipConfig;if(f&&f.name===r.name)return u=c,!0}),u)return{componentMainType:a,componentIndex:s.componentIndex,el:u}}}}function install$3(r){use(install$5),r.registerComponentModel(TooltipModel),r.registerComponentView(TooltipView),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var getDefaultSelectorOptions=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,i,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,i){r.prototype.mergeOption.call(this,n,i),this._updateSelector(n)},t.prototype._updateSelector=function(n){var i=n.selector,a=this.ecModel;i===!0&&(i=n.selector=["all","inverse"]),isArray(i)&&each$4(i,function(o,s){isString(o)&&(o={type:o}),i[s]=merge(o,getDefaultSelectorOptions(a,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var i=!1,a=0;a<n.length;a++){var o=n[a].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var i=[],a=[];n.eachRawSeries(function(u){var c=u.name;a.push(c);var f;if(u.legendVisualProvider){var d=u.legendVisualProvider,g=d.getAllNames();n.isSeriesFiltered(u)||(a=a.concat(g)),g.length?i=i.concat(g):f=!0}else f=!0;f&&isNameSpecified(u)&&i.push(u.name)}),this._availableNames=a;var o=this.get("data")||i,s=createHashMap(),l=map$1(o,function(u){return(isString(u)||isNumber(u))&&(u={name:u}),s.get(u.name)?null:(s.set(u.name,!0),new Model(u,this,this.ecModel))},this);this._data=filter(l,function(u){return!!u})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var i=this.option.selected,a=this.get("selectedMode");if(a==="single"){var o=this._data;each$4(o,function(s){i[s.get("name")]=!1})}i[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var i=this.option.selected;i.hasOwnProperty(n)||(i[n]=!0),this[i[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,i=this.option.selected;each$4(n,function(a){i[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,i=this.option.selected;each$4(n,function(a){var o=a.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(n){var i=this.option.selected;return!(i.hasOwnProperty(n)&&!i[n])&&indexOf(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:tokens.size.m,align:"auto",backgroundColor:tokens.color.transparent,borderColor:tokens.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:tokens.color.disabled,inactiveBorderColor:tokens.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:tokens.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:tokens.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:tokens.color.tertiary,borderWidth:1,borderColor:tokens.color.border},emphasis:{selectorLabel:{show:!0,color:tokens.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(ComponentModel),curry=curry$1,each=each$4,Group$1=Group$2,LegendView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,i,a){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var s=n.get("align"),l=n.get("orient");(!s||s==="auto")&&(s=n.get("left")==="right"&&l==="vertical"?"right":"left");var u=n.get("selector",!0),c=n.get("selectorPosition",!0);u&&(!c||c==="auto")&&(c=l==="horizontal"?"end":"start"),this.renderInner(s,n,i,a,u,l,c);var f=createBoxLayoutReference(n,a).refContainer,d=n.getBoxLayoutParams(),g=n.get("padding"),v=getLayoutRect(d,f,g),y=this.layoutInner(n,s,v,o,u,c),_=getLayoutRect(defaults({width:y.width,height:y.height},d),f,g);this.group.x=_.x-y.x,this.group.y=_.y-y.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(y,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,i,a,o,s,l,u){var c=this.getContentGroup(),f=createHashMap(),d=i.get("selectedMode"),g=i.get("triggerEvent"),v=[];a.eachRawSeries(function(y){!y.get("legendHoverLink")&&v.push(y.id)}),each(i.getData(),function(y,_){var x=this,S=y.get("name");if(!this.newlineDisabled&&(S===""||S===`
`)){var b=new Group$1;b.newline=!0,c.add(b);return}var E=a.getSeriesByName(S)[0];if(!f.get(S))if(E){var M=E.getData(),D=M.getVisual("legendLineStyle")||{},w=M.getVisual("legendIcon"),I=M.getVisual("style"),R=this._createItem(E,S,_,y,i,n,D,I,w,d,o);R.on("click",curry(dispatchSelectAction,S,null,o,v)).on("mouseover",curry(dispatchHighlightAction,E.name,null,o,v)).on("mouseout",curry(dispatchDownplayAction,E.name,null,o,v)),a.ssr&&R.eachChild(function(P){var O=getECData(P);O.seriesIndex=E.seriesIndex,O.dataIndex=_,O.ssrType="legend"}),g&&R.eachChild(function(P){x.packEventData(P,i,E,_,S)}),f.set(S,!0)}else a.eachRawSeries(function(P){var O=this;if(!f.get(S)&&P.legendVisualProvider){var L=P.legendVisualProvider;if(!L.containName(S))return;var $=L.indexOfName(S),N=L.getItemVisual($,"style"),F=L.getItemVisual($,"legendIcon"),Y=parse(N.fill);Y&&Y[3]===0&&(Y[3]=.2,N=extend(extend({},N),{fill:stringify(Y,"rgba")}));var G=this._createItem(P,S,_,y,i,n,{},N,F,d,o);G.on("click",curry(dispatchSelectAction,null,S,o,v)).on("mouseover",curry(dispatchHighlightAction,null,S,o,v)).on("mouseout",curry(dispatchDownplayAction,null,S,o,v)),a.ssr&&G.eachChild(function(W){var U=getECData(W);U.seriesIndex=P.seriesIndex,U.dataIndex=_,U.ssrType="legend"}),g&&G.eachChild(function(W){O.packEventData(W,i,P,_,S)}),f.set(S,!0)}},this)},this),s&&this._createSelector(s,i,o,l,u)},t.prototype.packEventData=function(n,i,a,o,s){var l={componentType:"legend",componentIndex:i.componentIndex,dataIndex:o,value:s,seriesIndex:a.seriesIndex};getECData(n).eventData=l},t.prototype._createSelector=function(n,i,a,o,s){var l=this.getSelectorGroup();each(n,function(c){var f=c.type,d=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});l.add(d);var g=i.getModel("selectorLabel"),v=i.getModel(["emphasis","selectorLabel"]);setLabelStyle(d,{normal:g,emphasis:v},{defaultText:c.title}),enableHoverEmphasis(d)})},t.prototype._createItem=function(n,i,a,o,s,l,u,c,f,d,g){var v=n.visualDrawType,y=s.get("itemWidth"),_=s.get("itemHeight"),x=s.isSelected(i),S=o.get("symbolRotate"),b=o.get("symbolKeepAspect"),E=o.get("icon");f=E||f||"roundRect";var M=getLegendStyle(f,o,u,c,v,x,g),D=new Group$1,w=o.getModel("textStyle");if(isFunction(n.getLegendIcon)&&(!E||E==="inherit"))D.add(n.getLegendIcon({itemWidth:y,itemHeight:_,icon:f,iconRotate:S,itemStyle:M.itemStyle,lineStyle:M.lineStyle,symbolKeepAspect:b}));else{var I=E==="inherit"&&n.getData().getVisual("symbol")?S==="inherit"?n.getData().getVisual("symbolRotate"):S:0;D.add(getDefaultLegendIcon({itemWidth:y,itemHeight:_,icon:f,iconRotate:I,itemStyle:M.itemStyle,symbolKeepAspect:b}))}var R=l==="left"?y+5:-5,P=l,O=s.get("formatter"),L=i;isString(O)&&O?L=O.replace("{name}",i??""):isFunction(O)&&(L=O(i));var $=x?w.getTextColor():o.get("inactiveColor");D.add(new ZRText({style:createTextStyle(w,{text:L,x:R,y:_/2,fill:$,align:P,verticalAlign:"middle"},{inheritColor:$})}));var N=new Rect({shape:D.getBoundingRect(),style:{fill:"transparent"}}),F=o.getModel("tooltip");return F.get("show")&&setTooltipConfig({el:N,componentModel:s,itemName:i,itemTooltipOption:F.option}),D.add(N),D.eachChild(function(Y){Y.silent=!0}),N.silent=!d,this.getContentGroup().add(D),enableHoverEmphasis(D),D.__legendDataIndex=a,D},t.prototype.layoutInner=function(n,i,a,o,s,l){var u=this.getContentGroup(),c=this.getSelectorGroup();box(n.get("orient"),u,n.get("itemGap"),a.width,a.height);var f=u.getBoundingRect(),d=[-f.x,-f.y];if(c.markRedraw(),u.markRedraw(),s){box("horizontal",c,n.get("selectorItemGap",!0));var g=c.getBoundingRect(),v=[-g.x,-g.y],y=n.get("selectorButtonGap",!0),_=n.getOrient().index,x=_===0?"width":"height",S=_===0?"height":"width",b=_===0?"y":"x";l==="end"?v[_]+=f[x]+y:d[_]+=g[x]+y,v[1-_]+=f[S]/2-g[S]/2,c.x=v[0],c.y=v[1],u.x=d[0],u.y=d[1];var E={x:0,y:0};return E[x]=f[x]+y+g[x],E[S]=Math.max(f[S],g[S]),E[b]=Math.min(0,g[b]+v[1-_]),E}else return u.x=d[0],u.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(ComponentView);function getLegendStyle(r,t,n,i,a,o,s){function l(x,S){x.lineWidth==="auto"&&(x.lineWidth=S.lineWidth>0?2:0),each(x,function(b,E){x[E]==="inherit"&&(x[E]=S[E])})}var u=t.getModel("itemStyle"),c=u.getItemStyle(),f=r.lastIndexOf("empty",0)===0?"fill":"stroke",d=u.getShallow("decal");c.decal=!d||d==="inherit"?i.decal:createOrUpdatePatternFromDecal(d,s),c.fill==="inherit"&&(c.fill=i[a]),c.stroke==="inherit"&&(c.stroke=i[f]),c.opacity==="inherit"&&(c.opacity=(a==="fill"?i:n).opacity),l(c,i);var g=t.getModel("lineStyle"),v=g.getLineStyle();if(l(v,n),c.fill==="auto"&&(c.fill=i.fill),c.stroke==="auto"&&(c.stroke=i.fill),v.stroke==="auto"&&(v.stroke=i.fill),!o){var y=t.get("inactiveBorderWidth"),_=c[f];c.lineWidth=y==="auto"?i.lineWidth>0&&_?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),v.stroke=g.get("inactiveColor"),v.lineWidth=g.get("inactiveWidth")}return{itemStyle:c,lineStyle:v}}function getDefaultLegendIcon(r){var t=r.icon||"roundRect",n=createSymbol(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return n.setStyle(r.itemStyle),n.rotation=(r.iconRotate||0)*Math.PI/180,n.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill=tokens.color.neutral00,n.style.lineWidth=2),n}function dispatchSelectAction(r,t,n,i){dispatchDownplayAction(r,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:r??t}),dispatchHighlightAction(r,t,n,i)}function isUseHoverLayer(r){for(var t=r.getZr().storage.getDisplayList(),n,i=0,a=t.length;i<a&&!(n=t[i].states.emphasis);)i++;return n&&n.hoverLayer}function dispatchHighlightAction(r,t,n,i){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:i})}function dispatchDownplayAction(r,t,n,i){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:i})}function legendFilter(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(r,t,n){var i=r==="allSelect"||r==="inverseSelect",a={},o=[];n.eachComponent({mainType:"legend",query:t},function(l){i?l[r]():l[r](t.name),makeSelectedMap(l,a),o.push(l.componentIndex)});var s={};return n.eachComponent("legend",function(l){each$4(a,function(u,c){l[u?"select":"unSelect"](c)}),makeSelectedMap(l,s)}),i?{selected:s,legendIndex:o}:{name:t.name,selected:s}}function makeSelectedMap(r,t){var n=t||{};return each$4(r.getData(),function(i){var a=i.get("name");if(!(a===`
`||a==="")){var o=r.isSelected(a);hasOwn(n,a)?n[a]=n[a]&&o:n[a]=o}}),n}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$2(r){r.registerComponentModel(LegendModel),r.registerComponentView(LegendView),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,i,a){var o=getLayoutParams(n);r.prototype.init.call(this,n,i,a),mergeAndNormalizeLayoutParams(this,n,o)},t.prototype.mergeOption=function(n,i){r.prototype.mergeOption.call(this,n,i),mergeAndNormalizeLayoutParams(this,this.option,n)},t.type="legend.scroll",t.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:tokens.color.accent50,pageIconInactiveColor:tokens.color.accent10,pageIconSize:15,pageTextStyle:{color:tokens.color.tertiary},animationDurationUpdate:800}),t})(LegendModel);function mergeAndNormalizeLayoutParams(r,t,n){var i=r.getOrient(),a=[1,1];a[i.index]=0,mergeLayoutParam(t,n,{type:"box",ignoreSize:!!a})}var Group=Group$2,WH=["width","height"],XY=["x","y"],ScrollableLegendView=(function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,i,a,o,s,l,u){var c=this;r.prototype.renderInner.call(this,n,i,a,o,s,l,u);var f=this._controllerGroup,d=i.get("pageIconSize",!0),g=isArray(d)?d:[d,d];y("pagePrev",0);var v=i.getModel("pageTextStyle");f.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),y("pageNext",1);function y(_,x){var S=_+"DataIndex",b=createIcon(i.get("pageIcons",!0)[i.getOrient().name][x],{onclick:bind$1(c._pageGo,c,S,i,o)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});b.name=_,f.add(b)}},t.prototype.layoutInner=function(n,i,a,o,s,l){var u=this.getSelectorGroup(),c=n.getOrient().index,f=WH[c],d=XY[c],g=WH[1-c],v=XY[1-c];s&&box("horizontal",u,n.get("selectorItemGap",!0));var y=n.get("selectorButtonGap",!0),_=u.getBoundingRect(),x=[-_.x,-_.y],S=clone$2(a);s&&(S[f]=a[f]-_[f]-y);var b=this._layoutContentAndController(n,o,S,c,f,g,v,d);if(s){if(l==="end")x[c]+=b[f]+y;else{var E=_[f]+y;x[c]-=E,b[d]-=E}b[f]+=_[f]+y,x[1-c]+=b[v]+b[g]/2-_[g]/2,b[g]=Math.max(b[g],_[g]),b[v]=Math.min(b[v],_[v]+x[1-c]),u.x=x[0],u.y=x[1],u.markRedraw()}return b},t.prototype._layoutContentAndController=function(n,i,a,o,s,l,u,c){var f=this.getContentGroup(),d=this._containerGroup,g=this._controllerGroup;box(n.get("orient"),f,n.get("itemGap"),o?a.width:null,o?null:a.height),box("horizontal",g,n.get("pageButtonItemGap",!0));var v=f.getBoundingRect(),y=g.getBoundingRect(),_=this._showController=v[s]>a[s],x=[-v.x,-v.y];i||(x[o]=f[c]);var S=[0,0],b=[-y.x,-y.y],E=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(_){var M=n.get("pageButtonPosition",!0);M==="end"?b[o]+=a[s]-y[s]:S[o]+=y[s]+E}b[1-o]+=v[l]/2-y[l]/2,f.setPosition(x),d.setPosition(S),g.setPosition(b);var D={x:0,y:0};if(D[s]=_?a[s]:v[s],D[l]=Math.max(v[l],y[l]),D[u]=Math.min(0,y[u]+b[1-o]),d.__rectSize=a[s],_){var w={x:0,y:0};w[s]=Math.max(a[s]-y[s]-E,0),w[l]=D[l],d.setClipPath(new Rect({shape:w})),d.__rectSize=w[s]}else g.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var I=this._getPageInfo(n);return I.pageIndex!=null&&updateProps$1(f,{x:I.contentPosition[0],y:I.contentPosition[1]},_?n:null),this._updatePageInfoView(n,I),D},t.prototype._pageGo=function(n,i,a){var o=this._getPageInfo(i)[n];o!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(n,i){var a=this._controllerGroup;each$4(["pagePrev","pageNext"],function(f){var d=f+"DataIndex",g=i[d]!=null,v=a.childOfName(f);v&&(v.setStyle("fill",g?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),v.cursor=g?"pointer":"default")});var o=a.childOfName("pageText"),s=n.get("pageFormatter"),l=i.pageIndex,u=l!=null?l+1:0,c=i.pageCount;o&&s&&o.setStyle("text",isString(s)?s.replace("{current}",u==null?"":u+"").replace("{total}",c==null?"":c+""):s({current:u,total:c}))},t.prototype._getPageInfo=function(n){var i=n.get("scrollDataIndex",!0),a=this.getContentGroup(),o=this._containerGroup.__rectSize,s=n.getOrient().index,l=WH[s],u=XY[s],c=this._findTargetItemIndex(i),f=a.children(),d=f[c],g=f.length,v=g?1:0,y={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return y;var _=M(d);y.contentPosition[s]=-_.s;for(var x=c+1,S=_,b=_,E=null;x<=g;++x)E=M(f[x]),(!E&&b.e>S.s+o||E&&!D(E,S.s))&&(b.i>S.i?S=b:S=E,S&&(y.pageNextDataIndex==null&&(y.pageNextDataIndex=S.i),++y.pageCount)),b=E;for(var x=c-1,S=_,b=_,E=null;x>=-1;--x)E=M(f[x]),(!E||!D(b,E.s))&&S.i<b.i&&(b=S,y.pagePrevDataIndex==null&&(y.pagePrevDataIndex=S.i),++y.pageCount,++y.pageIndex),S=E;return y;function M(w){if(w){var I=w.getBoundingRect(),R=I[u]+w[u];return{s:R,e:R+I[l],i:w.__legendDataIndex}}}function D(w,I){return w.e>=I&&w.s<=I+o}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var i,a=this.getContentGroup(),o;return a.eachChild(function(s,l){var u=s.__legendDataIndex;o==null&&u!=null&&(o=l),u===n&&(i=l)}),i??o},t.type="legend.scroll",t})(LegendView);function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(t,n){var i=t.scrollDataIndex;i!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(i)})})}function install$1(r){use(install$2),r.registerComponentModel(ScrollableLegendModel),r.registerComponentView(ScrollableLegendView),installScrollableLegendAction(r)}function install(r){use(install$2),use(install$1)}use([install$9,install$8,install$7,install$4,install$3,install]);const app=createApp(_sfc_main);app.component("v-chart",src_default);app.mount("#app");
